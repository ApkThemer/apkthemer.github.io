(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const C of document.querySelectorAll('link[rel="modulepreload"]'))E(C);new MutationObserver(C=>{for(const c of C)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&E(s)}).observe(document,{childList:!0,subtree:!0});function r(C){const c={};return C.integrity&&(c.integrity=C.integrity),C.referrerPolicy&&(c.referrerPolicy=C.referrerPolicy),C.crossOrigin==="use-credentials"?c.credentials="include":C.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function E(C){if(C.ep)return;C.ep=!0;const c=r(C);fetch(C.href,c)}})();var Te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ra(a){if(a.__esModule)return a;var t=a.default;if(typeof t=="function"){var r=function E(){return this instanceof E?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(a).forEach(function(E){var C=Object.getOwnPropertyDescriptor(a,E);Object.defineProperty(r,E,C.get?C:{enumerable:!0,get:function(){return a[E]}})}),r}var xn={},jt={},Et={},Je={};Object.defineProperty(Je,"__esModule",{value:!0});Je.InputValidationError=Je.KeyReadingError=Je.KeyGenerationError=Je.ZipError=void 0;class ia extends Error{constructor(t){t=`android-package-sign-js ZipError : ${t}`,super(t),this.name="ZipError"}}Je.ZipError=ia;class na extends Error{constructor(t){t=`android-package-sign-js KeyGenerationError : ${t}`,super(t),this.name="KeyGenerationError"}}Je.KeyGenerationError=na;class aa extends Error{constructor(t){t=`android-package-sign-js KeyReadingError : ${t}`,super(t),this.name="KeyReadingError"}}Je.KeyReadingError=aa;class sa extends Error{constructor(t){t=`android-package-sign-js InputValidationError : ${t}`,super(t),this.name="InputValidationError"}}Je.InputValidationError=sa;Object.defineProperty(Et,"__esModule",{value:!0});Et.validateInput=Et.validateDName=void 0;const ii=Je;function oa(a){Ut(a.commonName,1,0),Ut(a.organizationName,1,0),Ut(a.organizationUnit,1,0),Ut(a.countryCode,1,2)}Et.validateDName=oa;function Ut(a,t,r){if(a.length>r&&r!=0)throw new ii.InputValidationError(`${a} exceeded the maxLength of ${r}`);if(a.length<t)throw new ii.InputValidationError(`${a} needs to be longer than ${t}`)}Et.validateInput=Ut;var dt={};Object.defineProperty(dt,"__esModule",{value:!0});dt.formatAlias=dt.wrapLongStrings=void 0;function ua(a){let t=a.length;const r=`\r
 `;let E=0;if(t==70)return a;for(t>70&&(t-=70,E=70,a=ni(a,r,E),E+=5,t-=69);t>69;)t-=69,E+=69,a=ni(a,r,E),E+=5;return a}dt.wrapLongStrings=ua;function ni(a,t,r){const E=a.substr(0,r),C=a.substr(r,a.length);return E.concat(t,C)}function la(a){let t=a;return a.length>8&&(t=a.substr(0,8)),t.toUpperCase()}dt.formatAlias=la;var pt={},$t,ai;function we(){return ai||(ai=1,$t={options:{usePureJavaScript:!1}}),$t}var Jt={exports:{}},er,si;function fa(){if(si)return er;si=1;var a={};er=a;var t={};a.encode=function(E,C,c){if(typeof C!="string")throw new TypeError('"alphabet" must be a string.');if(c!==void 0&&typeof c!="number")throw new TypeError('"maxline" must be a number.');var s="";if(!(E instanceof Uint8Array))s=r(E,C);else{var e=0,d=C.length,u=C.charAt(0),x=[0];for(e=0;e<E.length;++e){for(var I=0,m=E[e];I<x.length;++I)m+=x[I]<<8,x[I]=m%d,m=m/d|0;for(;m>0;)x.push(m%d),m=m/d|0}for(e=0;E[e]===0&&e<E.length-1;++e)s+=u;for(e=x.length-1;e>=0;--e)s+=C[x[e]]}if(c){var i=new RegExp(".{1,"+c+"}","g");s=s.match(i).join(`\r
`)}return s},a.decode=function(E,C){if(typeof E!="string")throw new TypeError('"input" must be a string.');if(typeof C!="string")throw new TypeError('"alphabet" must be a string.');var c=t[C];if(!c){c=t[C]=[];for(var s=0;s<C.length;++s)c[C.charCodeAt(s)]=s}E=E.replace(/\s/g,"");for(var e=C.length,d=C.charAt(0),u=[0],s=0;s<E.length;s++){var x=c[E.charCodeAt(s)];if(x===void 0)return;for(var I=0,m=x;I<u.length;++I)m+=u[I]*e,u[I]=m&255,m>>=8;for(;m>0;)u.push(m&255),m>>=8}for(var i=0;E[i]===d&&i<E.length-1;++i)u.push(0);return typeof Buffer<"u"?Buffer.from(u.reverse()):new Uint8Array(u.reverse())};function r(E,C){var c=0,s=C.length,e=C.charAt(0),d=[0];for(c=0;c<E.length();++c){for(var u=0,x=E.at(c);u<d.length;++u)x+=d[u]<<8,d[u]=x%s,x=x/s|0;for(;x>0;)d.push(x%s),x=x/s|0}var I="";for(c=0;E.at(c)===0&&c<E.length()-1;++c)I+=e;for(c=d.length-1;c>=0;--c)I+=C[d[c]];return I}return er}var oi;function Re(){if(oi)return Jt.exports;oi=1;var a=we(),t=fa(),r=Jt.exports=a.util=a.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){r.nextTick=process.nextTick,typeof setImmediate=="function"?r.setImmediate=setImmediate:r.setImmediate=r.nextTick;return}if(typeof setImmediate=="function"){r.setImmediate=function(){return setImmediate.apply(void 0,arguments)},r.nextTick=function(N){return setImmediate(N)};return}if(r.setImmediate=function(N){setTimeout(N,0)},typeof window<"u"&&typeof window.postMessage=="function"){let N=function(R){if(R.source===window&&R.data===n){R.stopPropagation();var L=y.slice();y.length=0,L.forEach(function(D){D()})}};var h=N,n="forge.setImmediate",y=[];r.setImmediate=function(R){y.push(R),y.length===1&&window.postMessage(n,"*")},window.addEventListener("message",N,!0)}if(typeof MutationObserver<"u"){var o=Date.now(),f=!0,l=document.createElement("div"),y=[];new MutationObserver(function(){var R=y.slice();y.length=0,R.forEach(function(L){L()})}).observe(l,{attributes:!0});var b=r.setImmediate;r.setImmediate=function(R){Date.now()-o>15?(o=Date.now(),b(R)):(y.push(R),y.length===1&&l.setAttribute("a",f=!f))}}r.nextTick=r.setImmediate})(),r.isNodejs=typeof process<"u"&&process.versions&&process.versions.node,r.globalScope=function(){return r.isNodejs?Te:typeof self>"u"?window:self}(),r.isArray=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"},r.isArrayBuffer=function(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer},r.isArrayBufferView=function(n){return n&&r.isArrayBuffer(n.buffer)&&n.byteLength!==void 0};function E(n){if(!(n===8||n===16||n===24||n===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+n)}r.ByteBuffer=C;function C(n){if(this.data="",this.read=0,typeof n=="string")this.data=n;else if(r.isArrayBuffer(n)||r.isArrayBufferView(n))if(typeof Buffer<"u"&&n instanceof Buffer)this.data=n.toString("binary");else{var y=new Uint8Array(n);try{this.data=String.fromCharCode.apply(null,y)}catch{for(var o=0;o<y.length;++o)this.putByte(y[o])}}else(n instanceof C||typeof n=="object"&&typeof n.data=="string"&&typeof n.read=="number")&&(this.data=n.data,this.read=n.read);this._constructedStringLength=0}r.ByteStringBuffer=C;var c=4096;r.ByteStringBuffer.prototype._optimizeConstructedString=function(n){this._constructedStringLength+=n,this._constructedStringLength>c&&(this.data.substr(0,1),this._constructedStringLength=0)},r.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},r.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},r.ByteStringBuffer.prototype.putByte=function(n){return this.putBytes(String.fromCharCode(n))},r.ByteStringBuffer.prototype.fillWithByte=function(n,y){n=String.fromCharCode(n);for(var o=this.data;y>0;)y&1&&(o+=n),y>>>=1,y>0&&(n+=n);return this.data=o,this._optimizeConstructedString(y),this},r.ByteStringBuffer.prototype.putBytes=function(n){return this.data+=n,this._optimizeConstructedString(n.length),this},r.ByteStringBuffer.prototype.putString=function(n){return this.putBytes(r.encodeUtf8(n))},r.ByteStringBuffer.prototype.putInt16=function(n){return this.putBytes(String.fromCharCode(n>>8&255)+String.fromCharCode(n&255))},r.ByteStringBuffer.prototype.putInt24=function(n){return this.putBytes(String.fromCharCode(n>>16&255)+String.fromCharCode(n>>8&255)+String.fromCharCode(n&255))},r.ByteStringBuffer.prototype.putInt32=function(n){return this.putBytes(String.fromCharCode(n>>24&255)+String.fromCharCode(n>>16&255)+String.fromCharCode(n>>8&255)+String.fromCharCode(n&255))},r.ByteStringBuffer.prototype.putInt16Le=function(n){return this.putBytes(String.fromCharCode(n&255)+String.fromCharCode(n>>8&255))},r.ByteStringBuffer.prototype.putInt24Le=function(n){return this.putBytes(String.fromCharCode(n&255)+String.fromCharCode(n>>8&255)+String.fromCharCode(n>>16&255))},r.ByteStringBuffer.prototype.putInt32Le=function(n){return this.putBytes(String.fromCharCode(n&255)+String.fromCharCode(n>>8&255)+String.fromCharCode(n>>16&255)+String.fromCharCode(n>>24&255))},r.ByteStringBuffer.prototype.putInt=function(n,y){E(y);var o="";do y-=8,o+=String.fromCharCode(n>>y&255);while(y>0);return this.putBytes(o)},r.ByteStringBuffer.prototype.putSignedInt=function(n,y){return n<0&&(n+=2<<y-1),this.putInt(n,y)},r.ByteStringBuffer.prototype.putBuffer=function(n){return this.putBytes(n.getBytes())},r.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},r.ByteStringBuffer.prototype.getInt16=function(){var n=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,n},r.ByteStringBuffer.prototype.getInt24=function(){var n=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,n},r.ByteStringBuffer.prototype.getInt32=function(){var n=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,n},r.ByteStringBuffer.prototype.getInt16Le=function(){var n=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,n},r.ByteStringBuffer.prototype.getInt24Le=function(){var n=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,n},r.ByteStringBuffer.prototype.getInt32Le=function(){var n=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,n},r.ByteStringBuffer.prototype.getInt=function(n){E(n);var y=0;do y=(y<<8)+this.data.charCodeAt(this.read++),n-=8;while(n>0);return y},r.ByteStringBuffer.prototype.getSignedInt=function(n){var y=this.getInt(n),o=2<<n-2;return y>=o&&(y-=o<<1),y},r.ByteStringBuffer.prototype.getBytes=function(n){var y;return n?(n=Math.min(this.length(),n),y=this.data.slice(this.read,this.read+n),this.read+=n):n===0?y="":(y=this.read===0?this.data:this.data.slice(this.read),this.clear()),y},r.ByteStringBuffer.prototype.bytes=function(n){return typeof n>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+n)},r.ByteStringBuffer.prototype.at=function(n){return this.data.charCodeAt(this.read+n)},r.ByteStringBuffer.prototype.setAt=function(n,y){return this.data=this.data.substr(0,this.read+n)+String.fromCharCode(y)+this.data.substr(this.read+n+1),this},r.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},r.ByteStringBuffer.prototype.copy=function(){var n=r.createBuffer(this.data);return n.read=this.read,n},r.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},r.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},r.ByteStringBuffer.prototype.truncate=function(n){var y=Math.max(0,this.length()-n);return this.data=this.data.substr(this.read,y),this.read=0,this},r.ByteStringBuffer.prototype.toHex=function(){for(var n="",y=this.read;y<this.data.length;++y){var o=this.data.charCodeAt(y);o<16&&(n+="0"),n+=o.toString(16)}return n},r.ByteStringBuffer.prototype.toString=function(){return r.decodeUtf8(this.bytes())};function s(n,y){y=y||{},this.read=y.readOffset||0,this.growSize=y.growSize||1024;var o=r.isArrayBuffer(n),f=r.isArrayBufferView(n);if(o||f){o?this.data=new DataView(n):this.data=new DataView(n.buffer,n.byteOffset,n.byteLength),this.write="writeOffset"in y?y.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,n!=null&&this.putBytes(n),"writeOffset"in y&&(this.write=y.writeOffset)}r.DataBuffer=s,r.DataBuffer.prototype.length=function(){return this.write-this.read},r.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},r.DataBuffer.prototype.accommodate=function(n,y){if(this.length()>=n)return this;y=Math.max(y||this.growSize,n);var o=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),f=new Uint8Array(this.length()+y);return f.set(o),this.data=new DataView(f.buffer),this},r.DataBuffer.prototype.putByte=function(n){return this.accommodate(1),this.data.setUint8(this.write++,n),this},r.DataBuffer.prototype.fillWithByte=function(n,y){this.accommodate(y);for(var o=0;o<y;++o)this.data.setUint8(n);return this},r.DataBuffer.prototype.putBytes=function(n,y){if(r.isArrayBufferView(n)){var o=new Uint8Array(n.buffer,n.byteOffset,n.byteLength),f=o.byteLength-o.byteOffset;this.accommodate(f);var l=new Uint8Array(this.data.buffer,this.write);return l.set(o),this.write+=f,this}if(r.isArrayBuffer(n)){var o=new Uint8Array(n);this.accommodate(o.byteLength);var l=new Uint8Array(this.data.buffer);return l.set(o,this.write),this.write+=o.byteLength,this}if(n instanceof r.DataBuffer||typeof n=="object"&&typeof n.read=="number"&&typeof n.write=="number"&&r.isArrayBufferView(n.data)){var o=new Uint8Array(n.data.byteLength,n.read,n.length());this.accommodate(o.byteLength);var l=new Uint8Array(n.data.byteLength,this.write);return l.set(o),this.write+=o.byteLength,this}if(n instanceof r.ByteStringBuffer&&(n=n.data,y="binary"),y=y||"binary",typeof n=="string"){var b;if(y==="hex")return this.accommodate(Math.ceil(n.length/2)),b=new Uint8Array(this.data.buffer,this.write),this.write+=r.binary.hex.decode(n,b,this.write),this;if(y==="base64")return this.accommodate(Math.ceil(n.length/4)*3),b=new Uint8Array(this.data.buffer,this.write),this.write+=r.binary.base64.decode(n,b,this.write),this;if(y==="utf8"&&(n=r.encodeUtf8(n),y="binary"),y==="binary"||y==="raw")return this.accommodate(n.length),b=new Uint8Array(this.data.buffer,this.write),this.write+=r.binary.raw.decode(b),this;if(y==="utf16")return this.accommodate(n.length*2),b=new Uint16Array(this.data.buffer,this.write),this.write+=r.text.utf16.encode(b),this;throw new Error("Invalid encoding: "+y)}throw Error("Invalid parameter: "+n)},r.DataBuffer.prototype.putBuffer=function(n){return this.putBytes(n),n.clear(),this},r.DataBuffer.prototype.putString=function(n){return this.putBytes(n,"utf16")},r.DataBuffer.prototype.putInt16=function(n){return this.accommodate(2),this.data.setInt16(this.write,n),this.write+=2,this},r.DataBuffer.prototype.putInt24=function(n){return this.accommodate(3),this.data.setInt16(this.write,n>>8&65535),this.data.setInt8(this.write,n>>16&255),this.write+=3,this},r.DataBuffer.prototype.putInt32=function(n){return this.accommodate(4),this.data.setInt32(this.write,n),this.write+=4,this},r.DataBuffer.prototype.putInt16Le=function(n){return this.accommodate(2),this.data.setInt16(this.write,n,!0),this.write+=2,this},r.DataBuffer.prototype.putInt24Le=function(n){return this.accommodate(3),this.data.setInt8(this.write,n>>16&255),this.data.setInt16(this.write,n>>8&65535,!0),this.write+=3,this},r.DataBuffer.prototype.putInt32Le=function(n){return this.accommodate(4),this.data.setInt32(this.write,n,!0),this.write+=4,this},r.DataBuffer.prototype.putInt=function(n,y){E(y),this.accommodate(y/8);do y-=8,this.data.setInt8(this.write++,n>>y&255);while(y>0);return this},r.DataBuffer.prototype.putSignedInt=function(n,y){return E(y),this.accommodate(y/8),n<0&&(n+=2<<y-1),this.putInt(n,y)},r.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},r.DataBuffer.prototype.getInt16=function(){var n=this.data.getInt16(this.read);return this.read+=2,n},r.DataBuffer.prototype.getInt24=function(){var n=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,n},r.DataBuffer.prototype.getInt32=function(){var n=this.data.getInt32(this.read);return this.read+=4,n},r.DataBuffer.prototype.getInt16Le=function(){var n=this.data.getInt16(this.read,!0);return this.read+=2,n},r.DataBuffer.prototype.getInt24Le=function(){var n=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,n},r.DataBuffer.prototype.getInt32Le=function(){var n=this.data.getInt32(this.read,!0);return this.read+=4,n},r.DataBuffer.prototype.getInt=function(n){E(n);var y=0;do y=(y<<8)+this.data.getInt8(this.read++),n-=8;while(n>0);return y},r.DataBuffer.prototype.getSignedInt=function(n){var y=this.getInt(n),o=2<<n-2;return y>=o&&(y-=o<<1),y},r.DataBuffer.prototype.getBytes=function(n){var y;return n?(n=Math.min(this.length(),n),y=this.data.slice(this.read,this.read+n),this.read+=n):n===0?y="":(y=this.read===0?this.data:this.data.slice(this.read),this.clear()),y},r.DataBuffer.prototype.bytes=function(n){return typeof n>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+n)},r.DataBuffer.prototype.at=function(n){return this.data.getUint8(this.read+n)},r.DataBuffer.prototype.setAt=function(n,y){return this.data.setUint8(n,y),this},r.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},r.DataBuffer.prototype.copy=function(){return new r.DataBuffer(this)},r.DataBuffer.prototype.compact=function(){if(this.read>0){var n=new Uint8Array(this.data.buffer,this.read),y=new Uint8Array(n.byteLength);y.set(n),this.data=new DataView(y),this.write-=this.read,this.read=0}return this},r.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},r.DataBuffer.prototype.truncate=function(n){return this.write=Math.max(0,this.length()-n),this.read=Math.min(this.read,this.write),this},r.DataBuffer.prototype.toHex=function(){for(var n="",y=this.read;y<this.data.byteLength;++y){var o=this.data.getUint8(y);o<16&&(n+="0"),n+=o.toString(16)}return n},r.DataBuffer.prototype.toString=function(n){var y=new Uint8Array(this.data,this.read,this.length());if(n=n||"utf8",n==="binary"||n==="raw")return r.binary.raw.encode(y);if(n==="hex")return r.binary.hex.encode(y);if(n==="base64")return r.binary.base64.encode(y);if(n==="utf8")return r.text.utf8.decode(y);if(n==="utf16")return r.text.utf16.decode(y);throw new Error("Invalid encoding: "+n)},r.createBuffer=function(n,y){return y=y||"raw",n!==void 0&&y==="utf8"&&(n=r.encodeUtf8(n)),new r.ByteBuffer(n)},r.fillString=function(n,y){for(var o="";y>0;)y&1&&(o+=n),y>>>=1,y>0&&(n+=n);return o},r.xorBytes=function(n,y,o){for(var f="",l="",b="",h=0,N=0;o>0;--o,++h)l=n.charCodeAt(h)^y.charCodeAt(h),N>=10&&(f+=b,b="",N=0),b+=String.fromCharCode(l),++N;return f+=b,f},r.hexToBytes=function(n){var y="",o=0;for(n.length&!0&&(o=1,y+=String.fromCharCode(parseInt(n[0],16)));o<n.length;o+=2)y+=String.fromCharCode(parseInt(n.substr(o,2),16));return y},r.bytesToHex=function(n){return r.createBuffer(n).toHex()},r.int32ToBytes=function(n){return String.fromCharCode(n>>24&255)+String.fromCharCode(n>>16&255)+String.fromCharCode(n>>8&255)+String.fromCharCode(n&255)};var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],u="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";r.encode64=function(n,y){for(var o="",f="",l,b,h,N=0;N<n.length;)l=n.charCodeAt(N++),b=n.charCodeAt(N++),h=n.charCodeAt(N++),o+=e.charAt(l>>2),o+=e.charAt((l&3)<<4|b>>4),isNaN(b)?o+="==":(o+=e.charAt((b&15)<<2|h>>6),o+=isNaN(h)?"=":e.charAt(h&63)),y&&o.length>y&&(f+=o.substr(0,y)+`\r
`,o=o.substr(y));return f+=o,f},r.decode64=function(n){n=n.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var y="",o,f,l,b,h=0;h<n.length;)o=d[n.charCodeAt(h++)-43],f=d[n.charCodeAt(h++)-43],l=d[n.charCodeAt(h++)-43],b=d[n.charCodeAt(h++)-43],y+=String.fromCharCode(o<<2|f>>4),l!==64&&(y+=String.fromCharCode((f&15)<<4|l>>2),b!==64&&(y+=String.fromCharCode((l&3)<<6|b)));return y},r.encodeUtf8=function(n){return unescape(encodeURIComponent(n))},r.decodeUtf8=function(n){return decodeURIComponent(escape(n))},r.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:t.encode,decode:t.decode}},r.binary.raw.encode=function(n){return String.fromCharCode.apply(null,n)},r.binary.raw.decode=function(n,y,o){var f=y;f||(f=new Uint8Array(n.length)),o=o||0;for(var l=o,b=0;b<n.length;++b)f[l++]=n.charCodeAt(b);return y?l-o:f},r.binary.hex.encode=r.bytesToHex,r.binary.hex.decode=function(n,y,o){var f=y;f||(f=new Uint8Array(Math.ceil(n.length/2))),o=o||0;var l=0,b=o;for(n.length&1&&(l=1,f[b++]=parseInt(n[0],16));l<n.length;l+=2)f[b++]=parseInt(n.substr(l,2),16);return y?b-o:f},r.binary.base64.encode=function(n,y){for(var o="",f="",l,b,h,N=0;N<n.byteLength;)l=n[N++],b=n[N++],h=n[N++],o+=e.charAt(l>>2),o+=e.charAt((l&3)<<4|b>>4),isNaN(b)?o+="==":(o+=e.charAt((b&15)<<2|h>>6),o+=isNaN(h)?"=":e.charAt(h&63)),y&&o.length>y&&(f+=o.substr(0,y)+`\r
`,o=o.substr(y));return f+=o,f},r.binary.base64.decode=function(n,y,o){var f=y;f||(f=new Uint8Array(Math.ceil(n.length/4)*3)),n=n.replace(/[^A-Za-z0-9\+\/\=]/g,""),o=o||0;for(var l,b,h,N,R=0,L=o;R<n.length;)l=d[n.charCodeAt(R++)-43],b=d[n.charCodeAt(R++)-43],h=d[n.charCodeAt(R++)-43],N=d[n.charCodeAt(R++)-43],f[L++]=l<<2|b>>4,h!==64&&(f[L++]=(b&15)<<4|h>>2,N!==64&&(f[L++]=(h&3)<<6|N));return y?L-o:f.subarray(0,L)},r.binary.base58.encode=function(n,y){return r.binary.baseN.encode(n,u,y)},r.binary.base58.decode=function(n,y){return r.binary.baseN.decode(n,u,y)},r.text={utf8:{},utf16:{}},r.text.utf8.encode=function(n,y,o){n=r.encodeUtf8(n);var f=y;f||(f=new Uint8Array(n.length)),o=o||0;for(var l=o,b=0;b<n.length;++b)f[l++]=n.charCodeAt(b);return y?l-o:f},r.text.utf8.decode=function(n){return r.decodeUtf8(String.fromCharCode.apply(null,n))},r.text.utf16.encode=function(n,y,o){var f=y;f||(f=new Uint8Array(n.length*2));var l=new Uint16Array(f.buffer);o=o||0;for(var b=o,h=o,N=0;N<n.length;++N)l[h++]=n.charCodeAt(N),b+=2;return y?b-o:f},r.text.utf16.decode=function(n){return String.fromCharCode.apply(null,new Uint16Array(n.buffer))},r.deflate=function(n,y,o){if(y=r.decode64(n.deflate(r.encode64(y)).rval),o){var f=2,l=y.charCodeAt(1);l&32&&(f=6),y=y.substring(f,y.length-4)}return y},r.inflate=function(n,y,o){var f=n.inflate(r.encode64(y)).rval;return f===null?null:r.decode64(f)};var x=function(n,y,o){if(!n)throw new Error("WebStorage not available.");var f;if(o===null?f=n.removeItem(y):(o=r.encode64(JSON.stringify(o)),f=n.setItem(y,o)),typeof f<"u"&&f.rval!==!0){var l=new Error(f.error.message);throw l.id=f.error.id,l.name=f.error.name,l}},I=function(n,y){if(!n)throw new Error("WebStorage not available.");var o=n.getItem(y);if(n.init)if(o.rval===null){if(o.error){var f=new Error(o.error.message);throw f.id=o.error.id,f.name=o.error.name,f}o=null}else o=o.rval;return o!==null&&(o=JSON.parse(r.decode64(o))),o},m=function(n,y,o,f){var l=I(n,y);l===null&&(l={}),l[o]=f,x(n,y,l)},i=function(n,y,o){var f=I(n,y);return f!==null&&(f=o in f?f[o]:null),f},p=function(n,y,o){var f=I(n,y);if(f!==null&&o in f){delete f[o];var l=!0;for(var b in f){l=!1;break}l&&(f=null),x(n,y,f)}},g=function(n,y){x(n,y,null)},v=function(n,y,o){var f=null;typeof o>"u"&&(o=["web","flash"]);var l,b=!1,h=null;for(var N in o){l=o[N];try{if(l==="flash"||l==="both"){if(y[0]===null)throw new Error("Flash local storage not available.");f=n.apply(this,y),b=l==="flash"}(l==="web"||l==="both")&&(y[0]=localStorage,f=n.apply(this,y),b=!0)}catch(R){h=R}if(b)break}if(!b)throw h;return f};r.setItem=function(n,y,o,f,l){v(m,arguments,l)},r.getItem=function(n,y,o,f){return v(i,arguments,f)},r.removeItem=function(n,y,o,f){v(p,arguments,f)},r.clearItems=function(n,y,o){v(g,arguments,o)},r.parseUrl=function(n){var y=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;y.lastIndex=0;var o=y.exec(n),f=o===null?null:{full:n,scheme:o[1],host:o[2],port:o[3],path:o[4]};return f&&(f.fullHost=f.host,f.port?(f.port!==80&&f.scheme==="http"||f.port!==443&&f.scheme==="https")&&(f.fullHost+=":"+f.port):f.scheme==="http"?f.port=80:f.scheme==="https"&&(f.port=443),f.full=f.scheme+"://"+f.fullHost),f};var _=null;return r.getQueryVariables=function(n){var y=function(f){for(var l={},b=f.split("&"),h=0;h<b.length;h++){var N=b[h].indexOf("="),R,L;N>0?(R=b[h].substring(0,N),L=b[h].substring(N+1)):(R=b[h],L=null),R in l||(l[R]=[]),!(R in Object.prototype)&&L!==null&&l[R].push(unescape(L))}return l},o;return typeof n>"u"?(_===null&&(typeof window<"u"&&window.location&&window.location.search?_=y(window.location.search.substring(1)):_={}),o=_):o=y(n),o},r.parseFragment=function(n){var y=n,o="",f=n.indexOf("?");f>0&&(y=n.substring(0,f),o=n.substring(f+1));var l=y.split("/");l.length>0&&l[0]===""&&l.shift();var b=o===""?{}:r.getQueryVariables(o);return{pathString:y,queryString:o,path:l,query:b}},r.makeRequest=function(n){var y=r.parseFragment(n),o={path:y.pathString,query:y.queryString,getPath:function(f){return typeof f>"u"?y.path:y.path[f]},getQuery:function(f,l){var b;return typeof f>"u"?b=y.query:(b=y.query[f],b&&typeof l<"u"&&(b=b[l])),b},getQueryLast:function(f,l){var b,h=o.getQuery(f);return h?b=h[h.length-1]:b=l,b}};return o},r.makeLink=function(n,y,o){n=jQuery.isArray(n)?n.join("/"):n;var f=jQuery.param(y||{});return o=o||"",n+(f.length>0?"?"+f:"")+(o.length>0?"#"+o:"")},r.isEmpty=function(n){for(var y in n)if(n.hasOwnProperty(y))return!1;return!0},r.format=function(n){for(var y=/%./g,o,f,l=0,b=[],h=0;o=y.exec(n);){f=n.substring(h,y.lastIndex-2),f.length>0&&b.push(f),h=y.lastIndex;var N=o[0][1];switch(N){case"s":case"o":l<arguments.length?b.push(arguments[l+++1]):b.push("<?>");break;case"%":b.push("%");break;default:b.push("<%"+N+"?>")}}return b.push(n.substring(h)),b.join("")},r.formatNumber=function(n,y,o,f){var l=n,b=isNaN(y=Math.abs(y))?2:y,h=o===void 0?",":o,N=f===void 0?".":f,R=l<0?"-":"",L=parseInt(l=Math.abs(+l||0).toFixed(b),10)+"",D=L.length>3?L.length%3:0;return R+(D?L.substr(0,D)+N:"")+L.substr(D).replace(/(\d{3})(?=\d)/g,"$1"+N)+(b?h+Math.abs(l-L).toFixed(b).slice(2):"")},r.formatSize=function(n){return n>=1073741824?n=r.formatNumber(n/1073741824,2,".","")+" GiB":n>=1048576?n=r.formatNumber(n/1048576,2,".","")+" MiB":n>=1024?n=r.formatNumber(n/1024,0)+" KiB":n=r.formatNumber(n,0)+" bytes",n},r.bytesFromIP=function(n){return n.indexOf(".")!==-1?r.bytesFromIPv4(n):n.indexOf(":")!==-1?r.bytesFromIPv6(n):null},r.bytesFromIPv4=function(n){if(n=n.split("."),n.length!==4)return null;for(var y=r.createBuffer(),o=0;o<n.length;++o){var f=parseInt(n[o],10);if(isNaN(f))return null;y.putByte(f)}return y.getBytes()},r.bytesFromIPv6=function(n){var y=0;n=n.split(":").filter(function(h){return h.length===0&&++y,!0});for(var o=(8-n.length+y)*2,f=r.createBuffer(),l=0;l<8;++l){if(!n[l]||n[l].length===0){f.fillWithByte(0,o),o=0;continue}var b=r.hexToBytes(n[l]);b.length<2&&f.putByte(0),f.putBytes(b)}return f.getBytes()},r.bytesToIP=function(n){return n.length===4?r.bytesToIPv4(n):n.length===16?r.bytesToIPv6(n):null},r.bytesToIPv4=function(n){if(n.length!==4)return null;for(var y=[],o=0;o<n.length;++o)y.push(n.charCodeAt(o));return y.join(".")},r.bytesToIPv6=function(n){if(n.length!==16)return null;for(var y=[],o=[],f=0,l=0;l<n.length;l+=2){for(var b=r.bytesToHex(n[l]+n[l+1]);b[0]==="0"&&b!=="0";)b=b.substr(1);if(b==="0"){var h=o[o.length-1],N=y.length;!h||N!==h.end+1?o.push({start:N,end:N}):(h.end=N,h.end-h.start>o[f].end-o[f].start&&(f=o.length-1))}y.push(b)}if(o.length>0){var R=o[f];R.end-R.start>0&&(y.splice(R.start,R.end-R.start+1,""),R.start===0&&y.unshift(""),R.end===7&&y.push(""))}return y.join(":")},r.estimateCores=function(n,y){if(typeof n=="function"&&(y=n,n={}),n=n||{},"cores"in r&&!n.update)return y(null,r.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return r.cores=navigator.hardwareConcurrency,y(null,r.cores);if(typeof Worker>"u")return r.cores=1,y(null,r.cores);if(typeof Blob>"u")return r.cores=2,y(null,r.cores);var o=URL.createObjectURL(new Blob(["(",(function(){self.addEventListener("message",function(h){var N=Date.now(),R=N+4;self.postMessage({st:N,et:R})})}).toString(),")()"],{type:"application/javascript"}));f([],5,16);function f(h,N,R){if(N===0){var L=Math.floor(h.reduce(function(D,z){return D+z},0)/h.length);return r.cores=Math.max(1,L),URL.revokeObjectURL(o),y(null,r.cores)}l(R,function(D,z){h.push(b(R,z)),f(h,N-1,R)})}function l(h,N){for(var R=[],L=[],D=0;D<h;++D){var z=new Worker(o);z.addEventListener("message",function(k){if(L.push(k.data),L.length===h){for(var Z=0;Z<h;++Z)R[Z].terminate();N(null,L)}}),R.push(z)}for(var D=0;D<h;++D)R[D].postMessage(D)}function b(h,N){for(var R=[],L=0;L<h;++L)for(var D=N[L],z=R[L]=[],k=0;k<h;++k)if(L!==k){var Z=N[k];(D.st>Z.st&&D.st<Z.et||Z.st>D.st&&Z.st<D.et)&&z.push(k)}return R.reduce(function($,oe){return Math.max($,oe.length)},0)}},Jt.exports}var tr,ui;function Gr(){if(ui)return tr;ui=1;var a=we();Re(),tr=a.cipher=a.cipher||{},a.cipher.algorithms=a.cipher.algorithms||{},a.cipher.createCipher=function(r,E){var C=r;if(typeof C=="string"&&(C=a.cipher.getAlgorithm(C),C&&(C=C())),!C)throw new Error("Unsupported algorithm: "+r);return new a.cipher.BlockCipher({algorithm:C,key:E,decrypt:!1})},a.cipher.createDecipher=function(r,E){var C=r;if(typeof C=="string"&&(C=a.cipher.getAlgorithm(C),C&&(C=C())),!C)throw new Error("Unsupported algorithm: "+r);return new a.cipher.BlockCipher({algorithm:C,key:E,decrypt:!0})},a.cipher.registerAlgorithm=function(r,E){r=r.toUpperCase(),a.cipher.algorithms[r]=E},a.cipher.getAlgorithm=function(r){return r=r.toUpperCase(),r in a.cipher.algorithms?a.cipher.algorithms[r]:null};var t=a.cipher.BlockCipher=function(r){this.algorithm=r.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=r.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=r.decrypt,this.algorithm.initialize(r)};return t.prototype.start=function(r){r=r||{};var E={};for(var C in r)E[C]=r[C];E.decrypt=this._decrypt,this._finish=!1,this._input=a.util.createBuffer(),this.output=r.output||a.util.createBuffer(),this.mode.start(E)},t.prototype.update=function(r){for(r&&this._input.putBuffer(r);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},t.prototype.finish=function(r){r&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(C){return r(this.blockSize,C,!1)},this.mode.unpad=function(C){return r(this.blockSize,C,!0)});var E={};return E.decrypt=this._decrypt,E.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,E)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,E))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,E))},tr}var rr={exports:{}},li;function Cn(){if(li)return rr.exports;li=1;var a=we();Re(),a.cipher=a.cipher||{};var t=rr.exports=a.cipher.modes=a.cipher.modes||{};t.ecb=function(c){c=c||{},this.name="ECB",this.cipher=c.cipher,this.blockSize=c.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},t.ecb.prototype.start=function(c){},t.ecb.prototype.encrypt=function(c,s,e){if(c.length()<this.blockSize&&!(e&&c.length()>0))return!0;for(var d=0;d<this._ints;++d)this._inBlock[d]=c.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var d=0;d<this._ints;++d)s.putInt32(this._outBlock[d])},t.ecb.prototype.decrypt=function(c,s,e){if(c.length()<this.blockSize&&!(e&&c.length()>0))return!0;for(var d=0;d<this._ints;++d)this._inBlock[d]=c.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var d=0;d<this._ints;++d)s.putInt32(this._outBlock[d])},t.ecb.prototype.pad=function(c,s){var e=c.length()===this.blockSize?this.blockSize:this.blockSize-c.length();return c.fillWithByte(e,e),!0},t.ecb.prototype.unpad=function(c,s){if(s.overflow>0)return!1;var e=c.length(),d=c.at(e-1);return d>this.blockSize<<2?!1:(c.truncate(d),!0)},t.cbc=function(c){c=c||{},this.name="CBC",this.cipher=c.cipher,this.blockSize=c.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},t.cbc.prototype.start=function(c){if(c.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in c)this._iv=r(c.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")},t.cbc.prototype.encrypt=function(c,s,e){if(c.length()<this.blockSize&&!(e&&c.length()>0))return!0;for(var d=0;d<this._ints;++d)this._inBlock[d]=this._prev[d]^c.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var d=0;d<this._ints;++d)s.putInt32(this._outBlock[d]);this._prev=this._outBlock},t.cbc.prototype.decrypt=function(c,s,e){if(c.length()<this.blockSize&&!(e&&c.length()>0))return!0;for(var d=0;d<this._ints;++d)this._inBlock[d]=c.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var d=0;d<this._ints;++d)s.putInt32(this._prev[d]^this._outBlock[d]);this._prev=this._inBlock.slice(0)},t.cbc.prototype.pad=function(c,s){var e=c.length()===this.blockSize?this.blockSize:this.blockSize-c.length();return c.fillWithByte(e,e),!0},t.cbc.prototype.unpad=function(c,s){if(s.overflow>0)return!1;var e=c.length(),d=c.at(e-1);return d>this.blockSize<<2?!1:(c.truncate(d),!0)},t.cfb=function(c){c=c||{},this.name="CFB",this.cipher=c.cipher,this.blockSize=c.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=a.util.createBuffer(),this._partialBytes=0},t.cfb.prototype.start=function(c){if(!("iv"in c))throw new Error("Invalid IV parameter.");this._iv=r(c.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},t.cfb.prototype.encrypt=function(c,s,e){var d=c.length();if(d===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize){for(var u=0;u<this._ints;++u)this._inBlock[u]=c.getInt32()^this._outBlock[u],s.putInt32(this._inBlock[u]);return}var x=(this.blockSize-d)%this.blockSize;x>0&&(x=this.blockSize-x),this._partialOutput.clear();for(var u=0;u<this._ints;++u)this._partialBlock[u]=c.getInt32()^this._outBlock[u],this._partialOutput.putInt32(this._partialBlock[u]);if(x>0)c.read-=this.blockSize;else for(var u=0;u<this._ints;++u)this._inBlock[u]=this._partialBlock[u];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),x>0&&!e)return s.putBytes(this._partialOutput.getBytes(x-this._partialBytes)),this._partialBytes=x,!0;s.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0},t.cfb.prototype.decrypt=function(c,s,e){var d=c.length();if(d===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize){for(var u=0;u<this._ints;++u)this._inBlock[u]=c.getInt32(),s.putInt32(this._inBlock[u]^this._outBlock[u]);return}var x=(this.blockSize-d)%this.blockSize;x>0&&(x=this.blockSize-x),this._partialOutput.clear();for(var u=0;u<this._ints;++u)this._partialBlock[u]=c.getInt32(),this._partialOutput.putInt32(this._partialBlock[u]^this._outBlock[u]);if(x>0)c.read-=this.blockSize;else for(var u=0;u<this._ints;++u)this._inBlock[u]=this._partialBlock[u];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),x>0&&!e)return s.putBytes(this._partialOutput.getBytes(x-this._partialBytes)),this._partialBytes=x,!0;s.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0},t.ofb=function(c){c=c||{},this.name="OFB",this.cipher=c.cipher,this.blockSize=c.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=a.util.createBuffer(),this._partialBytes=0},t.ofb.prototype.start=function(c){if(!("iv"in c))throw new Error("Invalid IV parameter.");this._iv=r(c.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},t.ofb.prototype.encrypt=function(c,s,e){var d=c.length();if(c.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize){for(var u=0;u<this._ints;++u)s.putInt32(c.getInt32()^this._outBlock[u]),this._inBlock[u]=this._outBlock[u];return}var x=(this.blockSize-d)%this.blockSize;x>0&&(x=this.blockSize-x),this._partialOutput.clear();for(var u=0;u<this._ints;++u)this._partialOutput.putInt32(c.getInt32()^this._outBlock[u]);if(x>0)c.read-=this.blockSize;else for(var u=0;u<this._ints;++u)this._inBlock[u]=this._outBlock[u];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),x>0&&!e)return s.putBytes(this._partialOutput.getBytes(x-this._partialBytes)),this._partialBytes=x,!0;s.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0},t.ofb.prototype.decrypt=t.ofb.prototype.encrypt,t.ctr=function(c){c=c||{},this.name="CTR",this.cipher=c.cipher,this.blockSize=c.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=a.util.createBuffer(),this._partialBytes=0},t.ctr.prototype.start=function(c){if(!("iv"in c))throw new Error("Invalid IV parameter.");this._iv=r(c.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},t.ctr.prototype.encrypt=function(c,s,e){var d=c.length();if(d===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize)for(var u=0;u<this._ints;++u)s.putInt32(c.getInt32()^this._outBlock[u]);else{var x=(this.blockSize-d)%this.blockSize;x>0&&(x=this.blockSize-x),this._partialOutput.clear();for(var u=0;u<this._ints;++u)this._partialOutput.putInt32(c.getInt32()^this._outBlock[u]);if(x>0&&(c.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),x>0&&!e)return s.putBytes(this._partialOutput.getBytes(x-this._partialBytes)),this._partialBytes=x,!0;s.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0}E(this._inBlock)},t.ctr.prototype.decrypt=t.ctr.prototype.encrypt,t.gcm=function(c){c=c||{},this.name="GCM",this.cipher=c.cipher,this.blockSize=c.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=a.util.createBuffer(),this._partialBytes=0,this._R=3774873600},t.gcm.prototype.start=function(c){if(!("iv"in c))throw new Error("Invalid IV parameter.");var s=a.util.createBuffer(c.iv);this._cipherLength=0;var e;if("additionalData"in c?e=a.util.createBuffer(c.additionalData):e=a.util.createBuffer(),"tagLength"in c?this._tagLength=c.tagLength:this._tagLength=128,this._tag=null,c.decrypt&&(this._tag=a.util.createBuffer(c.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var d=s.length();if(d===12)this._j0=[s.getInt32(),s.getInt32(),s.getInt32(),1];else{for(this._j0=[0,0,0,0];s.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[s.getInt32(),s.getInt32(),s.getInt32(),s.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(C(d*8)))}this._inBlock=this._j0.slice(0),E(this._inBlock),this._partialBytes=0,e=a.util.createBuffer(e),this._aDataLength=C(e.length()*8);var u=e.length()%this.blockSize;for(u&&e.fillWithByte(0,this.blockSize-u),this._s=[0,0,0,0];e.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()])},t.gcm.prototype.encrypt=function(c,s,e){var d=c.length();if(d===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize){for(var u=0;u<this._ints;++u)s.putInt32(this._outBlock[u]^=c.getInt32());this._cipherLength+=this.blockSize}else{var x=(this.blockSize-d)%this.blockSize;x>0&&(x=this.blockSize-x),this._partialOutput.clear();for(var u=0;u<this._ints;++u)this._partialOutput.putInt32(c.getInt32()^this._outBlock[u]);if(x<=0||e){if(e){var I=d%this.blockSize;this._cipherLength+=I,this._partialOutput.truncate(this.blockSize-I)}else this._cipherLength+=this.blockSize;for(var u=0;u<this._ints;++u)this._outBlock[u]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),x>0&&!e)return c.read-=this.blockSize,s.putBytes(this._partialOutput.getBytes(x-this._partialBytes)),this._partialBytes=x,!0;s.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),E(this._inBlock)},t.gcm.prototype.decrypt=function(c,s,e){var d=c.length();if(d<this.blockSize&&!(e&&d>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),E(this._inBlock),this._hashBlock[0]=c.getInt32(),this._hashBlock[1]=c.getInt32(),this._hashBlock[2]=c.getInt32(),this._hashBlock[3]=c.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var u=0;u<this._ints;++u)s.putInt32(this._outBlock[u]^this._hashBlock[u]);d<this.blockSize?this._cipherLength+=d%this.blockSize:this._cipherLength+=this.blockSize},t.gcm.prototype.afterFinish=function(c,s){var e=!0;s.decrypt&&s.overflow&&c.truncate(this.blockSize-s.overflow),this.tag=a.util.createBuffer();var d=this._aDataLength.concat(C(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,d);var u=[];this.cipher.encrypt(this._j0,u);for(var x=0;x<this._ints;++x)this.tag.putInt32(this._s[x]^u[x]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),s.decrypt&&this.tag.bytes()!==this._tag&&(e=!1),e},t.gcm.prototype.multiply=function(c,s){for(var e=[0,0,0,0],d=s.slice(0),u=0;u<128;++u){var x=c[u/32|0]&1<<31-u%32;x&&(e[0]^=d[0],e[1]^=d[1],e[2]^=d[2],e[3]^=d[3]),this.pow(d,d)}return e},t.gcm.prototype.pow=function(c,s){for(var e=c[3]&1,d=3;d>0;--d)s[d]=c[d]>>>1|(c[d-1]&1)<<31;s[0]=c[0]>>>1,e&&(s[0]^=this._R)},t.gcm.prototype.tableMultiply=function(c){for(var s=[0,0,0,0],e=0;e<32;++e){var d=e/8|0,u=c[d]>>>(7-e%8)*4&15,x=this._m[e][u];s[0]^=x[0],s[1]^=x[1],s[2]^=x[2],s[3]^=x[3]}return s},t.gcm.prototype.ghash=function(c,s,e){return s[0]^=e[0],s[1]^=e[1],s[2]^=e[2],s[3]^=e[3],this.tableMultiply(s)},t.gcm.prototype.generateHashTable=function(c,s){for(var e=8/s,d=4*e,u=16*e,x=new Array(u),I=0;I<u;++I){var m=[0,0,0,0],i=I/d|0,p=(d-1-I%d)*s;m[i]=1<<s-1<<p,x[I]=this.generateSubHashTable(this.multiply(m,c),s)}return x},t.gcm.prototype.generateSubHashTable=function(c,s){var e=1<<s,d=e>>>1,u=new Array(e);u[d]=c.slice(0);for(var x=d>>>1;x>0;)this.pow(u[2*x],u[x]=[]),x>>=1;for(x=2;x<d;){for(var I=1;I<x;++I){var m=u[x],i=u[I];u[x+I]=[m[0]^i[0],m[1]^i[1],m[2]^i[2],m[3]^i[3]]}x*=2}for(u[0]=[0,0,0,0],x=d+1;x<e;++x){var p=u[x^d];u[x]=[c[0]^p[0],c[1]^p[1],c[2]^p[2],c[3]^p[3]]}return u};function r(c,s){if(typeof c=="string"&&(c=a.util.createBuffer(c)),a.util.isArray(c)&&c.length>4){var e=c;c=a.util.createBuffer();for(var d=0;d<e.length;++d)c.putByte(e[d])}if(c.length()<s)throw new Error("Invalid IV length; got "+c.length()+" bytes and expected "+s+" bytes.");if(!a.util.isArray(c)){for(var u=[],x=s/4,d=0;d<x;++d)u.push(c.getInt32());c=u}return c}function E(c){c[c.length-1]=c[c.length-1]+1&4294967295}function C(c){return[c/4294967296|0,c&4294967295]}return rr.exports}var ir,fi;function gt(){if(fi)return ir;fi=1;var a=we();Gr(),Cn(),Re(),ir=a.aes=a.aes||{},a.aes.startEncrypting=function(i,p,g,v){var _=m({key:i,output:g,decrypt:!1,mode:v});return _.start(p),_},a.aes.createEncryptionCipher=function(i,p){return m({key:i,output:null,decrypt:!1,mode:p})},a.aes.startDecrypting=function(i,p,g,v){var _=m({key:i,output:g,decrypt:!0,mode:v});return _.start(p),_},a.aes.createDecryptionCipher=function(i,p){return m({key:i,output:null,decrypt:!0,mode:p})},a.aes.Algorithm=function(i,p){r||u();var g=this;g.name=i,g.mode=new p({blockSize:16,cipher:{encrypt:function(v,_){return I(g._w,v,_,!1)},decrypt:function(v,_){return I(g._w,v,_,!0)}}}),g._init=!1},a.aes.Algorithm.prototype.initialize=function(i){if(!this._init){var p=i.key,g;if(typeof p=="string"&&(p.length===16||p.length===24||p.length===32))p=a.util.createBuffer(p);else if(a.util.isArray(p)&&(p.length===16||p.length===24||p.length===32)){g=p,p=a.util.createBuffer();for(var v=0;v<g.length;++v)p.putByte(g[v])}if(!a.util.isArray(p)){g=p,p=[];var _=g.length();if(_===16||_===24||_===32){_=_>>>2;for(var v=0;v<_;++v)p.push(g.getInt32())}}if(!a.util.isArray(p)||!(p.length===4||p.length===6||p.length===8))throw new Error("Invalid key parameter.");var n=this.mode.name,y=["CFB","OFB","CTR","GCM"].indexOf(n)!==-1;this._w=x(p,i.decrypt&&!y),this._init=!0}},a.aes._expandKey=function(i,p){return r||u(),x(i,p)},a.aes._updateBlock=I,t("AES-ECB",a.cipher.modes.ecb),t("AES-CBC",a.cipher.modes.cbc),t("AES-CFB",a.cipher.modes.cfb),t("AES-OFB",a.cipher.modes.ofb),t("AES-CTR",a.cipher.modes.ctr),t("AES-GCM",a.cipher.modes.gcm);function t(i,p){var g=function(){return new a.aes.Algorithm(i,p)};a.cipher.registerAlgorithm(i,g)}var r=!1,E=4,C,c,s,e,d;function u(){r=!0,s=[0,1,2,4,8,16,32,64,128,27,54];for(var i=new Array(256),p=0;p<128;++p)i[p]=p<<1,i[p+128]=p+128<<1^283;C=new Array(256),c=new Array(256),e=new Array(4),d=new Array(4);for(var p=0;p<4;++p)e[p]=new Array(256),d[p]=new Array(256);for(var g=0,v=0,_,n,y,o,f,l,b,p=0;p<256;++p){o=v^v<<1^v<<2^v<<3^v<<4,o=o>>8^o&255^99,C[g]=o,c[o]=g,f=i[o],_=i[g],n=i[_],y=i[n],l=f<<24^o<<16^o<<8^(o^f),b=(_^n^y)<<24^(g^y)<<16^(g^n^y)<<8^(g^_^y);for(var h=0;h<4;++h)e[h][g]=l,d[h][o]=b,l=l<<24|l>>>8,b=b<<24|b>>>8;g===0?g=v=1:(g=_^i[i[i[_^y]]],v^=i[i[v]])}}function x(i,p){for(var g=i.slice(0),v,_=1,n=g.length,y=n+6+1,o=E*y,f=n;f<o;++f)v=g[f-1],f%n===0?(v=C[v>>>16&255]<<24^C[v>>>8&255]<<16^C[v&255]<<8^C[v>>>24]^s[_]<<24,_++):n>6&&f%n===4&&(v=C[v>>>24]<<24^C[v>>>16&255]<<16^C[v>>>8&255]<<8^C[v&255]),g[f]=g[f-n]^v;if(p){var l,b=d[0],h=d[1],N=d[2],R=d[3],L=g.slice(0);o=g.length;for(var f=0,D=o-E;f<o;f+=E,D-=E)if(f===0||f===o-E)L[f]=g[D],L[f+1]=g[D+3],L[f+2]=g[D+2],L[f+3]=g[D+1];else for(var z=0;z<E;++z)l=g[D+z],L[f+(3&-z)]=b[C[l>>>24]]^h[C[l>>>16&255]]^N[C[l>>>8&255]]^R[C[l&255]];g=L}return g}function I(i,p,g,v){var _=i.length/4-1,n,y,o,f,l;v?(n=d[0],y=d[1],o=d[2],f=d[3],l=c):(n=e[0],y=e[1],o=e[2],f=e[3],l=C);var b,h,N,R,L,D,z;b=p[0]^i[0],h=p[v?3:1]^i[1],N=p[2]^i[2],R=p[v?1:3]^i[3];for(var k=3,Z=1;Z<_;++Z)L=n[b>>>24]^y[h>>>16&255]^o[N>>>8&255]^f[R&255]^i[++k],D=n[h>>>24]^y[N>>>16&255]^o[R>>>8&255]^f[b&255]^i[++k],z=n[N>>>24]^y[R>>>16&255]^o[b>>>8&255]^f[h&255]^i[++k],R=n[R>>>24]^y[b>>>16&255]^o[h>>>8&255]^f[N&255]^i[++k],b=L,h=D,N=z;g[0]=l[b>>>24]<<24^l[h>>>16&255]<<16^l[N>>>8&255]<<8^l[R&255]^i[++k],g[v?3:1]=l[h>>>24]<<24^l[N>>>16&255]<<16^l[R>>>8&255]<<8^l[b&255]^i[++k],g[2]=l[N>>>24]<<24^l[R>>>16&255]<<16^l[b>>>8&255]<<8^l[h&255]^i[++k],g[v?1:3]=l[R>>>24]<<24^l[b>>>16&255]<<16^l[h>>>8&255]<<8^l[N&255]^i[++k]}function m(i){i=i||{};var p=(i.mode||"CBC").toUpperCase(),g="AES-"+p,v;i.decrypt?v=a.cipher.createDecipher(g,i.key):v=a.cipher.createCipher(g,i.key);var _=v.start;return v.start=function(n,y){var o=null;y instanceof a.util.ByteBuffer&&(o=y,y={}),y=y||{},y.output=o,y.iv=n,_.call(v,y)},v}return ir}var nr={exports:{}},ar={exports:{}},sr={exports:{}},ci;function yt(){if(ci)return sr.exports;ci=1;var a=we();a.pki=a.pki||{};var t=sr.exports=a.pki.oids=a.oids=a.oids||{};function r(C,c){t[C]=c,t[c]=C}function E(C,c){t[C]=c}return r("1.2.840.113549.1.1.1","rsaEncryption"),r("1.2.840.113549.1.1.4","md5WithRSAEncryption"),r("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),r("1.2.840.113549.1.1.7","RSAES-OAEP"),r("1.2.840.113549.1.1.8","mgf1"),r("1.2.840.113549.1.1.9","pSpecified"),r("1.2.840.113549.1.1.10","RSASSA-PSS"),r("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),r("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),r("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),r("1.3.101.112","EdDSA25519"),r("1.2.840.10040.4.3","dsa-with-sha1"),r("1.3.14.3.2.7","desCBC"),r("1.3.14.3.2.26","sha1"),r("2.16.840.1.101.3.4.2.1","sha256"),r("2.16.840.1.101.3.4.2.2","sha384"),r("2.16.840.1.101.3.4.2.3","sha512"),r("1.2.840.113549.2.5","md5"),r("1.2.840.113549.1.7.1","data"),r("1.2.840.113549.1.7.2","signedData"),r("1.2.840.113549.1.7.3","envelopedData"),r("1.2.840.113549.1.7.4","signedAndEnvelopedData"),r("1.2.840.113549.1.7.5","digestedData"),r("1.2.840.113549.1.7.6","encryptedData"),r("1.2.840.113549.1.9.1","emailAddress"),r("1.2.840.113549.1.9.2","unstructuredName"),r("1.2.840.113549.1.9.3","contentType"),r("1.2.840.113549.1.9.4","messageDigest"),r("1.2.840.113549.1.9.5","signingTime"),r("1.2.840.113549.1.9.6","counterSignature"),r("1.2.840.113549.1.9.7","challengePassword"),r("1.2.840.113549.1.9.8","unstructuredAddress"),r("1.2.840.113549.1.9.14","extensionRequest"),r("1.2.840.113549.1.9.20","friendlyName"),r("1.2.840.113549.1.9.21","localKeyId"),r("1.2.840.113549.1.9.22.1","x509Certificate"),r("1.2.840.113549.1.12.10.1.1","keyBag"),r("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),r("1.2.840.113549.1.12.10.1.3","certBag"),r("1.2.840.113549.1.12.10.1.4","crlBag"),r("1.2.840.113549.1.12.10.1.5","secretBag"),r("1.2.840.113549.1.12.10.1.6","safeContentsBag"),r("1.2.840.113549.1.5.13","pkcs5PBES2"),r("1.2.840.113549.1.5.12","pkcs5PBKDF2"),r("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),r("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),r("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),r("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),r("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),r("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),r("1.2.840.113549.2.7","hmacWithSHA1"),r("1.2.840.113549.2.8","hmacWithSHA224"),r("1.2.840.113549.2.9","hmacWithSHA256"),r("1.2.840.113549.2.10","hmacWithSHA384"),r("1.2.840.113549.2.11","hmacWithSHA512"),r("1.2.840.113549.3.7","des-EDE3-CBC"),r("2.16.840.1.101.3.4.1.2","aes128-CBC"),r("2.16.840.1.101.3.4.1.22","aes192-CBC"),r("2.16.840.1.101.3.4.1.42","aes256-CBC"),r("2.5.4.3","commonName"),r("2.5.4.5","serialName"),r("2.5.4.6","countryName"),r("2.5.4.7","localityName"),r("2.5.4.8","stateOrProvinceName"),r("2.5.4.9","streetAddress"),r("2.5.4.10","organizationName"),r("2.5.4.11","organizationalUnitName"),r("2.5.4.13","description"),r("2.5.4.15","businessCategory"),r("2.5.4.17","postalCode"),r("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),r("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),r("2.16.840.1.113730.1.1","nsCertType"),r("2.16.840.1.113730.1.13","nsComment"),E("2.5.29.1","authorityKeyIdentifier"),E("2.5.29.2","keyAttributes"),E("2.5.29.3","certificatePolicies"),E("2.5.29.4","keyUsageRestriction"),E("2.5.29.5","policyMapping"),E("2.5.29.6","subtreesConstraint"),E("2.5.29.7","subjectAltName"),E("2.5.29.8","issuerAltName"),E("2.5.29.9","subjectDirectoryAttributes"),E("2.5.29.10","basicConstraints"),E("2.5.29.11","nameConstraints"),E("2.5.29.12","policyConstraints"),E("2.5.29.13","basicConstraints"),r("2.5.29.14","subjectKeyIdentifier"),r("2.5.29.15","keyUsage"),E("2.5.29.16","privateKeyUsagePeriod"),r("2.5.29.17","subjectAltName"),r("2.5.29.18","issuerAltName"),r("2.5.29.19","basicConstraints"),E("2.5.29.20","cRLNumber"),E("2.5.29.21","cRLReason"),E("2.5.29.22","expirationDate"),E("2.5.29.23","instructionCode"),E("2.5.29.24","invalidityDate"),E("2.5.29.25","cRLDistributionPoints"),E("2.5.29.26","issuingDistributionPoint"),E("2.5.29.27","deltaCRLIndicator"),E("2.5.29.28","issuingDistributionPoint"),E("2.5.29.29","certificateIssuer"),E("2.5.29.30","nameConstraints"),r("2.5.29.31","cRLDistributionPoints"),r("2.5.29.32","certificatePolicies"),E("2.5.29.33","policyMappings"),E("2.5.29.34","policyConstraints"),r("2.5.29.35","authorityKeyIdentifier"),E("2.5.29.36","policyConstraints"),r("2.5.29.37","extKeyUsage"),E("2.5.29.46","freshestCRL"),E("2.5.29.54","inhibitAnyPolicy"),r("1.3.6.1.4.1.11129.2.4.2","timestampList"),r("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),r("1.3.6.1.5.5.7.3.1","serverAuth"),r("1.3.6.1.5.5.7.3.2","clientAuth"),r("1.3.6.1.5.5.7.3.3","codeSigning"),r("1.3.6.1.5.5.7.3.4","emailProtection"),r("1.3.6.1.5.5.7.3.8","timeStamping"),sr.exports}var hi;function ut(){if(hi)return ar.exports;hi=1;var a=we();Re(),yt();var t=ar.exports=a.asn1=a.asn1||{};t.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},t.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},t.create=function(s,e,d,u,x){if(a.util.isArray(u)){for(var I=[],m=0;m<u.length;++m)u[m]!==void 0&&I.push(u[m]);u=I}var i={tagClass:s,type:e,constructed:d,composed:d||a.util.isArray(u),value:u};return x&&"bitStringContents"in x&&(i.bitStringContents=x.bitStringContents,i.original=t.copy(i)),i},t.copy=function(s,e){var d;if(a.util.isArray(s)){d=[];for(var u=0;u<s.length;++u)d.push(t.copy(s[u],e));return d}return typeof s=="string"?s:(d={tagClass:s.tagClass,type:s.type,constructed:s.constructed,composed:s.composed,value:t.copy(s.value,e)},e&&!e.excludeBitStringContents&&(d.bitStringContents=s.bitStringContents),d)},t.equals=function(s,e,d){if(a.util.isArray(s)){if(!a.util.isArray(e)||s.length!==e.length)return!1;for(var u=0;u<s.length;++u)if(!t.equals(s[u],e[u]))return!1;return!0}if(typeof s!=typeof e)return!1;if(typeof s=="string")return s===e;var x=s.tagClass===e.tagClass&&s.type===e.type&&s.constructed===e.constructed&&s.composed===e.composed&&t.equals(s.value,e.value);return d&&d.includeBitStringContents&&(x=x&&s.bitStringContents===e.bitStringContents),x},t.getBerValueLength=function(s){var e=s.getByte();if(e!==128){var d,u=e&128;return u?d=s.getInt((e&127)<<3):d=e,d}};function r(s,e,d){if(d>e){var u=new Error("Too few bytes to parse DER.");throw u.available=s.length(),u.remaining=e,u.requested=d,u}}var E=function(s,e){var d=s.getByte();if(e--,d!==128){var u,x=d&128;if(!x)u=d;else{var I=d&127;r(s,e,I),u=s.getInt(I<<3)}if(u<0)throw new Error("Negative length: "+u);return u}};t.fromDer=function(s,e){return e===void 0&&(e={strict:!0,decodeBitStrings:!0}),typeof e=="boolean"&&(e={strict:e,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),typeof s=="string"&&(s=a.util.createBuffer(s)),C(s,s.length(),0,e)};function C(s,e,d,u){var x;r(s,e,2);var I=s.getByte();e--;var m=I&192,i=I&31;x=s.length();var p=E(s,e);if(e-=x-s.length(),p!==void 0&&p>e){if(u.strict){var g=new Error("Too few bytes to read ASN.1 value.");throw g.available=s.length(),g.remaining=e,g.requested=p,g}p=e}var v,_,n=(I&32)===32;if(n)if(v=[],p===void 0)for(;;){if(r(s,e,2),s.bytes(2)==="\0\0"){s.getBytes(2),e-=2;break}x=s.length(),v.push(C(s,e,d+1,u)),e-=x-s.length()}else for(;p>0;)x=s.length(),v.push(C(s,p,d+1,u)),e-=x-s.length(),p-=x-s.length();if(v===void 0&&m===t.Class.UNIVERSAL&&i===t.Type.BITSTRING&&(_=s.bytes(p)),v===void 0&&u.decodeBitStrings&&m===t.Class.UNIVERSAL&&i===t.Type.BITSTRING&&p>1){var y=s.read,o=e,f=0;if(i===t.Type.BITSTRING&&(r(s,e,1),f=s.getByte(),e--),f===0)try{x=s.length();var l={verbose:u.verbose,strict:!0,decodeBitStrings:!0},b=C(s,e,d+1,l),h=x-s.length();e-=h,i==t.Type.BITSTRING&&h++;var N=b.tagClass;h===p&&(N===t.Class.UNIVERSAL||N===t.Class.CONTEXT_SPECIFIC)&&(v=[b])}catch{}v===void 0&&(s.read=y,e=o)}if(v===void 0){if(p===void 0){if(u.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");p=e}if(i===t.Type.BMPSTRING)for(v="";p>0;p-=2)r(s,e,2),v+=String.fromCharCode(s.getInt16()),e-=2;else v=s.getBytes(p)}var R=_===void 0?null:{bitStringContents:_};return t.create(m,i,n,v,R)}t.toDer=function(s){var e=a.util.createBuffer(),d=s.tagClass|s.type,u=a.util.createBuffer(),x=!1;if("bitStringContents"in s&&(x=!0,s.original&&(x=t.equals(s,s.original))),x)u.putBytes(s.bitStringContents);else if(s.composed){s.constructed?d|=32:u.putByte(0);for(var I=0;I<s.value.length;++I)s.value[I]!==void 0&&u.putBuffer(t.toDer(s.value[I]))}else if(s.type===t.Type.BMPSTRING)for(var I=0;I<s.value.length;++I)u.putInt16(s.value.charCodeAt(I));else s.type===t.Type.INTEGER&&s.value.length>1&&(s.value.charCodeAt(0)===0&&!(s.value.charCodeAt(1)&128)||s.value.charCodeAt(0)===255&&(s.value.charCodeAt(1)&128)===128)?u.putBytes(s.value.substr(1)):u.putBytes(s.value);if(e.putByte(d),u.length()<=127)e.putByte(u.length()&127);else{var m=u.length(),i="";do i+=String.fromCharCode(m&255),m=m>>>8;while(m>0);e.putByte(i.length|128);for(var I=i.length-1;I>=0;--I)e.putByte(i.charCodeAt(I))}return e.putBuffer(u),e},t.oidToDer=function(s){var e=s.split("."),d=a.util.createBuffer();d.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var u,x,I,m,i=2;i<e.length;++i){u=!0,x=[],I=parseInt(e[i],10);do m=I&127,I=I>>>7,u||(m|=128),x.push(m),u=!1;while(I>0);for(var p=x.length-1;p>=0;--p)d.putByte(x[p])}return d},t.derToOid=function(s){var e;typeof s=="string"&&(s=a.util.createBuffer(s));var d=s.getByte();e=Math.floor(d/40)+"."+d%40;for(var u=0;s.length()>0;)d=s.getByte(),u=u<<7,d&128?u+=d&127:(e+="."+(u+d),u=0);return e},t.utcTimeToDate=function(s){var e=new Date,d=parseInt(s.substr(0,2),10);d=d>=50?1900+d:2e3+d;var u=parseInt(s.substr(2,2),10)-1,x=parseInt(s.substr(4,2),10),I=parseInt(s.substr(6,2),10),m=parseInt(s.substr(8,2),10),i=0;if(s.length>11){var p=s.charAt(10),g=10;p!=="+"&&p!=="-"&&(i=parseInt(s.substr(10,2),10),g+=2)}if(e.setUTCFullYear(d,u,x),e.setUTCHours(I,m,i,0),g&&(p=s.charAt(g),p==="+"||p==="-")){var v=parseInt(s.substr(g+1,2),10),_=parseInt(s.substr(g+4,2),10),n=v*60+_;n*=6e4,p==="+"?e.setTime(+e-n):e.setTime(+e+n)}return e},t.generalizedTimeToDate=function(s){var e=new Date,d=parseInt(s.substr(0,4),10),u=parseInt(s.substr(4,2),10)-1,x=parseInt(s.substr(6,2),10),I=parseInt(s.substr(8,2),10),m=parseInt(s.substr(10,2),10),i=parseInt(s.substr(12,2),10),p=0,g=0,v=!1;s.charAt(s.length-1)==="Z"&&(v=!0);var _=s.length-5,n=s.charAt(_);if(n==="+"||n==="-"){var y=parseInt(s.substr(_+1,2),10),o=parseInt(s.substr(_+4,2),10);g=y*60+o,g*=6e4,n==="+"&&(g*=-1),v=!0}return s.charAt(14)==="."&&(p=parseFloat(s.substr(14),10)*1e3),v?(e.setUTCFullYear(d,u,x),e.setUTCHours(I,m,i,p),e.setTime(+e+g)):(e.setFullYear(d,u,x),e.setHours(I,m,i,p)),e},t.dateToUtcTime=function(s){if(typeof s=="string")return s;var e="",d=[];d.push((""+s.getUTCFullYear()).substr(2)),d.push(""+(s.getUTCMonth()+1)),d.push(""+s.getUTCDate()),d.push(""+s.getUTCHours()),d.push(""+s.getUTCMinutes()),d.push(""+s.getUTCSeconds());for(var u=0;u<d.length;++u)d[u].length<2&&(e+="0"),e+=d[u];return e+="Z",e},t.dateToGeneralizedTime=function(s){if(typeof s=="string")return s;var e="",d=[];d.push(""+s.getUTCFullYear()),d.push(""+(s.getUTCMonth()+1)),d.push(""+s.getUTCDate()),d.push(""+s.getUTCHours()),d.push(""+s.getUTCMinutes()),d.push(""+s.getUTCSeconds());for(var u=0;u<d.length;++u)d[u].length<2&&(e+="0"),e+=d[u];return e+="Z",e},t.integerToDer=function(s){var e=a.util.createBuffer();if(s>=-128&&s<128)return e.putSignedInt(s,8);if(s>=-32768&&s<32768)return e.putSignedInt(s,16);if(s>=-8388608&&s<8388608)return e.putSignedInt(s,24);if(s>=-2147483648&&s<2147483648)return e.putSignedInt(s,32);var d=new Error("Integer too large; max is 32-bits.");throw d.integer=s,d},t.derToInteger=function(s){typeof s=="string"&&(s=a.util.createBuffer(s));var e=s.length()*8;if(e>32)throw new Error("Integer too large; max is 32-bits.");return s.getSignedInt(e)},t.validate=function(s,e,d,u){var x=!1;if((s.tagClass===e.tagClass||typeof e.tagClass>"u")&&(s.type===e.type||typeof e.type>"u"))if(s.constructed===e.constructed||typeof e.constructed>"u"){if(x=!0,e.value&&a.util.isArray(e.value))for(var I=0,m=0;x&&m<e.value.length;++m)x=e.value[m].optional||!1,s.value[I]&&(x=t.validate(s.value[I],e.value[m],d,u),x?++I:e.value[m].optional&&(x=!0)),!x&&u&&u.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+s.value.length+'"');if(x&&d&&(e.capture&&(d[e.capture]=s.value),e.captureAsn1&&(d[e.captureAsn1]=s),e.captureBitStringContents&&"bitStringContents"in s&&(d[e.captureBitStringContents]=s.bitStringContents),e.captureBitStringValue&&"bitStringContents"in s))if(s.bitStringContents.length<2)d[e.captureBitStringValue]="";else{var i=s.bitStringContents.charCodeAt(0);if(i!==0)throw new Error("captureBitStringValue only supported for zero unused bits");d[e.captureBitStringValue]=s.bitStringContents.slice(1)}}else u&&u.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+s.constructed+'"');else u&&(s.tagClass!==e.tagClass&&u.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+s.tagClass+'"'),s.type!==e.type&&u.push("["+e.name+'] Expected type "'+e.type+'", got "'+s.type+'"'));return x};var c=/[^\\u0000-\\u00ff]/;return t.prettyPrint=function(s,e,d){var u="";e=e||0,d=d||2,e>0&&(u+=`
`);for(var x="",I=0;I<e*d;++I)x+=" ";switch(u+=x+"Tag: ",s.tagClass){case t.Class.UNIVERSAL:u+="Universal:";break;case t.Class.APPLICATION:u+="Application:";break;case t.Class.CONTEXT_SPECIFIC:u+="Context-Specific:";break;case t.Class.PRIVATE:u+="Private:";break}if(s.tagClass===t.Class.UNIVERSAL)switch(u+=s.type,s.type){case t.Type.NONE:u+=" (None)";break;case t.Type.BOOLEAN:u+=" (Boolean)";break;case t.Type.INTEGER:u+=" (Integer)";break;case t.Type.BITSTRING:u+=" (Bit string)";break;case t.Type.OCTETSTRING:u+=" (Octet string)";break;case t.Type.NULL:u+=" (Null)";break;case t.Type.OID:u+=" (Object Identifier)";break;case t.Type.ODESC:u+=" (Object Descriptor)";break;case t.Type.EXTERNAL:u+=" (External or Instance of)";break;case t.Type.REAL:u+=" (Real)";break;case t.Type.ENUMERATED:u+=" (Enumerated)";break;case t.Type.EMBEDDED:u+=" (Embedded PDV)";break;case t.Type.UTF8:u+=" (UTF8)";break;case t.Type.ROID:u+=" (Relative Object Identifier)";break;case t.Type.SEQUENCE:u+=" (Sequence)";break;case t.Type.SET:u+=" (Set)";break;case t.Type.PRINTABLESTRING:u+=" (Printable String)";break;case t.Type.IA5String:u+=" (IA5String (ASCII))";break;case t.Type.UTCTIME:u+=" (UTC time)";break;case t.Type.GENERALIZEDTIME:u+=" (Generalized time)";break;case t.Type.BMPSTRING:u+=" (BMP String)";break}else u+=s.type;if(u+=`
`,u+=x+"Constructed: "+s.constructed+`
`,s.composed){for(var m=0,i="",I=0;I<s.value.length;++I)s.value[I]!==void 0&&(m+=1,i+=t.prettyPrint(s.value[I],e+1,d),I+1<s.value.length&&(i+=","));u+=x+"Sub values: "+m+i}else{if(u+=x+"Value: ",s.type===t.Type.OID){var p=t.derToOid(s.value);u+=p,a.pki&&a.pki.oids&&p in a.pki.oids&&(u+=" ("+a.pki.oids[p]+") ")}if(s.type===t.Type.INTEGER)try{u+=t.derToInteger(s.value)}catch{u+="0x"+a.util.bytesToHex(s.value)}else if(s.type===t.Type.BITSTRING){if(s.value.length>1?u+="0x"+a.util.bytesToHex(s.value.slice(1)):u+="(none)",s.value.length>0){var g=s.value.charCodeAt(0);g==1?u+=" (1 unused bit shown)":g>1&&(u+=" ("+g+" unused bits shown)")}}else s.type===t.Type.OCTETSTRING?(c.test(s.value)||(u+="("+s.value+") "),u+="0x"+a.util.bytesToHex(s.value)):s.type===t.Type.UTF8?u+=a.util.decodeUtf8(s.value):s.type===t.Type.PRINTABLESTRING||s.type===t.Type.IA5String?u+=s.value:c.test(s.value)?u+="0x"+a.util.bytesToHex(s.value):s.value.length===0?u+="[null]":u+=s.value}return u},ar.exports}var or={exports:{}},ur,di;function ft(){if(di)return ur;di=1;var a=we();return ur=a.md=a.md||{},a.md.algorithms=a.md.algorithms||{},ur}var pi;function Ot(){if(pi)return or.exports;pi=1;var a=we();ft(),Re();var t=or.exports=a.hmac=a.hmac||{};return t.create=function(){var r=null,E=null,C=null,c=null,s={};return s.start=function(e,d){if(e!==null)if(typeof e=="string")if(e=e.toLowerCase(),e in a.md.algorithms)E=a.md.algorithms[e].create();else throw new Error('Unknown hash algorithm "'+e+'"');else E=e;if(d===null)d=r;else{if(typeof d=="string")d=a.util.createBuffer(d);else if(a.util.isArray(d)){var u=d;d=a.util.createBuffer();for(var x=0;x<u.length;++x)d.putByte(u[x])}var I=d.length();I>E.blockLength&&(E.start(),E.update(d.bytes()),d=E.digest()),C=a.util.createBuffer(),c=a.util.createBuffer(),I=d.length();for(var x=0;x<I;++x){var u=d.at(x);C.putByte(54^u),c.putByte(92^u)}if(I<E.blockLength)for(var u=E.blockLength-I,x=0;x<u;++x)C.putByte(54),c.putByte(92);r=d,C=C.bytes(),c=c.bytes()}E.start(),E.update(C)},s.update=function(e){E.update(e)},s.getMac=function(){var e=E.digest().bytes();return E.start(),E.update(c),E.update(e),E.digest()},s.digest=s.getMac,s},or.exports}var lr={exports:{}},gi;function Wr(){if(gi)return lr.exports;gi=1;var a=we();ft(),Re();var t=lr.exports=a.md5=a.md5||{};a.md.md5=a.md.algorithms.md5=t,t.create=function(){s||e();var u=null,x=a.util.createBuffer(),I=new Array(16),m={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return m.start=function(){m.messageLength=0,m.fullMessageLength=m.messageLength64=[];for(var i=m.messageLengthSize/4,p=0;p<i;++p)m.fullMessageLength.push(0);return x=a.util.createBuffer(),u={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},m},m.start(),m.update=function(i,p){p==="utf8"&&(i=a.util.encodeUtf8(i));var g=i.length;m.messageLength+=g,g=[g/4294967296>>>0,g>>>0];for(var v=m.fullMessageLength.length-1;v>=0;--v)m.fullMessageLength[v]+=g[1],g[1]=g[0]+(m.fullMessageLength[v]/4294967296>>>0),m.fullMessageLength[v]=m.fullMessageLength[v]>>>0,g[0]=g[1]/4294967296>>>0;return x.putBytes(i),d(u,I,x),(x.read>2048||x.length()===0)&&x.compact(),m},m.digest=function(){var i=a.util.createBuffer();i.putBytes(x.bytes());var p=m.fullMessageLength[m.fullMessageLength.length-1]+m.messageLengthSize,g=p&m.blockLength-1;i.putBytes(r.substr(0,m.blockLength-g));for(var v,_=0,n=m.fullMessageLength.length-1;n>=0;--n)v=m.fullMessageLength[n]*8+_,_=v/4294967296>>>0,i.putInt32Le(v>>>0);var y={h0:u.h0,h1:u.h1,h2:u.h2,h3:u.h3};d(y,I,i);var o=a.util.createBuffer();return o.putInt32Le(y.h0),o.putInt32Le(y.h1),o.putInt32Le(y.h2),o.putInt32Le(y.h3),o},m};var r=null,E=null,C=null,c=null,s=!1;function e(){r="",r+=a.util.fillString("\0",64),E=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],C=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],c=new Array(64);for(var u=0;u<64;++u)c[u]=Math.floor(Math.abs(Math.sin(u+1))*4294967296);s=!0}function d(u,x,I){for(var m,i,p,g,v,_,n,y,o=I.length();o>=64;){for(i=u.h0,p=u.h1,g=u.h2,v=u.h3,y=0;y<16;++y)x[y]=I.getInt32Le(),_=v^p&(g^v),m=i+_+c[y]+x[y],n=C[y],i=v,v=g,g=p,p+=m<<n|m>>>32-n;for(;y<32;++y)_=g^v&(p^g),m=i+_+c[y]+x[E[y]],n=C[y],i=v,v=g,g=p,p+=m<<n|m>>>32-n;for(;y<48;++y)_=p^g^v,m=i+_+c[y]+x[E[y]],n=C[y],i=v,v=g,g=p,p+=m<<n|m>>>32-n;for(;y<64;++y)_=g^(p|~v),m=i+_+c[y]+x[E[y]],n=C[y],i=v,v=g,g=p,p+=m<<n|m>>>32-n;u.h0=u.h0+i|0,u.h1=u.h1+p|0,u.h2=u.h2+g|0,u.h3=u.h3+v|0,o-=64}}return lr.exports}var fr={exports:{}},yi;function St(){if(yi)return fr.exports;yi=1;var a=we();Re();var t=fr.exports=a.pem=a.pem||{};t.encode=function(C,c){c=c||{};var s="-----BEGIN "+C.type+`-----\r
`,e;if(C.procType&&(e={name:"Proc-Type",values:[String(C.procType.version),C.procType.type]},s+=r(e)),C.contentDomain&&(e={name:"Content-Domain",values:[C.contentDomain]},s+=r(e)),C.dekInfo&&(e={name:"DEK-Info",values:[C.dekInfo.algorithm]},C.dekInfo.parameters&&e.values.push(C.dekInfo.parameters),s+=r(e)),C.headers)for(var d=0;d<C.headers.length;++d)s+=r(C.headers[d]);return C.procType&&(s+=`\r
`),s+=a.util.encode64(C.body,c.maxline||64)+`\r
`,s+="-----END "+C.type+`-----\r
`,s},t.decode=function(C){for(var c=[],s=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,e=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,d=/\r?\n/,u;u=s.exec(C),!!u;){var x={type:u[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:a.util.decode64(u[3])};if(c.push(x),!!u[2]){for(var I=u[2].split(d),m=0;u&&m<I.length;){for(var i=I[m].replace(/\s+$/,""),p=m+1;p<I.length;++p){var g=I[p];if(!/\s/.test(g[0]))break;i+=g,m=p}if(u=i.match(e),u){for(var v={name:u[1],values:[]},_=u[2].split(","),n=0;n<_.length;++n)v.values.push(E(_[n]));if(x.procType)if(!x.contentDomain&&v.name==="Content-Domain")x.contentDomain=_[0]||"";else if(!x.dekInfo&&v.name==="DEK-Info"){if(v.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');x.dekInfo={algorithm:_[0],parameters:_[1]||null}}else x.headers.push(v);else{if(v.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(v.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');x.procType={version:_[0],type:_[1]}}}++m}if(x.procType==="ENCRYPTED"&&!x.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(c.length===0)throw new Error("Invalid PEM formatted message.");return c};function r(C){for(var c=C.name+": ",s=[],e=function(m,i){return" "+i},d=0;d<C.values.length;++d)s.push(C.values[d].replace(/^(\S+\r\n)/,e));c+=s.join(",")+`\r
`;for(var u=0,x=-1,d=0;d<c.length;++d,++u)if(u>65&&x!==-1){var I=c[x];I===","?(++x,c=c.substr(0,x)+`\r
 `+c.substr(x)):c=c.substr(0,x)+`\r
`+I+c.substr(x+1),u=d-x-1,x=-1,++d}else(c[d]===" "||c[d]==="	"||c[d]===",")&&(x=d);return c}function E(C){return C.replace(/^\s+/,"")}return fr.exports}var cr={exports:{}},hr,vi;function Zt(){if(vi)return hr;vi=1;var a=we();Gr(),Cn(),Re(),hr=a.des=a.des||{},a.des.startEncrypting=function(i,p,g,v){var _=m({key:i,output:g,decrypt:!1,mode:v||(p===null?"ECB":"CBC")});return _.start(p),_},a.des.createEncryptionCipher=function(i,p){return m({key:i,output:null,decrypt:!1,mode:p})},a.des.startDecrypting=function(i,p,g,v){var _=m({key:i,output:g,decrypt:!0,mode:v||(p===null?"ECB":"CBC")});return _.start(p),_},a.des.createDecryptionCipher=function(i,p){return m({key:i,output:null,decrypt:!0,mode:p})},a.des.Algorithm=function(i,p){var g=this;g.name=i,g.mode=new p({blockSize:8,cipher:{encrypt:function(v,_){return I(g._keys,v,_,!1)},decrypt:function(v,_){return I(g._keys,v,_,!0)}}}),g._init=!1},a.des.Algorithm.prototype.initialize=function(i){if(!this._init){var p=a.util.createBuffer(i.key);if(this.name.indexOf("3DES")===0&&p.length()!==24)throw new Error("Invalid Triple-DES key size: "+p.length()*8);this._keys=x(p),this._init=!0}},t("DES-ECB",a.cipher.modes.ecb),t("DES-CBC",a.cipher.modes.cbc),t("DES-CFB",a.cipher.modes.cfb),t("DES-OFB",a.cipher.modes.ofb),t("DES-CTR",a.cipher.modes.ctr),t("3DES-ECB",a.cipher.modes.ecb),t("3DES-CBC",a.cipher.modes.cbc),t("3DES-CFB",a.cipher.modes.cfb),t("3DES-OFB",a.cipher.modes.ofb),t("3DES-CTR",a.cipher.modes.ctr);function t(i,p){var g=function(){return new a.des.Algorithm(i,p)};a.cipher.registerAlgorithm(i,g)}var r=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],E=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],C=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],c=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],s=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],e=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],d=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],u=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function x(i){for(var p=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],g=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],v=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],_=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],n=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],y=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],o=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],f=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],l=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],b=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],N=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],R=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],L=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],D=i.length()>8?3:1,z=[],k=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],Z=0,$,oe=0;oe<D;oe++){var fe=i.getInt32(),ae=i.getInt32();$=(fe>>>4^ae)&252645135,ae^=$,fe^=$<<4,$=(ae>>>-16^fe)&65535,fe^=$,ae^=$<<-16,$=(fe>>>2^ae)&858993459,ae^=$,fe^=$<<2,$=(ae>>>-16^fe)&65535,fe^=$,ae^=$<<-16,$=(fe>>>1^ae)&1431655765,ae^=$,fe^=$<<1,$=(ae>>>8^fe)&16711935,fe^=$,ae^=$<<8,$=(fe>>>1^ae)&1431655765,ae^=$,fe^=$<<1,$=fe<<8|ae>>>20&240,fe=ae<<24|ae<<8&16711680|ae>>>8&65280|ae>>>24&240,ae=$;for(var ge=0;ge<k.length;++ge){k[ge]?(fe=fe<<2|fe>>>26,ae=ae<<2|ae>>>26):(fe=fe<<1|fe>>>27,ae=ae<<1|ae>>>27),fe&=-15,ae&=-15;var ee=p[fe>>>28]|g[fe>>>24&15]|v[fe>>>20&15]|_[fe>>>16&15]|n[fe>>>12&15]|y[fe>>>8&15]|o[fe>>>4&15],J=f[ae>>>28]|l[ae>>>24&15]|b[ae>>>20&15]|h[ae>>>16&15]|N[ae>>>12&15]|R[ae>>>8&15]|L[ae>>>4&15];$=(J>>>16^ee)&65535,z[Z++]=ee^$,z[Z++]=J^$<<16}}return z}function I(i,p,g,v){var _=i.length===32?3:9,n;_===3?n=v?[30,-2,-2]:[0,32,2]:n=v?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var y,o=p[0],f=p[1];y=(o>>>4^f)&252645135,f^=y,o^=y<<4,y=(o>>>16^f)&65535,f^=y,o^=y<<16,y=(f>>>2^o)&858993459,o^=y,f^=y<<2,y=(f>>>8^o)&16711935,o^=y,f^=y<<8,y=(o>>>1^f)&1431655765,f^=y,o^=y<<1,o=o<<1|o>>>31,f=f<<1|f>>>31;for(var l=0;l<_;l+=3){for(var b=n[l+1],h=n[l+2],N=n[l];N!=b;N+=h){var R=f^i[N],L=(f>>>4|f<<28)^i[N+1];y=o,o=f,f=y^(E[R>>>24&63]|c[R>>>16&63]|e[R>>>8&63]|u[R&63]|r[L>>>24&63]|C[L>>>16&63]|s[L>>>8&63]|d[L&63])}y=o,o=f,f=y}o=o>>>1|o<<31,f=f>>>1|f<<31,y=(o>>>1^f)&1431655765,f^=y,o^=y<<1,y=(f>>>8^o)&16711935,o^=y,f^=y<<8,y=(f>>>2^o)&858993459,o^=y,f^=y<<2,y=(o>>>16^f)&65535,f^=y,o^=y<<16,y=(o>>>4^f)&252645135,f^=y,o^=y<<4,g[0]=o,g[1]=f}function m(i){i=i||{};var p=(i.mode||"CBC").toUpperCase(),g="DES-"+p,v;i.decrypt?v=a.cipher.createDecipher(g,i.key):v=a.cipher.createCipher(g,i.key);var _=v.start;return v.start=function(n,y){var o=null;y instanceof a.util.ByteBuffer&&(o=y,y={}),y=y||{},y.output=o,y.iv=n,_.call(v,y)},v}return hr}const ca={},ha=Object.freeze(Object.defineProperty({__proto__:null,default:ca},Symbol.toStringTag,{value:"Module"})),jr=ra(ha);var dr,mi;function Zr(){if(mi)return dr;mi=1;var a=we();Ot(),ft(),Re();var t=a.pkcs5=a.pkcs5||{},r;return a.util.isNodejs&&!a.options.usePureJavaScript&&(r=jr),dr=a.pbkdf2=t.pbkdf2=function(E,C,c,s,e,d){if(typeof e=="function"&&(d=e,e=null),a.util.isNodejs&&!a.options.usePureJavaScript&&r.pbkdf2&&(e===null||typeof e!="object")&&(r.pbkdf2Sync.length>4||!e||e==="sha1"))return typeof e!="string"&&(e="sha1"),E=Buffer.from(E,"binary"),C=Buffer.from(C,"binary"),d?r.pbkdf2Sync.length===4?r.pbkdf2(E,C,c,s,function(l,b){if(l)return d(l);d(null,b.toString("binary"))}):r.pbkdf2(E,C,c,s,e,function(l,b){if(l)return d(l);d(null,b.toString("binary"))}):r.pbkdf2Sync.length===4?r.pbkdf2Sync(E,C,c,s).toString("binary"):r.pbkdf2Sync(E,C,c,s,e).toString("binary");if((typeof e>"u"||e===null)&&(e="sha1"),typeof e=="string"){if(!(e in a.md.algorithms))throw new Error("Unknown hash algorithm: "+e);e=a.md[e].create()}var u=e.digestLength;if(s>4294967295*u){var x=new Error("Derived key is too long.");if(d)return d(x);throw x}var I=Math.ceil(s/u),m=s-(I-1)*u,i=a.hmac.create();i.start(e,E);var p="",g,v,_;if(!d){for(var n=1;n<=I;++n){i.start(null,null),i.update(C),i.update(a.util.int32ToBytes(n)),g=_=i.digest().getBytes();for(var y=2;y<=c;++y)i.start(null,null),i.update(_),v=i.digest().getBytes(),g=a.util.xorBytes(g,v,u),_=v;p+=n<I?g:g.substr(0,m)}return p}var n=1,y;function o(){if(n>I)return d(null,p);i.start(null,null),i.update(C),i.update(a.util.int32ToBytes(n)),g=_=i.digest().getBytes(),y=2,f()}function f(){if(y<=c)return i.start(null,null),i.update(_),v=i.digest().getBytes(),g=a.util.xorBytes(g,v,u),_=v,++y,a.util.setImmediate(f);p+=n<I?g:g.substr(0,m),++n,o()}o()},dr}var Kt={exports:{}},pr={exports:{}},xi;function En(){if(xi)return pr.exports;xi=1;var a=we();ft(),Re();var t=pr.exports=a.sha256=a.sha256||{};a.md.sha256=a.md.algorithms.sha256=t,t.create=function(){E||c();var e=null,d=a.util.createBuffer(),u=new Array(64),x={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return x.start=function(){x.messageLength=0,x.fullMessageLength=x.messageLength64=[];for(var I=x.messageLengthSize/4,m=0;m<I;++m)x.fullMessageLength.push(0);return d=a.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},x},x.start(),x.update=function(I,m){m==="utf8"&&(I=a.util.encodeUtf8(I));var i=I.length;x.messageLength+=i,i=[i/4294967296>>>0,i>>>0];for(var p=x.fullMessageLength.length-1;p>=0;--p)x.fullMessageLength[p]+=i[1],i[1]=i[0]+(x.fullMessageLength[p]/4294967296>>>0),x.fullMessageLength[p]=x.fullMessageLength[p]>>>0,i[0]=i[1]/4294967296>>>0;return d.putBytes(I),s(e,u,d),(d.read>2048||d.length()===0)&&d.compact(),x},x.digest=function(){var I=a.util.createBuffer();I.putBytes(d.bytes());var m=x.fullMessageLength[x.fullMessageLength.length-1]+x.messageLengthSize,i=m&x.blockLength-1;I.putBytes(r.substr(0,x.blockLength-i));for(var p,g,v=x.fullMessageLength[0]*8,_=0;_<x.fullMessageLength.length-1;++_)p=x.fullMessageLength[_+1]*8,g=p/4294967296>>>0,v+=g,I.putInt32(v>>>0),v=p>>>0;I.putInt32(v);var n={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};s(n,u,I);var y=a.util.createBuffer();return y.putInt32(n.h0),y.putInt32(n.h1),y.putInt32(n.h2),y.putInt32(n.h3),y.putInt32(n.h4),y.putInt32(n.h5),y.putInt32(n.h6),y.putInt32(n.h7),y},x};var r=null,E=!1,C=null;function c(){r="",r+=a.util.fillString("\0",64),C=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],E=!0}function s(e,d,u){for(var x,I,m,i,p,g,v,_,n,y,o,f,l,b,h,N=u.length();N>=64;){for(v=0;v<16;++v)d[v]=u.getInt32();for(;v<64;++v)x=d[v-2],x=(x>>>17|x<<15)^(x>>>19|x<<13)^x>>>10,I=d[v-15],I=(I>>>7|I<<25)^(I>>>18|I<<14)^I>>>3,d[v]=x+d[v-7]+I+d[v-16]|0;for(_=e.h0,n=e.h1,y=e.h2,o=e.h3,f=e.h4,l=e.h5,b=e.h6,h=e.h7,v=0;v<64;++v)i=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7),p=b^f&(l^b),m=(_>>>2|_<<30)^(_>>>13|_<<19)^(_>>>22|_<<10),g=_&n|y&(_^n),x=h+i+p+C[v]+d[v],I=m+g,h=b,b=l,l=f,f=o+x>>>0,o=y,y=n,n=_,_=x+I>>>0;e.h0=e.h0+_|0,e.h1=e.h1+n|0,e.h2=e.h2+y|0,e.h3=e.h3+o|0,e.h4=e.h4+f|0,e.h5=e.h5+l|0,e.h6=e.h6+b|0,e.h7=e.h7+h|0,N-=64}}return pr.exports}var gr={exports:{}},Ci;function Sn(){if(Ci)return gr.exports;Ci=1;var a=we();Re();var t=null;a.util.isNodejs&&!a.options.usePureJavaScript&&!process.versions["node-webkit"]&&(t=jr);var r=gr.exports=a.prng=a.prng||{};return r.create=function(E){for(var C={plugin:E,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},c=E.md,s=new Array(32),e=0;e<32;++e)s[e]=c.create();C.pools=s,C.pool=0,C.generate=function(m,i){if(!i)return C.generateSync(m);var p=C.plugin.cipher,g=C.plugin.increment,v=C.plugin.formatKey,_=C.plugin.formatSeed,n=a.util.createBuffer();C.key=null,y();function y(o){if(o)return i(o);if(n.length()>=m)return i(null,n.getBytes(m));if(C.generated>1048575&&(C.key=null),C.key===null)return a.util.nextTick(function(){d(y)});var f=p(C.key,C.seed);C.generated+=f.length,n.putBytes(f),C.key=v(p(C.key,g(C.seed))),C.seed=_(p(C.key,C.seed)),a.util.setImmediate(y)}},C.generateSync=function(m){var i=C.plugin.cipher,p=C.plugin.increment,g=C.plugin.formatKey,v=C.plugin.formatSeed;C.key=null;for(var _=a.util.createBuffer();_.length()<m;){C.generated>1048575&&(C.key=null),C.key===null&&u();var n=i(C.key,C.seed);C.generated+=n.length,_.putBytes(n),C.key=g(i(C.key,p(C.seed))),C.seed=v(i(C.key,C.seed))}return _.getBytes(m)};function d(m){if(C.pools[0].messageLength>=32)return x(),m();var i=32-C.pools[0].messageLength<<5;C.seedFile(i,function(p,g){if(p)return m(p);C.collect(g),x(),m()})}function u(){if(C.pools[0].messageLength>=32)return x();var m=32-C.pools[0].messageLength<<5;C.collect(C.seedFileSync(m)),x()}function x(){C.reseeds=C.reseeds===4294967295?0:C.reseeds+1;var m=C.plugin.md.create();m.update(C.keyBytes);for(var i=1,p=0;p<32;++p)C.reseeds%i===0&&(m.update(C.pools[p].digest().getBytes()),C.pools[p].start()),i=i<<1;C.keyBytes=m.digest().getBytes(),m.start(),m.update(C.keyBytes);var g=m.digest().getBytes();C.key=C.plugin.formatKey(C.keyBytes),C.seed=C.plugin.formatSeed(g),C.generated=0}function I(m){var i=null,p=a.util.globalScope,g=p.crypto||p.msCrypto;g&&g.getRandomValues&&(i=function(h){return g.getRandomValues(h)});var v=a.util.createBuffer();if(i)for(;v.length()<m;){var _=Math.max(1,Math.min(m-v.length(),65536)/4),n=new Uint32Array(Math.floor(_));try{i(n);for(var y=0;y<n.length;++y)v.putInt32(n[y])}catch(h){if(!(typeof QuotaExceededError<"u"&&h instanceof QuotaExceededError))throw h}}if(v.length()<m)for(var o,f,l,b=Math.floor(Math.random()*65536);v.length()<m;){f=16807*(b&65535),o=16807*(b>>16),f+=(o&32767)<<16,f+=o>>15,f=(f&2147483647)+(f>>31),b=f&4294967295;for(var y=0;y<3;++y)l=b>>>(y<<3),l^=Math.floor(Math.random()*256),v.putByte(String.fromCharCode(l&255))}return v.getBytes(m)}return t?(C.seedFile=function(m,i){t.randomBytes(m,function(p,g){if(p)return i(p);i(null,g.toString())})},C.seedFileSync=function(m){return t.randomBytes(m).toString()}):(C.seedFile=function(m,i){try{i(null,I(m))}catch(p){i(p)}},C.seedFileSync=I),C.collect=function(m){for(var i=m.length,p=0;p<i;++p)C.pools[C.pool].update(m.substr(p,1)),C.pool=C.pool===31?0:C.pool+1},C.collectInt=function(m,i){for(var p="",g=0;g<i;g+=8)p+=String.fromCharCode(m>>g&255);C.collect(p)},C.registerWorker=function(m){if(m===self)C.seedFile=function(p,g){function v(_){var n=_.data;n.forge&&n.forge.prng&&(self.removeEventListener("message",v),g(n.forge.prng.err,n.forge.prng.bytes))}self.addEventListener("message",v),self.postMessage({forge:{prng:{needed:p}}})};else{var i=function(p){var g=p.data;g.forge&&g.forge.prng&&C.seedFile(g.forge.prng.needed,function(v,_){m.postMessage({forge:{prng:{err:v,bytes:_}}})})};m.addEventListener("message",i)}},C},gr.exports}var Ei;function nt(){if(Ei)return Kt.exports;Ei=1;var a=we();return gt(),En(),Sn(),Re(),function(){if(a.random&&a.random.getBytes){Kt.exports=a.random;return}(function(t){var r={},E=new Array(4),C=a.util.createBuffer();r.formatKey=function(m){var i=a.util.createBuffer(m);return m=new Array(4),m[0]=i.getInt32(),m[1]=i.getInt32(),m[2]=i.getInt32(),m[3]=i.getInt32(),a.aes._expandKey(m,!1)},r.formatSeed=function(m){var i=a.util.createBuffer(m);return m=new Array(4),m[0]=i.getInt32(),m[1]=i.getInt32(),m[2]=i.getInt32(),m[3]=i.getInt32(),m},r.cipher=function(m,i){return a.aes._updateBlock(m,i,E,!1),C.putInt32(E[0]),C.putInt32(E[1]),C.putInt32(E[2]),C.putInt32(E[3]),C.getBytes()},r.increment=function(m){return++m[3],m},r.md=a.md.sha256;function c(){var m=a.prng.create(r);return m.getBytes=function(i,p){return m.generate(i,p)},m.getBytesSync=function(i){return m.generate(i)},m}var s=c(),e=null,d=a.util.globalScope,u=d.crypto||d.msCrypto;if(u&&u.getRandomValues&&(e=function(m){return u.getRandomValues(m)}),a.options.usePureJavaScript||!a.util.isNodejs&&!e){if(s.collectInt(+new Date,32),typeof navigator<"u"){var x="";for(var I in navigator)try{typeof navigator[I]=="string"&&(x+=navigator[I])}catch{}s.collect(x),x=null}t&&(t().mousemove(function(m){s.collectInt(m.clientX,16),s.collectInt(m.clientY,16)}),t().keypress(function(m){s.collectInt(m.charCode,8)}))}if(!a.random)a.random=s;else for(var I in s)a.random[I]=s[I];a.random.createInstance=c,Kt.exports=a.random})(typeof jQuery<"u"?jQuery:null)}(),Kt.exports}var yr,Si;function bn(){if(Si)return yr;Si=1;var a=we();Re();var t=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],r=[1,2,3,5],E=function(s,e){return s<<e&65535|(s&65535)>>16-e},C=function(s,e){return(s&65535)>>e|s<<16-e&65535};yr=a.rc2=a.rc2||{},a.rc2.expandKey=function(s,e){typeof s=="string"&&(s=a.util.createBuffer(s)),e=e||128;var d=s,u=s.length(),x=e,I=Math.ceil(x/8),m=255>>(x&7),i;for(i=u;i<128;i++)d.putByte(t[d.at(i-1)+d.at(i-u)&255]);for(d.setAt(128-I,t[d.at(128-I)&m]),i=127-I;i>=0;i--)d.setAt(i,t[d.at(i+1)^d.at(i+I)]);return d};var c=function(s,e,d){var u=!1,x=null,I=null,m=null,i,p,g,v,_=[];for(s=a.rc2.expandKey(s,e),g=0;g<64;g++)_.push(s.getInt16Le());d?(i=function(o){for(g=0;g<4;g++)o[g]+=_[v]+(o[(g+3)%4]&o[(g+2)%4])+(~o[(g+3)%4]&o[(g+1)%4]),o[g]=E(o[g],r[g]),v++},p=function(o){for(g=0;g<4;g++)o[g]+=_[o[(g+3)%4]&63]}):(i=function(o){for(g=3;g>=0;g--)o[g]=C(o[g],r[g]),o[g]-=_[v]+(o[(g+3)%4]&o[(g+2)%4])+(~o[(g+3)%4]&o[(g+1)%4]),v--},p=function(o){for(g=3;g>=0;g--)o[g]-=_[o[(g+3)%4]&63]});var n=function(o){var f=[];for(g=0;g<4;g++){var l=x.getInt16Le();m!==null&&(d?l^=m.getInt16Le():m.putInt16Le(l)),f.push(l&65535)}v=d?0:63;for(var b=0;b<o.length;b++)for(var h=0;h<o[b][0];h++)o[b][1](f);for(g=0;g<4;g++)m!==null&&(d?m.putInt16Le(f[g]):f[g]^=m.getInt16Le()),I.putInt16Le(f[g])},y=null;return y={start:function(o,f){o&&typeof o=="string"&&(o=a.util.createBuffer(o)),u=!1,x=a.util.createBuffer(),I=f||new a.util.createBuffer,m=o,y.output=I},update:function(o){for(u||x.putBuffer(o);x.length()>=8;)n([[5,i],[1,p],[6,i],[1,p],[5,i]])},finish:function(o){var f=!0;if(d)if(o)f=o(8,x,!d);else{var l=x.length()===8?8:8-x.length();x.fillWithByte(l,l)}if(f&&(u=!0,y.update()),!d&&(f=x.length()===0,f))if(o)f=o(8,I,!d);else{var b=I.length(),h=I.at(b-1);h>b?f=!1:I.truncate(h)}return f}},y};return a.rc2.startEncrypting=function(s,e,d){var u=a.rc2.createEncryptionCipher(s,128);return u.start(e,d),u},a.rc2.createEncryptionCipher=function(s,e){return c(s,e,!0)},a.rc2.startDecrypting=function(s,e,d){var u=a.rc2.createDecryptionCipher(s,128);return u.start(e,d),u},a.rc2.createDecryptionCipher=function(s,e){return c(s,e,!1)},yr}var vr,bi;function Qt(){if(bi)return vr;bi=1;var a=we();vr=a.jsbn=a.jsbn||{};var t;function r(U,V,W){this.data=[],U!=null&&(typeof U=="number"?this.fromNumber(U,V,W):V==null&&typeof U!="string"?this.fromString(U,256):this.fromString(U,V))}a.jsbn.BigInteger=r;function E(){return new r(null)}function C(U,V,W,te,de,pe){for(;--pe>=0;){var Se=V*this.data[U++]+W.data[te]+de;de=Math.floor(Se/67108864),W.data[te++]=Se&67108863}return de}function c(U,V,W,te,de,pe){for(var Se=V&32767,Ee=V>>15;--pe>=0;){var Ne=this.data[U]&32767,Qe=this.data[U++]>>15,$e=Ee*Ne+Qe*Se;Ne=Se*Ne+(($e&32767)<<15)+W.data[te]+(de&1073741823),de=(Ne>>>30)+($e>>>15)+Ee*Qe+(de>>>30),W.data[te++]=Ne&1073741823}return de}function s(U,V,W,te,de,pe){for(var Se=V&16383,Ee=V>>14;--pe>=0;){var Ne=this.data[U]&16383,Qe=this.data[U++]>>14,$e=Ee*Ne+Qe*Se;Ne=Se*Ne+(($e&16383)<<14)+W.data[te]+de,de=(Ne>>28)+($e>>14)+Ee*Qe,W.data[te++]=Ne&268435455}return de}typeof navigator>"u"?(r.prototype.am=s,t=28):navigator.appName=="Microsoft Internet Explorer"?(r.prototype.am=c,t=30):navigator.appName!="Netscape"?(r.prototype.am=C,t=26):(r.prototype.am=s,t=28),r.prototype.DB=t,r.prototype.DM=(1<<t)-1,r.prototype.DV=1<<t;var e=52;r.prototype.FV=Math.pow(2,e),r.prototype.F1=e-t,r.prototype.F2=2*t-e;var d="0123456789abcdefghijklmnopqrstuvwxyz",u=new Array,x,I;for(x=48,I=0;I<=9;++I)u[x++]=I;for(x=97,I=10;I<36;++I)u[x++]=I;for(x=65,I=10;I<36;++I)u[x++]=I;function m(U){return d.charAt(U)}function i(U,V){var W=u[U.charCodeAt(V)];return W??-1}function p(U){for(var V=this.t-1;V>=0;--V)U.data[V]=this.data[V];U.t=this.t,U.s=this.s}function g(U){this.t=1,this.s=U<0?-1:0,U>0?this.data[0]=U:U<-1?this.data[0]=U+this.DV:this.t=0}function v(U){var V=E();return V.fromInt(U),V}function _(U,V){var W;if(V==16)W=4;else if(V==8)W=3;else if(V==256)W=8;else if(V==2)W=1;else if(V==32)W=5;else if(V==4)W=2;else{this.fromRadix(U,V);return}this.t=0,this.s=0;for(var te=U.length,de=!1,pe=0;--te>=0;){var Se=W==8?U[te]&255:i(U,te);if(Se<0){U.charAt(te)=="-"&&(de=!0);continue}de=!1,pe==0?this.data[this.t++]=Se:pe+W>this.DB?(this.data[this.t-1]|=(Se&(1<<this.DB-pe)-1)<<pe,this.data[this.t++]=Se>>this.DB-pe):this.data[this.t-1]|=Se<<pe,pe+=W,pe>=this.DB&&(pe-=this.DB)}W==8&&U[0]&128&&(this.s=-1,pe>0&&(this.data[this.t-1]|=(1<<this.DB-pe)-1<<pe)),this.clamp(),de&&r.ZERO.subTo(this,this)}function n(){for(var U=this.s&this.DM;this.t>0&&this.data[this.t-1]==U;)--this.t}function y(U){if(this.s<0)return"-"+this.negate().toString(U);var V;if(U==16)V=4;else if(U==8)V=3;else if(U==2)V=1;else if(U==32)V=5;else if(U==4)V=2;else return this.toRadix(U);var W=(1<<V)-1,te,de=!1,pe="",Se=this.t,Ee=this.DB-Se*this.DB%V;if(Se-- >0)for(Ee<this.DB&&(te=this.data[Se]>>Ee)>0&&(de=!0,pe=m(te));Se>=0;)Ee<V?(te=(this.data[Se]&(1<<Ee)-1)<<V-Ee,te|=this.data[--Se]>>(Ee+=this.DB-V)):(te=this.data[Se]>>(Ee-=V)&W,Ee<=0&&(Ee+=this.DB,--Se)),te>0&&(de=!0),de&&(pe+=m(te));return de?pe:"0"}function o(){var U=E();return r.ZERO.subTo(this,U),U}function f(){return this.s<0?this.negate():this}function l(U){var V=this.s-U.s;if(V!=0)return V;var W=this.t;if(V=W-U.t,V!=0)return this.s<0?-V:V;for(;--W>=0;)if((V=this.data[W]-U.data[W])!=0)return V;return 0}function b(U){var V=1,W;return(W=U>>>16)!=0&&(U=W,V+=16),(W=U>>8)!=0&&(U=W,V+=8),(W=U>>4)!=0&&(U=W,V+=4),(W=U>>2)!=0&&(U=W,V+=2),(W=U>>1)!=0&&(U=W,V+=1),V}function h(){return this.t<=0?0:this.DB*(this.t-1)+b(this.data[this.t-1]^this.s&this.DM)}function N(U,V){var W;for(W=this.t-1;W>=0;--W)V.data[W+U]=this.data[W];for(W=U-1;W>=0;--W)V.data[W]=0;V.t=this.t+U,V.s=this.s}function R(U,V){for(var W=U;W<this.t;++W)V.data[W-U]=this.data[W];V.t=Math.max(this.t-U,0),V.s=this.s}function L(U,V){var W=U%this.DB,te=this.DB-W,de=(1<<te)-1,pe=Math.floor(U/this.DB),Se=this.s<<W&this.DM,Ee;for(Ee=this.t-1;Ee>=0;--Ee)V.data[Ee+pe+1]=this.data[Ee]>>te|Se,Se=(this.data[Ee]&de)<<W;for(Ee=pe-1;Ee>=0;--Ee)V.data[Ee]=0;V.data[pe]=Se,V.t=this.t+pe+1,V.s=this.s,V.clamp()}function D(U,V){V.s=this.s;var W=Math.floor(U/this.DB);if(W>=this.t){V.t=0;return}var te=U%this.DB,de=this.DB-te,pe=(1<<te)-1;V.data[0]=this.data[W]>>te;for(var Se=W+1;Se<this.t;++Se)V.data[Se-W-1]|=(this.data[Se]&pe)<<de,V.data[Se-W]=this.data[Se]>>te;te>0&&(V.data[this.t-W-1]|=(this.s&pe)<<de),V.t=this.t-W,V.clamp()}function z(U,V){for(var W=0,te=0,de=Math.min(U.t,this.t);W<de;)te+=this.data[W]-U.data[W],V.data[W++]=te&this.DM,te>>=this.DB;if(U.t<this.t){for(te-=U.s;W<this.t;)te+=this.data[W],V.data[W++]=te&this.DM,te>>=this.DB;te+=this.s}else{for(te+=this.s;W<U.t;)te-=U.data[W],V.data[W++]=te&this.DM,te>>=this.DB;te-=U.s}V.s=te<0?-1:0,te<-1?V.data[W++]=this.DV+te:te>0&&(V.data[W++]=te),V.t=W,V.clamp()}function k(U,V){var W=this.abs(),te=U.abs(),de=W.t;for(V.t=de+te.t;--de>=0;)V.data[de]=0;for(de=0;de<te.t;++de)V.data[de+W.t]=W.am(0,te.data[de],V,de,0,W.t);V.s=0,V.clamp(),this.s!=U.s&&r.ZERO.subTo(V,V)}function Z(U){for(var V=this.abs(),W=U.t=2*V.t;--W>=0;)U.data[W]=0;for(W=0;W<V.t-1;++W){var te=V.am(W,V.data[W],U,2*W,0,1);(U.data[W+V.t]+=V.am(W+1,2*V.data[W],U,2*W+1,te,V.t-W-1))>=V.DV&&(U.data[W+V.t]-=V.DV,U.data[W+V.t+1]=1)}U.t>0&&(U.data[U.t-1]+=V.am(W,V.data[W],U,2*W,0,1)),U.s=0,U.clamp()}function $(U,V,W){var te=U.abs();if(!(te.t<=0)){var de=this.abs();if(de.t<te.t){V!=null&&V.fromInt(0),W!=null&&this.copyTo(W);return}W==null&&(W=E());var pe=E(),Se=this.s,Ee=U.s,Ne=this.DB-b(te.data[te.t-1]);Ne>0?(te.lShiftTo(Ne,pe),de.lShiftTo(Ne,W)):(te.copyTo(pe),de.copyTo(W));var Qe=pe.t,$e=pe.data[Qe-1];if($e!=0){var Ye=$e*(1<<this.F1)+(Qe>1?pe.data[Qe-2]>>this.F2:0),lt=this.FV/Ye,Vt=(1<<this.F1)/Ye,rt=1<<this.F2,it=W.t,Mt=it-Qe,ct=V??E();for(pe.dlShiftTo(Mt,ct),W.compareTo(ct)>=0&&(W.data[W.t++]=1,W.subTo(ct,W)),r.ONE.dlShiftTo(Qe,ct),ct.subTo(pe,pe);pe.t<Qe;)pe.data[pe.t++]=0;for(;--Mt>=0;){var Xt=W.data[--it]==$e?this.DM:Math.floor(W.data[it]*lt+(W.data[it-1]+rt)*Vt);if((W.data[it]+=pe.am(0,Xt,W,Mt,0,Qe))<Xt)for(pe.dlShiftTo(Mt,ct),W.subTo(ct,W);W.data[it]<--Xt;)W.subTo(ct,W)}V!=null&&(W.drShiftTo(Qe,V),Se!=Ee&&r.ZERO.subTo(V,V)),W.t=Qe,W.clamp(),Ne>0&&W.rShiftTo(Ne,W),Se<0&&r.ZERO.subTo(W,W)}}}function oe(U){var V=E();return this.abs().divRemTo(U,null,V),this.s<0&&V.compareTo(r.ZERO)>0&&U.subTo(V,V),V}function fe(U){this.m=U}function ae(U){return U.s<0||U.compareTo(this.m)>=0?U.mod(this.m):U}function ge(U){return U}function ee(U){U.divRemTo(this.m,null,U)}function J(U,V,W){U.multiplyTo(V,W),this.reduce(W)}function xe(U,V){U.squareTo(V),this.reduce(V)}fe.prototype.convert=ae,fe.prototype.revert=ge,fe.prototype.reduce=ee,fe.prototype.mulTo=J,fe.prototype.sqrTo=xe;function ne(){if(this.t<1)return 0;var U=this.data[0];if(!(U&1))return 0;var V=U&3;return V=V*(2-(U&15)*V)&15,V=V*(2-(U&255)*V)&255,V=V*(2-((U&65535)*V&65535))&65535,V=V*(2-U*V%this.DV)%this.DV,V>0?this.DV-V:-V}function ce(U){this.m=U,this.mp=U.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<U.DB-15)-1,this.mt2=2*U.t}function ye(U){var V=E();return U.abs().dlShiftTo(this.m.t,V),V.divRemTo(this.m,null,V),U.s<0&&V.compareTo(r.ZERO)>0&&this.m.subTo(V,V),V}function ke(U){var V=E();return U.copyTo(V),this.reduce(V),V}function me(U){for(;U.t<=this.mt2;)U.data[U.t++]=0;for(var V=0;V<this.m.t;++V){var W=U.data[V]&32767,te=W*this.mpl+((W*this.mph+(U.data[V]>>15)*this.mpl&this.um)<<15)&U.DM;for(W=V+this.m.t,U.data[W]+=this.m.am(0,te,U,V,0,this.m.t);U.data[W]>=U.DV;)U.data[W]-=U.DV,U.data[++W]++}U.clamp(),U.drShiftTo(this.m.t,U),U.compareTo(this.m)>=0&&U.subTo(this.m,U)}function A(U,V){U.squareTo(V),this.reduce(V)}function K(U,V,W){U.multiplyTo(V,W),this.reduce(W)}ce.prototype.convert=ye,ce.prototype.revert=ke,ce.prototype.reduce=me,ce.prototype.mulTo=K,ce.prototype.sqrTo=A;function F(){return(this.t>0?this.data[0]&1:this.s)==0}function S(U,V){if(U>4294967295||U<1)return r.ONE;var W=E(),te=E(),de=V.convert(this),pe=b(U)-1;for(de.copyTo(W);--pe>=0;)if(V.sqrTo(W,te),(U&1<<pe)>0)V.mulTo(te,de,W);else{var Se=W;W=te,te=Se}return V.revert(W)}function O(U,V){var W;return U<256||V.isEven()?W=new fe(V):W=new ce(V),this.exp(U,W)}r.prototype.copyTo=p,r.prototype.fromInt=g,r.prototype.fromString=_,r.prototype.clamp=n,r.prototype.dlShiftTo=N,r.prototype.drShiftTo=R,r.prototype.lShiftTo=L,r.prototype.rShiftTo=D,r.prototype.subTo=z,r.prototype.multiplyTo=k,r.prototype.squareTo=Z,r.prototype.divRemTo=$,r.prototype.invDigit=ne,r.prototype.isEven=F,r.prototype.exp=S,r.prototype.toString=y,r.prototype.negate=o,r.prototype.abs=f,r.prototype.compareTo=l,r.prototype.bitLength=h,r.prototype.mod=oe,r.prototype.modPowInt=O,r.ZERO=v(0),r.ONE=v(1);function T(){var U=E();return this.copyTo(U),U}function M(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function Q(){return this.t==0?this.s:this.data[0]<<24>>24}function H(){return this.t==0?this.s:this.data[0]<<16>>16}function q(U){return Math.floor(Math.LN2*this.DB/Math.log(U))}function G(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function re(U){if(U==null&&(U=10),this.signum()==0||U<2||U>36)return"0";var V=this.chunkSize(U),W=Math.pow(U,V),te=v(W),de=E(),pe=E(),Se="";for(this.divRemTo(te,de,pe);de.signum()>0;)Se=(W+pe.intValue()).toString(U).substr(1)+Se,de.divRemTo(te,de,pe);return pe.intValue().toString(U)+Se}function ue(U,V){this.fromInt(0),V==null&&(V=10);for(var W=this.chunkSize(V),te=Math.pow(V,W),de=!1,pe=0,Se=0,Ee=0;Ee<U.length;++Ee){var Ne=i(U,Ee);if(Ne<0){U.charAt(Ee)=="-"&&this.signum()==0&&(de=!0);continue}Se=V*Se+Ne,++pe>=W&&(this.dMultiply(te),this.dAddOffset(Se,0),pe=0,Se=0)}pe>0&&(this.dMultiply(Math.pow(V,pe)),this.dAddOffset(Se,0)),de&&r.ZERO.subTo(this,this)}function X(U,V,W){if(typeof V=="number")if(U<2)this.fromInt(1);else for(this.fromNumber(U,W),this.testBit(U-1)||this.bitwiseTo(r.ONE.shiftLeft(U-1),j,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(V);)this.dAddOffset(2,0),this.bitLength()>U&&this.subTo(r.ONE.shiftLeft(U-1),this);else{var te=new Array,de=U&7;te.length=(U>>3)+1,V.nextBytes(te),de>0?te[0]&=(1<<de)-1:te[0]=0,this.fromString(te,256)}}function le(){var U=this.t,V=new Array;V[0]=this.s;var W=this.DB-U*this.DB%8,te,de=0;if(U-- >0)for(W<this.DB&&(te=this.data[U]>>W)!=(this.s&this.DM)>>W&&(V[de++]=te|this.s<<this.DB-W);U>=0;)W<8?(te=(this.data[U]&(1<<W)-1)<<8-W,te|=this.data[--U]>>(W+=this.DB-8)):(te=this.data[U]>>(W-=8)&255,W<=0&&(W+=this.DB,--U)),te&128&&(te|=-256),de==0&&(this.s&128)!=(te&128)&&++de,(de>0||te!=this.s)&&(V[de++]=te);return V}function ve(U){return this.compareTo(U)==0}function he(U){return this.compareTo(U)<0?this:U}function Ce(U){return this.compareTo(U)>0?this:U}function P(U,V,W){var te,de,pe=Math.min(U.t,this.t);for(te=0;te<pe;++te)W.data[te]=V(this.data[te],U.data[te]);if(U.t<this.t){for(de=U.s&this.DM,te=pe;te<this.t;++te)W.data[te]=V(this.data[te],de);W.t=this.t}else{for(de=this.s&this.DM,te=pe;te<U.t;++te)W.data[te]=V(de,U.data[te]);W.t=U.t}W.s=V(this.s,U.s),W.clamp()}function w(U,V){return U&V}function B(U){var V=E();return this.bitwiseTo(U,w,V),V}function j(U,V){return U|V}function Y(U){var V=E();return this.bitwiseTo(U,j,V),V}function ie(U,V){return U^V}function se(U){var V=E();return this.bitwiseTo(U,ie,V),V}function be(U,V){return U&~V}function Ae(U){var V=E();return this.bitwiseTo(U,be,V),V}function _e(){for(var U=E(),V=0;V<this.t;++V)U.data[V]=this.DM&~this.data[V];return U.t=this.t,U.s=~this.s,U}function Be(U){var V=E();return U<0?this.rShiftTo(-U,V):this.lShiftTo(U,V),V}function Ie(U){var V=E();return U<0?this.lShiftTo(-U,V):this.rShiftTo(U,V),V}function et(U){if(U==0)return-1;var V=0;return U&65535||(U>>=16,V+=16),U&255||(U>>=8,V+=8),U&15||(U>>=4,V+=4),U&3||(U>>=2,V+=2),U&1||++V,V}function at(){for(var U=0;U<this.t;++U)if(this.data[U]!=0)return U*this.DB+et(this.data[U]);return this.s<0?this.t*this.DB:-1}function st(U){for(var V=0;U!=0;)U&=U-1,++V;return V}function Xe(){for(var U=0,V=this.s&this.DM,W=0;W<this.t;++W)U+=st(this.data[W]^V);return U}function ot(U){var V=Math.floor(U/this.DB);return V>=this.t?this.s!=0:(this.data[V]&1<<U%this.DB)!=0}function Ft(U,V){var W=r.ONE.shiftLeft(U);return this.bitwiseTo(W,V,W),W}function Ue(U){return this.changeBit(U,j)}function Oe(U){return this.changeBit(U,be)}function Pe(U){return this.changeBit(U,ie)}function Fe(U,V){for(var W=0,te=0,de=Math.min(U.t,this.t);W<de;)te+=this.data[W]+U.data[W],V.data[W++]=te&this.DM,te>>=this.DB;if(U.t<this.t){for(te+=U.s;W<this.t;)te+=this.data[W],V.data[W++]=te&this.DM,te>>=this.DB;te+=this.s}else{for(te+=this.s;W<U.t;)te+=U.data[W],V.data[W++]=te&this.DM,te>>=this.DB;te+=U.s}V.s=te<0?-1:0,te>0?V.data[W++]=te:te<-1&&(V.data[W++]=this.DV+te),V.t=W,V.clamp()}function Ve(U){var V=E();return this.addTo(U,V),V}function Me(U){var V=E();return this.subTo(U,V),V}function Ke(U){var V=E();return this.multiplyTo(U,V),V}function ze(U){var V=E();return this.divRemTo(U,V,null),V}function qe(U){var V=E();return this.divRemTo(U,null,V),V}function He(U){var V=E(),W=E();return this.divRemTo(U,V,W),new Array(V,W)}function Ge(U){this.data[this.t]=this.am(0,U-1,this,0,0,this.t),++this.t,this.clamp()}function We(U,V){if(U!=0){for(;this.t<=V;)this.data[this.t++]=0;for(this.data[V]+=U;this.data[V]>=this.DV;)this.data[V]-=this.DV,++V>=this.t&&(this.data[this.t++]=0),++this.data[V]}}function De(){}function Le(U){return U}function je(U,V,W){U.multiplyTo(V,W)}function Ze(U,V){U.squareTo(V)}De.prototype.convert=Le,De.prototype.revert=Le,De.prototype.mulTo=je,De.prototype.sqrTo=Ze;function Mn(U){return this.exp(U,new De)}function Kn(U,V,W){var te=Math.min(this.t+U.t,V);for(W.s=0,W.t=te;te>0;)W.data[--te]=0;var de;for(de=W.t-this.t;te<de;++te)W.data[te+this.t]=this.am(0,U.data[te],W,te,0,this.t);for(de=Math.min(U.t,V);te<de;++te)this.am(0,U.data[te],W,te,0,V-te);W.clamp()}function zn(U,V,W){--V;var te=W.t=this.t+U.t-V;for(W.s=0;--te>=0;)W.data[te]=0;for(te=Math.max(V-this.t,0);te<U.t;++te)W.data[this.t+te-V]=this.am(V-te,U.data[te],W,0,0,this.t+te-V);W.clamp(),W.drShiftTo(1,W)}function vt(U){this.r2=E(),this.q3=E(),r.ONE.dlShiftTo(2*U.t,this.r2),this.mu=this.r2.divide(U),this.m=U}function qn(U){if(U.s<0||U.t>2*this.m.t)return U.mod(this.m);if(U.compareTo(this.m)<0)return U;var V=E();return U.copyTo(V),this.reduce(V),V}function Hn(U){return U}function Gn(U){for(U.drShiftTo(this.m.t-1,this.r2),U.t>this.m.t+1&&(U.t=this.m.t+1,U.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);U.compareTo(this.r2)<0;)U.dAddOffset(1,this.m.t+1);for(U.subTo(this.r2,U);U.compareTo(this.m)>=0;)U.subTo(this.m,U)}function Wn(U,V){U.squareTo(V),this.reduce(V)}function jn(U,V,W){U.multiplyTo(V,W),this.reduce(W)}vt.prototype.convert=qn,vt.prototype.revert=Hn,vt.prototype.reduce=Gn,vt.prototype.mulTo=jn,vt.prototype.sqrTo=Wn;function Zn(U,V){var W=U.bitLength(),te,de=v(1),pe;if(W<=0)return de;W<18?te=1:W<48?te=3:W<144?te=4:W<768?te=5:te=6,W<8?pe=new fe(V):V.isEven()?pe=new vt(V):pe=new ce(V);var Se=new Array,Ee=3,Ne=te-1,Qe=(1<<te)-1;if(Se[1]=pe.convert(this),te>1){var $e=E();for(pe.sqrTo(Se[1],$e);Ee<=Qe;)Se[Ee]=E(),pe.mulTo($e,Se[Ee-2],Se[Ee]),Ee+=2}var Ye=U.t-1,lt,Vt=!0,rt=E(),it;for(W=b(U.data[Ye])-1;Ye>=0;){for(W>=Ne?lt=U.data[Ye]>>W-Ne&Qe:(lt=(U.data[Ye]&(1<<W+1)-1)<<Ne-W,Ye>0&&(lt|=U.data[Ye-1]>>this.DB+W-Ne)),Ee=te;!(lt&1);)lt>>=1,--Ee;if((W-=Ee)<0&&(W+=this.DB,--Ye),Vt)Se[lt].copyTo(de),Vt=!1;else{for(;Ee>1;)pe.sqrTo(de,rt),pe.sqrTo(rt,de),Ee-=2;Ee>0?pe.sqrTo(de,rt):(it=de,de=rt,rt=it),pe.mulTo(rt,Se[lt],de)}for(;Ye>=0&&!(U.data[Ye]&1<<W);)pe.sqrTo(de,rt),it=de,de=rt,rt=it,--W<0&&(W=this.DB-1,--Ye)}return pe.revert(de)}function Qn(U){var V=this.s<0?this.negate():this.clone(),W=U.s<0?U.negate():U.clone();if(V.compareTo(W)<0){var te=V;V=W,W=te}var de=V.getLowestSetBit(),pe=W.getLowestSetBit();if(pe<0)return V;for(de<pe&&(pe=de),pe>0&&(V.rShiftTo(pe,V),W.rShiftTo(pe,W));V.signum()>0;)(de=V.getLowestSetBit())>0&&V.rShiftTo(de,V),(de=W.getLowestSetBit())>0&&W.rShiftTo(de,W),V.compareTo(W)>=0?(V.subTo(W,V),V.rShiftTo(1,V)):(W.subTo(V,W),W.rShiftTo(1,W));return pe>0&&W.lShiftTo(pe,W),W}function Yn(U){if(U<=0)return 0;var V=this.DV%U,W=this.s<0?U-1:0;if(this.t>0)if(V==0)W=this.data[0]%U;else for(var te=this.t-1;te>=0;--te)W=(V*W+this.data[te])%U;return W}function Xn(U){var V=U.isEven();if(this.isEven()&&V||U.signum()==0)return r.ZERO;for(var W=U.clone(),te=this.clone(),de=v(1),pe=v(0),Se=v(0),Ee=v(1);W.signum()!=0;){for(;W.isEven();)W.rShiftTo(1,W),V?((!de.isEven()||!pe.isEven())&&(de.addTo(this,de),pe.subTo(U,pe)),de.rShiftTo(1,de)):pe.isEven()||pe.subTo(U,pe),pe.rShiftTo(1,pe);for(;te.isEven();)te.rShiftTo(1,te),V?((!Se.isEven()||!Ee.isEven())&&(Se.addTo(this,Se),Ee.subTo(U,Ee)),Se.rShiftTo(1,Se)):Ee.isEven()||Ee.subTo(U,Ee),Ee.rShiftTo(1,Ee);W.compareTo(te)>=0?(W.subTo(te,W),V&&de.subTo(Se,de),pe.subTo(Ee,pe)):(te.subTo(W,te),V&&Se.subTo(de,Se),Ee.subTo(pe,Ee))}if(te.compareTo(r.ONE)!=0)return r.ZERO;if(Ee.compareTo(U)>=0)return Ee.subtract(U);if(Ee.signum()<0)Ee.addTo(U,Ee);else return Ee;return Ee.signum()<0?Ee.add(U):Ee}var tt=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],$n=(1<<26)/tt[tt.length-1];function Jn(U){var V,W=this.abs();if(W.t==1&&W.data[0]<=tt[tt.length-1]){for(V=0;V<tt.length;++V)if(W.data[0]==tt[V])return!0;return!1}if(W.isEven())return!1;for(V=1;V<tt.length;){for(var te=tt[V],de=V+1;de<tt.length&&te<$n;)te*=tt[de++];for(te=W.modInt(te);V<de;)if(te%tt[V++]==0)return!1}return W.millerRabin(U)}function ea(U){var V=this.subtract(r.ONE),W=V.getLowestSetBit();if(W<=0)return!1;for(var te=V.shiftRight(W),de=ta(),pe,Se=0;Se<U;++Se){do pe=new r(this.bitLength(),de);while(pe.compareTo(r.ONE)<=0||pe.compareTo(V)>=0);var Ee=pe.modPow(te,this);if(Ee.compareTo(r.ONE)!=0&&Ee.compareTo(V)!=0){for(var Ne=1;Ne++<W&&Ee.compareTo(V)!=0;)if(Ee=Ee.modPowInt(2,this),Ee.compareTo(r.ONE)==0)return!1;if(Ee.compareTo(V)!=0)return!1}}return!0}function ta(){return{nextBytes:function(U){for(var V=0;V<U.length;++V)U[V]=Math.floor(Math.random()*256)}}}return r.prototype.chunkSize=q,r.prototype.toRadix=re,r.prototype.fromRadix=ue,r.prototype.fromNumber=X,r.prototype.bitwiseTo=P,r.prototype.changeBit=Ft,r.prototype.addTo=Fe,r.prototype.dMultiply=Ge,r.prototype.dAddOffset=We,r.prototype.multiplyLowerTo=Kn,r.prototype.multiplyUpperTo=zn,r.prototype.modInt=Yn,r.prototype.millerRabin=ea,r.prototype.clone=T,r.prototype.intValue=M,r.prototype.byteValue=Q,r.prototype.shortValue=H,r.prototype.signum=G,r.prototype.toByteArray=le,r.prototype.equals=ve,r.prototype.min=he,r.prototype.max=Ce,r.prototype.and=B,r.prototype.or=Y,r.prototype.xor=se,r.prototype.andNot=Ae,r.prototype.not=_e,r.prototype.shiftLeft=Be,r.prototype.shiftRight=Ie,r.prototype.getLowestSetBit=at,r.prototype.bitCount=Xe,r.prototype.testBit=ot,r.prototype.setBit=Ue,r.prototype.clearBit=Oe,r.prototype.flipBit=Pe,r.prototype.add=Ve,r.prototype.subtract=Me,r.prototype.multiply=Ke,r.prototype.divide=ze,r.prototype.remainder=qe,r.prototype.divideAndRemainder=He,r.prototype.modPow=Zn,r.prototype.modInverse=Xn,r.prototype.pow=Mn,r.prototype.gcd=Qn,r.prototype.isProbablePrime=Jn,vr}var mr={exports:{}},xr={exports:{}},_i;function Pt(){if(_i)return xr.exports;_i=1;var a=we();ft(),Re();var t=xr.exports=a.sha1=a.sha1||{};a.md.sha1=a.md.algorithms.sha1=t,t.create=function(){E||C();var s=null,e=a.util.createBuffer(),d=new Array(80),u={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return u.start=function(){u.messageLength=0,u.fullMessageLength=u.messageLength64=[];for(var x=u.messageLengthSize/4,I=0;I<x;++I)u.fullMessageLength.push(0);return e=a.util.createBuffer(),s={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},u},u.start(),u.update=function(x,I){I==="utf8"&&(x=a.util.encodeUtf8(x));var m=x.length;u.messageLength+=m,m=[m/4294967296>>>0,m>>>0];for(var i=u.fullMessageLength.length-1;i>=0;--i)u.fullMessageLength[i]+=m[1],m[1]=m[0]+(u.fullMessageLength[i]/4294967296>>>0),u.fullMessageLength[i]=u.fullMessageLength[i]>>>0,m[0]=m[1]/4294967296>>>0;return e.putBytes(x),c(s,d,e),(e.read>2048||e.length()===0)&&e.compact(),u},u.digest=function(){var x=a.util.createBuffer();x.putBytes(e.bytes());var I=u.fullMessageLength[u.fullMessageLength.length-1]+u.messageLengthSize,m=I&u.blockLength-1;x.putBytes(r.substr(0,u.blockLength-m));for(var i,p,g=u.fullMessageLength[0]*8,v=0;v<u.fullMessageLength.length-1;++v)i=u.fullMessageLength[v+1]*8,p=i/4294967296>>>0,g+=p,x.putInt32(g>>>0),g=i>>>0;x.putInt32(g);var _={h0:s.h0,h1:s.h1,h2:s.h2,h3:s.h3,h4:s.h4};c(_,d,x);var n=a.util.createBuffer();return n.putInt32(_.h0),n.putInt32(_.h1),n.putInt32(_.h2),n.putInt32(_.h3),n.putInt32(_.h4),n},u};var r=null,E=!1;function C(){r="",r+=a.util.fillString("\0",64),E=!0}function c(s,e,d){for(var u,x,I,m,i,p,g,v,_=d.length();_>=64;){for(x=s.h0,I=s.h1,m=s.h2,i=s.h3,p=s.h4,v=0;v<16;++v)u=d.getInt32(),e[v]=u,g=i^I&(m^i),u=(x<<5|x>>>27)+g+p+1518500249+u,p=i,i=m,m=(I<<30|I>>>2)>>>0,I=x,x=u;for(;v<20;++v)u=e[v-3]^e[v-8]^e[v-14]^e[v-16],u=u<<1|u>>>31,e[v]=u,g=i^I&(m^i),u=(x<<5|x>>>27)+g+p+1518500249+u,p=i,i=m,m=(I<<30|I>>>2)>>>0,I=x,x=u;for(;v<32;++v)u=e[v-3]^e[v-8]^e[v-14]^e[v-16],u=u<<1|u>>>31,e[v]=u,g=I^m^i,u=(x<<5|x>>>27)+g+p+1859775393+u,p=i,i=m,m=(I<<30|I>>>2)>>>0,I=x,x=u;for(;v<40;++v)u=e[v-6]^e[v-16]^e[v-28]^e[v-32],u=u<<2|u>>>30,e[v]=u,g=I^m^i,u=(x<<5|x>>>27)+g+p+1859775393+u,p=i,i=m,m=(I<<30|I>>>2)>>>0,I=x,x=u;for(;v<60;++v)u=e[v-6]^e[v-16]^e[v-28]^e[v-32],u=u<<2|u>>>30,e[v]=u,g=I&m|i&(I^m),u=(x<<5|x>>>27)+g+p+2400959708+u,p=i,i=m,m=(I<<30|I>>>2)>>>0,I=x,x=u;for(;v<80;++v)u=e[v-6]^e[v-16]^e[v-28]^e[v-32],u=u<<2|u>>>30,e[v]=u,g=I^m^i,u=(x<<5|x>>>27)+g+p+3395469782+u,p=i,i=m,m=(I<<30|I>>>2)>>>0,I=x,x=u;s.h0=s.h0+x|0,s.h1=s.h1+I|0,s.h2=s.h2+m|0,s.h3=s.h3+i|0,s.h4=s.h4+p|0,_-=64}}return xr.exports}var Ti;function _n(){if(Ti)return mr.exports;Ti=1;var a=we();Re(),nt(),Pt();var t=mr.exports=a.pkcs1=a.pkcs1||{};t.encode_rsa_oaep=function(E,C,c){var s,e,d,u;typeof c=="string"?(s=c,e=arguments[3]||void 0,d=arguments[4]||void 0):c&&(s=c.label||void 0,e=c.seed||void 0,d=c.md||void 0,c.mgf1&&c.mgf1.md&&(u=c.mgf1.md)),d?d.start():d=a.md.sha1.create(),u||(u=d);var x=Math.ceil(E.n.bitLength()/8),I=x-2*d.digestLength-2;if(C.length>I){var m=new Error("RSAES-OAEP input message length is too long.");throw m.length=C.length,m.maxLength=I,m}s||(s=""),d.update(s,"raw");for(var i=d.digest(),p="",g=I-C.length,v=0;v<g;v++)p+="\0";var _=i.getBytes()+p+""+C;if(!e)e=a.random.getBytes(d.digestLength);else if(e.length!==d.digestLength){var m=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw m.seedLength=e.length,m.digestLength=d.digestLength,m}var n=r(e,x-d.digestLength-1,u),y=a.util.xorBytes(_,n,_.length),o=r(y,d.digestLength,u),f=a.util.xorBytes(e,o,e.length);return"\0"+f+y},t.decode_rsa_oaep=function(E,C,c){var s,e,d;typeof c=="string"?(s=c,e=arguments[3]||void 0):c&&(s=c.label||void 0,e=c.md||void 0,c.mgf1&&c.mgf1.md&&(d=c.mgf1.md));var u=Math.ceil(E.n.bitLength()/8);if(C.length!==u){var y=new Error("RSAES-OAEP encoded message length is invalid.");throw y.length=C.length,y.expectedLength=u,y}if(e===void 0?e=a.md.sha1.create():e.start(),d||(d=e),u<2*e.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");s||(s=""),e.update(s,"raw");for(var x=e.digest().getBytes(),I=C.charAt(0),m=C.substring(1,e.digestLength+1),i=C.substring(1+e.digestLength),p=r(i,e.digestLength,d),g=a.util.xorBytes(m,p,m.length),v=r(g,u-e.digestLength-1,d),_=a.util.xorBytes(i,v,i.length),n=_.substring(0,e.digestLength),y=I!=="\0",o=0;o<e.digestLength;++o)y|=x.charAt(o)!==n.charAt(o);for(var f=1,l=e.digestLength,b=e.digestLength;b<_.length;b++){var h=_.charCodeAt(b),N=h&1^1,R=f?65534:0;y|=h&R,f=f&N,l+=f}if(y||_.charCodeAt(l)!==1)throw new Error("Invalid RSAES-OAEP padding.");return _.substring(l+1)};function r(E,C,c){c||(c=a.md.sha1.create());for(var s="",e=Math.ceil(C/c.digestLength),d=0;d<e;++d){var u=String.fromCharCode(d>>24&255,d>>16&255,d>>8&255,d&255);c.start(),c.update(E+u),s+=c.digest().getBytes()}return s.substring(0,C)}return mr.exports}var zt={exports:{}},wi;function Tn(){if(wi)return zt.exports;wi=1;var a=we();return Re(),Qt(),nt(),function(){if(a.prime){zt.exports=a.prime;return}var t=zt.exports=a.prime=a.prime||{},r=a.jsbn.BigInteger,E=[6,4,2,4,2,4,6,2],C=new r(null);C.fromInt(30);var c=function(m,i){return m|i};t.generateProbablePrime=function(m,i,p){typeof i=="function"&&(p=i,i={}),i=i||{};var g=i.algorithm||"PRIMEINC";typeof g=="string"&&(g={name:g}),g.options=g.options||{};var v=i.prng||a.random,_={nextBytes:function(n){for(var y=v.getBytesSync(n.length),o=0;o<n.length;++o)n[o]=y.charCodeAt(o)}};if(g.name==="PRIMEINC")return s(m,_,g.options,p);throw new Error("Invalid prime generation algorithm: "+g.name)};function s(m,i,p,g){return"workers"in p?u(m,i,p,g):e(m,i,p,g)}function e(m,i,p,g){var v=x(m,i),_=0,n=I(v.bitLength());"millerRabinTests"in p&&(n=p.millerRabinTests);var y=10;"maxBlockTime"in p&&(y=p.maxBlockTime),d(v,m,i,_,n,y,g)}function d(m,i,p,g,v,_,n){var y=+new Date;do{if(m.bitLength()>i&&(m=x(i,p)),m.isProbablePrime(v))return n(null,m);m.dAddOffset(E[g++%8],0)}while(_<0||+new Date-y<_);a.util.setImmediate(function(){d(m,i,p,g,v,_,n)})}function u(m,i,p,g){if(typeof Worker>"u")return e(m,i,p,g);var v=x(m,i),_=p.workers,n=p.workLoad||100,y=n*30/8,o=p.workerScript||"forge/prime.worker.js";if(_===-1)return a.util.estimateCores(function(l,b){l&&(b=2),_=b-1,f()});f();function f(){_=Math.max(1,_);for(var l=[],b=0;b<_;++b)l[b]=new Worker(o);for(var b=0;b<_;++b)l[b].addEventListener("message",N);var h=!1;function N(R){if(!h){var L=R.data;if(L.found){for(var D=0;D<l.length;++D)l[D].terminate();return h=!0,g(null,new r(L.prime,16))}v.bitLength()>m&&(v=x(m,i));var z=v.toString(16);R.target.postMessage({hex:z,workLoad:n}),v.dAddOffset(y,0)}}}}function x(m,i){var p=new r(m,i),g=m-1;return p.testBit(g)||p.bitwiseTo(r.ONE.shiftLeft(g),c,p),p.dAddOffset(31-p.mod(C).byteValue(),0),p}function I(m){return m<=100?27:m<=150?18:m<=200?15:m<=250?12:m<=300?9:m<=350?8:m<=400?7:m<=500?6:m<=600?5:m<=800?4:m<=1250?3:2}}(),zt.exports}var Cr,Ai;function Yt(){if(Ai)return Cr;Ai=1;var a=we();if(ut(),Qt(),yt(),_n(),Tn(),nt(),Re(),typeof t>"u")var t=a.jsbn.BigInteger;var r=a.util.isNodejs?jr:null,E=a.asn1,C=a.util;a.pki=a.pki||{},Cr=a.pki.rsa=a.rsa=a.rsa||{};var c=a.pki,s=[6,4,2,4,2,4,6,2],e={name:"PrivateKeyInfo",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:E.Class.UNIVERSAL,type:E.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:E.Class.UNIVERSAL,type:E.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:E.Class.UNIVERSAL,type:E.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},d={name:"RSAPrivateKey",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:E.Class.UNIVERSAL,type:E.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:E.Class.UNIVERSAL,type:E.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:E.Class.UNIVERSAL,type:E.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:E.Class.UNIVERSAL,type:E.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:E.Class.UNIVERSAL,type:E.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:E.Class.UNIVERSAL,type:E.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:E.Class.UNIVERSAL,type:E.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:E.Class.UNIVERSAL,type:E.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:E.Class.UNIVERSAL,type:E.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},u={name:"RSAPublicKey",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:E.Class.UNIVERSAL,type:E.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:E.Class.UNIVERSAL,type:E.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},x=a.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:E.Class.UNIVERSAL,type:E.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:E.Class.UNIVERSAL,type:E.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},I=function(l){var b;if(l.algorithm in c.oids)b=c.oids[l.algorithm];else{var h=new Error("Unknown message digest algorithm.");throw h.algorithm=l.algorithm,h}var N=E.oidToDer(b).getBytes(),R=E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[]),L=E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[]);L.value.push(E.create(E.Class.UNIVERSAL,E.Type.OID,!1,N)),L.value.push(E.create(E.Class.UNIVERSAL,E.Type.NULL,!1,""));var D=E.create(E.Class.UNIVERSAL,E.Type.OCTETSTRING,!1,l.digest().getBytes());return R.value.push(L),R.value.push(D),E.toDer(R).getBytes()},m=function(l,b,h){if(h)return l.modPow(b.e,b.n);if(!b.p||!b.q)return l.modPow(b.d,b.n);b.dP||(b.dP=b.d.mod(b.p.subtract(t.ONE))),b.dQ||(b.dQ=b.d.mod(b.q.subtract(t.ONE))),b.qInv||(b.qInv=b.q.modInverse(b.p));var N;do N=new t(a.util.bytesToHex(a.random.getBytes(b.n.bitLength()/8)),16);while(N.compareTo(b.n)>=0||!N.gcd(b.n).equals(t.ONE));l=l.multiply(N.modPow(b.e,b.n)).mod(b.n);for(var R=l.mod(b.p).modPow(b.dP,b.p),L=l.mod(b.q).modPow(b.dQ,b.q);R.compareTo(L)<0;)R=R.add(b.p);var D=R.subtract(L).multiply(b.qInv).mod(b.p).multiply(b.q).add(L);return D=D.multiply(N.modInverse(b.n)).mod(b.n),D};c.rsa.encrypt=function(l,b,h){var N=h,R,L=Math.ceil(b.n.bitLength()/8);h!==!1&&h!==!0?(N=h===2,R=i(l,b,h)):(R=a.util.createBuffer(),R.putBytes(l));for(var D=new t(R.toHex(),16),z=m(D,b,N),k=z.toString(16),Z=a.util.createBuffer(),$=L-Math.ceil(k.length/2);$>0;)Z.putByte(0),--$;return Z.putBytes(a.util.hexToBytes(k)),Z.getBytes()},c.rsa.decrypt=function(l,b,h,N){var R=Math.ceil(b.n.bitLength()/8);if(l.length!==R){var L=new Error("Encrypted message length is invalid.");throw L.length=l.length,L.expected=R,L}var D=new t(a.util.createBuffer(l).toHex(),16);if(D.compareTo(b.n)>=0)throw new Error("Encrypted message is invalid.");for(var z=m(D,b,h),k=z.toString(16),Z=a.util.createBuffer(),$=R-Math.ceil(k.length/2);$>0;)Z.putByte(0),--$;return Z.putBytes(a.util.hexToBytes(k)),N!==!1?p(Z.getBytes(),b,h):Z.getBytes()},c.rsa.createKeyPairGenerationState=function(l,b,h){typeof l=="string"&&(l=parseInt(l,10)),l=l||2048,h=h||{};var N=h.prng||a.random,R={nextBytes:function(z){for(var k=N.getBytesSync(z.length),Z=0;Z<z.length;++Z)z[Z]=k.charCodeAt(Z)}},L=h.algorithm||"PRIMEINC",D;if(L==="PRIMEINC")D={algorithm:L,state:0,bits:l,rng:R,eInt:b||65537,e:new t(null),p:null,q:null,qBits:l>>1,pBits:l-(l>>1),pqState:0,num:null,keys:null},D.e.fromInt(D.eInt);else throw new Error("Invalid key generation algorithm: "+L);return D},c.rsa.stepKeyPairGenerationState=function(l,b){"algorithm"in l||(l.algorithm="PRIMEINC");var h=new t(null);h.fromInt(30);for(var N=0,R=function(oe,fe){return oe|fe},L=+new Date,D,z=0;l.keys===null&&(b<=0||z<b);){if(l.state===0){var k=l.p===null?l.pBits:l.qBits,Z=k-1;l.pqState===0?(l.num=new t(k,l.rng),l.num.testBit(Z)||l.num.bitwiseTo(t.ONE.shiftLeft(Z),R,l.num),l.num.dAddOffset(31-l.num.mod(h).byteValue(),0),N=0,++l.pqState):l.pqState===1?l.num.bitLength()>k?l.pqState=0:l.num.isProbablePrime(_(l.num.bitLength()))?++l.pqState:l.num.dAddOffset(s[N++%8],0):l.pqState===2?l.pqState=l.num.subtract(t.ONE).gcd(l.e).compareTo(t.ONE)===0?3:0:l.pqState===3&&(l.pqState=0,l.p===null?l.p=l.num:l.q=l.num,l.p!==null&&l.q!==null&&++l.state,l.num=null)}else if(l.state===1)l.p.compareTo(l.q)<0&&(l.num=l.p,l.p=l.q,l.q=l.num),++l.state;else if(l.state===2)l.p1=l.p.subtract(t.ONE),l.q1=l.q.subtract(t.ONE),l.phi=l.p1.multiply(l.q1),++l.state;else if(l.state===3)l.phi.gcd(l.e).compareTo(t.ONE)===0?++l.state:(l.p=null,l.q=null,l.state=0);else if(l.state===4)l.n=l.p.multiply(l.q),l.n.bitLength()===l.bits?++l.state:(l.q=null,l.state=0);else if(l.state===5){var $=l.e.modInverse(l.phi);l.keys={privateKey:c.rsa.setPrivateKey(l.n,l.e,$,l.p,l.q,$.mod(l.p1),$.mod(l.q1),l.q.modInverse(l.p)),publicKey:c.rsa.setPublicKey(l.n,l.e)}}D=+new Date,z+=D-L,L=D}return l.keys!==null},c.rsa.generateKeyPair=function(l,b,h,N){if(arguments.length===1?typeof l=="object"?(h=l,l=void 0):typeof l=="function"&&(N=l,l=void 0):arguments.length===2?typeof l=="number"?typeof b=="function"?(N=b,b=void 0):typeof b!="number"&&(h=b,b=void 0):(h=l,N=b,l=void 0,b=void 0):arguments.length===3&&(typeof b=="number"?typeof h=="function"&&(N=h,h=void 0):(N=h,h=b,b=void 0)),h=h||{},l===void 0&&(l=h.bits||2048),b===void 0&&(b=h.e||65537),!a.options.usePureJavaScript&&!h.prng&&l>=256&&l<=16384&&(b===65537||b===3)){if(N){if(n("generateKeyPair"))return r.generateKeyPair("rsa",{modulusLength:l,publicExponent:b,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(z,k,Z){if(z)return N(z);N(null,{privateKey:c.privateKeyFromPem(Z),publicKey:c.publicKeyFromPem(k)})});if(y("generateKey")&&y("exportKey"))return C.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:l,publicExponent:f(b),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(z){return C.globalScope.crypto.subtle.exportKey("pkcs8",z.privateKey)}).then(void 0,function(z){N(z)}).then(function(z){if(z){var k=c.privateKeyFromAsn1(E.fromDer(a.util.createBuffer(z)));N(null,{privateKey:k,publicKey:c.setRsaPublicKey(k.n,k.e)})}});if(o("generateKey")&&o("exportKey")){var R=C.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:l,publicExponent:f(b),hash:{name:"SHA-256"}},!0,["sign","verify"]);R.oncomplete=function(z){var k=z.target.result,Z=C.globalScope.msCrypto.subtle.exportKey("pkcs8",k.privateKey);Z.oncomplete=function($){var oe=$.target.result,fe=c.privateKeyFromAsn1(E.fromDer(a.util.createBuffer(oe)));N(null,{privateKey:fe,publicKey:c.setRsaPublicKey(fe.n,fe.e)})},Z.onerror=function($){N($)}},R.onerror=function(z){N(z)};return}}else if(n("generateKeyPairSync")){var L=r.generateKeyPairSync("rsa",{modulusLength:l,publicExponent:b,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:c.privateKeyFromPem(L.privateKey),publicKey:c.publicKeyFromPem(L.publicKey)}}}var D=c.rsa.createKeyPairGenerationState(l,b,h);if(!N)return c.rsa.stepKeyPairGenerationState(D,0),D.keys;g(D,h,N)},c.setRsaPublicKey=c.rsa.setPublicKey=function(l,b){var h={n:l,e:b};return h.encrypt=function(N,R,L){if(typeof R=="string"?R=R.toUpperCase():R===void 0&&(R="RSAES-PKCS1-V1_5"),R==="RSAES-PKCS1-V1_5")R={encode:function(z,k,Z){return i(z,k,2).getBytes()}};else if(R==="RSA-OAEP"||R==="RSAES-OAEP")R={encode:function(z,k){return a.pkcs1.encode_rsa_oaep(k,z,L)}};else if(["RAW","NONE","NULL",null].indexOf(R)!==-1)R={encode:function(z){return z}};else if(typeof R=="string")throw new Error('Unsupported encryption scheme: "'+R+'".');var D=R.encode(N,h,!0);return c.rsa.encrypt(D,h,!0)},h.verify=function(N,R,L){typeof L=="string"?L=L.toUpperCase():L===void 0&&(L="RSASSA-PKCS1-V1_5"),L==="RSASSA-PKCS1-V1_5"?L={verify:function(z,k){k=p(k,h,!0);var Z=E.fromDer(k);return z===Z.value[1].value}}:(L==="NONE"||L==="NULL"||L===null)&&(L={verify:function(z,k){return k=p(k,h,!0),z===k}});var D=c.rsa.decrypt(R,h,!0,!1);return L.verify(N,D,h.n.bitLength())},h},c.setRsaPrivateKey=c.rsa.setPrivateKey=function(l,b,h,N,R,L,D,z){var k={n:l,e:b,d:h,p:N,q:R,dP:L,dQ:D,qInv:z};return k.decrypt=function(Z,$,oe){typeof $=="string"?$=$.toUpperCase():$===void 0&&($="RSAES-PKCS1-V1_5");var fe=c.rsa.decrypt(Z,k,!1,!1);if($==="RSAES-PKCS1-V1_5")$={decode:p};else if($==="RSA-OAEP"||$==="RSAES-OAEP")$={decode:function(ae,ge){return a.pkcs1.decode_rsa_oaep(ge,ae,oe)}};else if(["RAW","NONE","NULL",null].indexOf($)!==-1)$={decode:function(ae){return ae}};else throw new Error('Unsupported encryption scheme: "'+$+'".');return $.decode(fe,k,!1)},k.sign=function(Z,$){var oe=!1;typeof $=="string"&&($=$.toUpperCase()),$===void 0||$==="RSASSA-PKCS1-V1_5"?($={encode:I},oe=1):($==="NONE"||$==="NULL"||$===null)&&($={encode:function(){return Z}},oe=1);var fe=$.encode(Z,k.n.bitLength());return c.rsa.encrypt(fe,k,oe)},k},c.wrapRsaPrivateKey=function(l){return E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[E.create(E.Class.UNIVERSAL,E.Type.INTEGER,!1,E.integerToDer(0).getBytes()),E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[E.create(E.Class.UNIVERSAL,E.Type.OID,!1,E.oidToDer(c.oids.rsaEncryption).getBytes()),E.create(E.Class.UNIVERSAL,E.Type.NULL,!1,"")]),E.create(E.Class.UNIVERSAL,E.Type.OCTETSTRING,!1,E.toDer(l).getBytes())])},c.privateKeyFromAsn1=function(l){var b={},h=[];if(E.validate(l,e,b,h)&&(l=E.fromDer(a.util.createBuffer(b.privateKey))),b={},h=[],!E.validate(l,d,b,h)){var N=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw N.errors=h,N}var R,L,D,z,k,Z,$,oe;return R=a.util.createBuffer(b.privateKeyModulus).toHex(),L=a.util.createBuffer(b.privateKeyPublicExponent).toHex(),D=a.util.createBuffer(b.privateKeyPrivateExponent).toHex(),z=a.util.createBuffer(b.privateKeyPrime1).toHex(),k=a.util.createBuffer(b.privateKeyPrime2).toHex(),Z=a.util.createBuffer(b.privateKeyExponent1).toHex(),$=a.util.createBuffer(b.privateKeyExponent2).toHex(),oe=a.util.createBuffer(b.privateKeyCoefficient).toHex(),c.setRsaPrivateKey(new t(R,16),new t(L,16),new t(D,16),new t(z,16),new t(k,16),new t(Z,16),new t($,16),new t(oe,16))},c.privateKeyToAsn1=c.privateKeyToRSAPrivateKey=function(l){return E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[E.create(E.Class.UNIVERSAL,E.Type.INTEGER,!1,E.integerToDer(0).getBytes()),E.create(E.Class.UNIVERSAL,E.Type.INTEGER,!1,v(l.n)),E.create(E.Class.UNIVERSAL,E.Type.INTEGER,!1,v(l.e)),E.create(E.Class.UNIVERSAL,E.Type.INTEGER,!1,v(l.d)),E.create(E.Class.UNIVERSAL,E.Type.INTEGER,!1,v(l.p)),E.create(E.Class.UNIVERSAL,E.Type.INTEGER,!1,v(l.q)),E.create(E.Class.UNIVERSAL,E.Type.INTEGER,!1,v(l.dP)),E.create(E.Class.UNIVERSAL,E.Type.INTEGER,!1,v(l.dQ)),E.create(E.Class.UNIVERSAL,E.Type.INTEGER,!1,v(l.qInv))])},c.publicKeyFromAsn1=function(l){var b={},h=[];if(E.validate(l,x,b,h)){var N=E.derToOid(b.publicKeyOid);if(N!==c.oids.rsaEncryption){var R=new Error("Cannot read public key. Unknown OID.");throw R.oid=N,R}l=b.rsaPublicKey}if(h=[],!E.validate(l,u,b,h)){var R=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw R.errors=h,R}var L=a.util.createBuffer(b.publicKeyModulus).toHex(),D=a.util.createBuffer(b.publicKeyExponent).toHex();return c.setRsaPublicKey(new t(L,16),new t(D,16))},c.publicKeyToAsn1=c.publicKeyToSubjectPublicKeyInfo=function(l){return E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[E.create(E.Class.UNIVERSAL,E.Type.OID,!1,E.oidToDer(c.oids.rsaEncryption).getBytes()),E.create(E.Class.UNIVERSAL,E.Type.NULL,!1,"")]),E.create(E.Class.UNIVERSAL,E.Type.BITSTRING,!1,[c.publicKeyToRSAPublicKey(l)])])},c.publicKeyToRSAPublicKey=function(l){return E.create(E.Class.UNIVERSAL,E.Type.SEQUENCE,!0,[E.create(E.Class.UNIVERSAL,E.Type.INTEGER,!1,v(l.n)),E.create(E.Class.UNIVERSAL,E.Type.INTEGER,!1,v(l.e))])};function i(l,b,h){var N=a.util.createBuffer(),R=Math.ceil(b.n.bitLength()/8);if(l.length>R-11){var L=new Error("Message is too long for PKCS#1 v1.5 padding.");throw L.length=l.length,L.max=R-11,L}N.putByte(0),N.putByte(h);var D=R-3-l.length,z;if(h===0||h===1){z=h===0?0:255;for(var k=0;k<D;++k)N.putByte(z)}else for(;D>0;){for(var Z=0,$=a.random.getBytes(D),k=0;k<D;++k)z=$.charCodeAt(k),z===0?++Z:N.putByte(z);D=Z}return N.putByte(0),N.putBytes(l),N}function p(l,b,h,N){var R=Math.ceil(b.n.bitLength()/8),L=a.util.createBuffer(l),D=L.getByte(),z=L.getByte();if(D!==0||h&&z!==0&&z!==1||!h&&z!=2||h&&z===0&&typeof N>"u")throw new Error("Encryption block is invalid.");var k=0;if(z===0){k=R-3-N;for(var Z=0;Z<k;++Z)if(L.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(z===1)for(k=0;L.length()>1;){if(L.getByte()!==255){--L.read;break}++k}else if(z===2)for(k=0;L.length()>1;){if(L.getByte()===0){--L.read;break}++k}var $=L.getByte();if($!==0||k!==R-3-L.length())throw new Error("Encryption block is invalid.");return L.getBytes()}function g(l,b,h){typeof b=="function"&&(h=b,b={}),b=b||{};var N={algorithm:{name:b.algorithm||"PRIMEINC",options:{workers:b.workers||2,workLoad:b.workLoad||100,workerScript:b.workerScript}}};"prng"in b&&(N.prng=b.prng),R();function R(){L(l.pBits,function(z,k){if(z)return h(z);if(l.p=k,l.q!==null)return D(z,l.q);L(l.qBits,D)})}function L(z,k){a.prime.generateProbablePrime(z,N,k)}function D(z,k){if(z)return h(z);if(l.q=k,l.p.compareTo(l.q)<0){var Z=l.p;l.p=l.q,l.q=Z}if(l.p.subtract(t.ONE).gcd(l.e).compareTo(t.ONE)!==0){l.p=null,R();return}if(l.q.subtract(t.ONE).gcd(l.e).compareTo(t.ONE)!==0){l.q=null,L(l.qBits,D);return}if(l.p1=l.p.subtract(t.ONE),l.q1=l.q.subtract(t.ONE),l.phi=l.p1.multiply(l.q1),l.phi.gcd(l.e).compareTo(t.ONE)!==0){l.p=l.q=null,R();return}if(l.n=l.p.multiply(l.q),l.n.bitLength()!==l.bits){l.q=null,L(l.qBits,D);return}var $=l.e.modInverse(l.phi);l.keys={privateKey:c.rsa.setPrivateKey(l.n,l.e,$,l.p,l.q,$.mod(l.p1),$.mod(l.q1),l.q.modInverse(l.p)),publicKey:c.rsa.setPublicKey(l.n,l.e)},h(null,l.keys)}}function v(l){var b=l.toString(16);b[0]>="8"&&(b="00"+b);var h=a.util.hexToBytes(b);return h.length>1&&(h.charCodeAt(0)===0&&!(h.charCodeAt(1)&128)||h.charCodeAt(0)===255&&(h.charCodeAt(1)&128)===128)?h.substr(1):h}function _(l){return l<=100?27:l<=150?18:l<=200?15:l<=250?12:l<=300?9:l<=350?8:l<=400?7:l<=500?6:l<=600?5:l<=800?4:l<=1250?3:2}function n(l){return a.util.isNodejs&&typeof r[l]=="function"}function y(l){return typeof C.globalScope<"u"&&typeof C.globalScope.crypto=="object"&&typeof C.globalScope.crypto.subtle=="object"&&typeof C.globalScope.crypto.subtle[l]=="function"}function o(l){return typeof C.globalScope<"u"&&typeof C.globalScope.msCrypto=="object"&&typeof C.globalScope.msCrypto.subtle=="object"&&typeof C.globalScope.msCrypto.subtle[l]=="function"}function f(l){for(var b=a.util.hexToBytes(l.toString(16)),h=new Uint8Array(b.length),N=0;N<b.length;++N)h[N]=b.charCodeAt(N);return h}return Cr}var Er,Ii;function wn(){if(Ii)return Er;Ii=1;var a=we();if(gt(),ut(),Zt(),ft(),yt(),Zr(),St(),nt(),bn(),Yt(),Re(),typeof t>"u")var t=a.jsbn.BigInteger;var r=a.asn1,E=a.pki=a.pki||{};Er=E.pbe=a.pbe=a.pbe||{};var C=E.oids,c={name:"EncryptedPrivateKeyInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},s={name:"PBES2Algorithms",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},e={name:"pkcs-12PbeParams",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"iterations"}]};E.encryptPrivateKeyInfo=function(m,i,p){p=p||{},p.saltSize=p.saltSize||8,p.count=p.count||2048,p.algorithm=p.algorithm||"aes128",p.prfAlgorithm=p.prfAlgorithm||"sha1";var g=a.random.getBytesSync(p.saltSize),v=p.count,_=r.integerToDer(v),n,y,o;if(p.algorithm.indexOf("aes")===0||p.algorithm==="des"){var f,l,b;switch(p.algorithm){case"aes128":n=16,f=16,l=C["aes128-CBC"],b=a.aes.createEncryptionCipher;break;case"aes192":n=24,f=16,l=C["aes192-CBC"],b=a.aes.createEncryptionCipher;break;case"aes256":n=32,f=16,l=C["aes256-CBC"],b=a.aes.createEncryptionCipher;break;case"des":n=8,f=8,l=C.desCBC,b=a.des.createEncryptionCipher;break;default:var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=p.algorithm,h}var N="hmacWith"+p.prfAlgorithm.toUpperCase(),R=x(N),L=a.pkcs5.pbkdf2(i,g,v,n,R),D=a.random.getBytesSync(f),z=b(L);z.start(D),z.update(r.toDer(m)),z.finish(),o=z.output.getBytes();var k=I(g,_,n,N);y=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(C.pkcs5PBES2).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(C.pkcs5PBKDF2).getBytes()),k]),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(l).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,D)])])])}else if(p.algorithm==="3des"){n=24;var Z=new a.util.ByteBuffer(g),L=E.pbe.generatePkcs12Key(i,Z,1,v,n),D=E.pbe.generatePkcs12Key(i,Z,2,v,n),z=a.des.createEncryptionCipher(L);z.start(D),z.update(r.toDer(m)),z.finish(),o=z.output.getBytes(),y=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(C["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,g),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,_.getBytes())])])}else{var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=p.algorithm,h}var $=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[y,r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,o)]);return $},E.decryptPrivateKeyInfo=function(m,i){var p=null,g={},v=[];if(!r.validate(m,c,g,v)){var _=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw _.errors=v,_}var n=r.derToOid(g.encryptionOid),y=E.pbe.getCipher(n,g.encryptionParams,i),o=a.util.createBuffer(g.encryptedData);return y.update(o),y.finish()&&(p=r.fromDer(y.output)),p},E.encryptedPrivateKeyToPem=function(m,i){var p={type:"ENCRYPTED PRIVATE KEY",body:r.toDer(m).getBytes()};return a.pem.encode(p,{maxline:i})},E.encryptedPrivateKeyFromPem=function(m){var i=a.pem.decode(m)[0];if(i.type!=="ENCRYPTED PRIVATE KEY"){var p=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw p.headerType=i.type,p}if(i.procType&&i.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return r.fromDer(i.body)},E.encryptRsaPrivateKey=function(m,i,p){if(p=p||{},!p.legacy){var g=E.wrapRsaPrivateKey(E.privateKeyToAsn1(m));return g=E.encryptPrivateKeyInfo(g,i,p),E.encryptedPrivateKeyToPem(g)}var v,_,n,y;switch(p.algorithm){case"aes128":v="AES-128-CBC",n=16,_=a.random.getBytesSync(16),y=a.aes.createEncryptionCipher;break;case"aes192":v="AES-192-CBC",n=24,_=a.random.getBytesSync(16),y=a.aes.createEncryptionCipher;break;case"aes256":v="AES-256-CBC",n=32,_=a.random.getBytesSync(16),y=a.aes.createEncryptionCipher;break;case"3des":v="DES-EDE3-CBC",n=24,_=a.random.getBytesSync(8),y=a.des.createEncryptionCipher;break;case"des":v="DES-CBC",n=8,_=a.random.getBytesSync(8),y=a.des.createEncryptionCipher;break;default:var o=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+p.algorithm+'".');throw o.algorithm=p.algorithm,o}var f=a.pbe.opensslDeriveBytes(i,_.substr(0,8),n),l=y(f);l.start(_),l.update(r.toDer(E.privateKeyToAsn1(m))),l.finish();var b={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:v,parameters:a.util.bytesToHex(_).toUpperCase()},body:l.output.getBytes()};return a.pem.encode(b)},E.decryptRsaPrivateKey=function(m,i){var p=null,g=a.pem.decode(m)[0];if(g.type!=="ENCRYPTED PRIVATE KEY"&&g.type!=="PRIVATE KEY"&&g.type!=="RSA PRIVATE KEY"){var v=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw v.headerType=v,v}if(g.procType&&g.procType.type==="ENCRYPTED"){var _,n;switch(g.dekInfo.algorithm){case"DES-CBC":_=8,n=a.des.createDecryptionCipher;break;case"DES-EDE3-CBC":_=24,n=a.des.createDecryptionCipher;break;case"AES-128-CBC":_=16,n=a.aes.createDecryptionCipher;break;case"AES-192-CBC":_=24,n=a.aes.createDecryptionCipher;break;case"AES-256-CBC":_=32,n=a.aes.createDecryptionCipher;break;case"RC2-40-CBC":_=5,n=function(b){return a.rc2.createDecryptionCipher(b,40)};break;case"RC2-64-CBC":_=8,n=function(b){return a.rc2.createDecryptionCipher(b,64)};break;case"RC2-128-CBC":_=16,n=function(b){return a.rc2.createDecryptionCipher(b,128)};break;default:var v=new Error('Could not decrypt private key; unsupported encryption algorithm "'+g.dekInfo.algorithm+'".');throw v.algorithm=g.dekInfo.algorithm,v}var y=a.util.hexToBytes(g.dekInfo.parameters),o=a.pbe.opensslDeriveBytes(i,y.substr(0,8),_),f=n(o);if(f.start(y),f.update(a.util.createBuffer(g.body)),f.finish())p=f.output.getBytes();else return p}else p=g.body;return g.type==="ENCRYPTED PRIVATE KEY"?p=E.decryptPrivateKeyInfo(r.fromDer(p),i):p=r.fromDer(p),p!==null&&(p=E.privateKeyFromAsn1(p)),p},E.pbe.generatePkcs12Key=function(m,i,p,g,v,_){var n,y;if(typeof _>"u"||_===null){if(!("sha1"in a.md))throw new Error('"sha1" hash algorithm unavailable.');_=a.md.sha1.create()}var o=_.digestLength,f=_.blockLength,l=new a.util.ByteBuffer,b=new a.util.ByteBuffer;if(m!=null){for(y=0;y<m.length;y++)b.putInt16(m.charCodeAt(y));b.putInt16(0)}var h=b.length(),N=i.length(),R=new a.util.ByteBuffer;R.fillWithByte(p,f);var L=f*Math.ceil(N/f),D=new a.util.ByteBuffer;for(y=0;y<L;y++)D.putByte(i.at(y%N));var z=f*Math.ceil(h/f),k=new a.util.ByteBuffer;for(y=0;y<z;y++)k.putByte(b.at(y%h));var Z=D;Z.putBuffer(k);for(var $=Math.ceil(v/o),oe=1;oe<=$;oe++){var fe=new a.util.ByteBuffer;fe.putBytes(R.bytes()),fe.putBytes(Z.bytes());for(var ae=0;ae<g;ae++)_.start(),_.update(fe.getBytes()),fe=_.digest();var ge=new a.util.ByteBuffer;for(y=0;y<f;y++)ge.putByte(fe.at(y%o));var ee=Math.ceil(N/f)+Math.ceil(h/f),J=new a.util.ByteBuffer;for(n=0;n<ee;n++){var xe=new a.util.ByteBuffer(Z.getBytes(f)),ne=511;for(y=ge.length()-1;y>=0;y--)ne=ne>>8,ne+=ge.at(y)+xe.at(y),xe.setAt(y,ne&255);J.putBuffer(xe)}Z=J,l.putBuffer(fe)}return l.truncate(l.length()-v),l},E.pbe.getCipher=function(m,i,p){switch(m){case E.oids.pkcs5PBES2:return E.pbe.getCipherForPBES2(m,i,p);case E.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case E.oids["pbewithSHAAnd40BitRC2-CBC"]:return E.pbe.getCipherForPKCS12PBE(m,i,p);default:var g=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw g.oid=m,g.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],g}},E.pbe.getCipherForPBES2=function(m,i,p){var g={},v=[];if(!r.validate(i,s,g,v)){var _=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw _.errors=v,_}if(m=r.derToOid(g.kdfOid),m!==E.oids.pkcs5PBKDF2){var _=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw _.oid=m,_.supportedOids=["pkcs5PBKDF2"],_}if(m=r.derToOid(g.encOid),m!==E.oids["aes128-CBC"]&&m!==E.oids["aes192-CBC"]&&m!==E.oids["aes256-CBC"]&&m!==E.oids["des-EDE3-CBC"]&&m!==E.oids.desCBC){var _=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw _.oid=m,_.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],_}var n=g.kdfSalt,y=a.util.createBuffer(g.kdfIterationCount);y=y.getInt(y.length()<<3);var o,f;switch(E.oids[m]){case"aes128-CBC":o=16,f=a.aes.createDecryptionCipher;break;case"aes192-CBC":o=24,f=a.aes.createDecryptionCipher;break;case"aes256-CBC":o=32,f=a.aes.createDecryptionCipher;break;case"des-EDE3-CBC":o=24,f=a.des.createDecryptionCipher;break;case"desCBC":o=8,f=a.des.createDecryptionCipher;break}var l=u(g.prfOid),b=a.pkcs5.pbkdf2(p,n,y,o,l),h=g.encIv,N=f(b);return N.start(h),N},E.pbe.getCipherForPKCS12PBE=function(m,i,p){var g={},v=[];if(!r.validate(i,e,g,v)){var _=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw _.errors=v,_}var n=a.util.createBuffer(g.salt),y=a.util.createBuffer(g.iterations);y=y.getInt(y.length()<<3);var o,f,l;switch(m){case E.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:o=24,f=8,l=a.des.startDecrypting;break;case E.oids["pbewithSHAAnd40BitRC2-CBC"]:o=5,f=8,l=function(L,D){var z=a.rc2.createDecryptionCipher(L,40);return z.start(D,null),z};break;default:var _=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw _.oid=m,_}var b=u(g.prfOid),h=E.pbe.generatePkcs12Key(p,n,1,y,o,b);b.start();var N=E.pbe.generatePkcs12Key(p,n,2,y,f,b);return l(h,N)},E.pbe.opensslDeriveBytes=function(m,i,p,g){if(typeof g>"u"||g===null){if(!("md5"in a.md))throw new Error('"md5" hash algorithm unavailable.');g=a.md.md5.create()}i===null&&(i="");for(var v=[d(g,m+i)],_=16,n=1;_<p;++n,_+=16)v.push(d(g,v[n-1]+m+i));return v.join("").substr(0,p)};function d(m,i){return m.start().update(i).digest().getBytes()}function u(m){var i;if(!m)i="hmacWithSHA1";else if(i=E.oids[r.derToOid(m)],!i){var p=new Error("Unsupported PRF OID.");throw p.oid=m,p.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],p}return x(i)}function x(m){var i=a.md;switch(m){case"hmacWithSHA224":i=a.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":m=m.substr(8).toLowerCase();break;default:var p=new Error("Unsupported PRF algorithm.");throw p.algorithm=m,p.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],p}if(!i||!(m in i))throw new Error("Unknown hash algorithm: "+m);return i[m].create()}function I(m,i,p,g){var v=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,m),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,i.getBytes())]);return g!=="hmacWithSHA1"&&v.value.push(r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,a.util.hexToBytes(p.toString(16))),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(E.oids[g]).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])),v}return Er}var Sr={exports:{}},br={exports:{}},Bi;function An(){if(Bi)return br.exports;Bi=1;var a=we();ut(),Re();var t=a.asn1,r=br.exports=a.pkcs7asn1=a.pkcs7asn1||{};a.pkcs7=a.pkcs7||{},a.pkcs7.asn1=r;var E={name:"ContentInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};r.contentInfoValidator=E;var C={name:"EncryptedContentInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:t.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};r.envelopedDataValidator={name:"EnvelopedData",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(C)},r.encryptedDataValidator={name:"EncryptedData",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"}].concat(C)};var c={name:"SignerInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:t.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:t.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};return r.signedDataValidator={name:"SignedData",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},E,{name:"SignedData.Certificates",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:t.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,capture:"signerInfos",optional:!0,value:[c]}]},r.recipientInfoValidator={name:"RecipientInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:t.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]},br.exports}var _r={exports:{}},Tr={exports:{}},ki;function In(){if(ki)return Tr.exports;ki=1;var a=we();Re(),a.mgf=a.mgf||{};var t=Tr.exports=a.mgf.mgf1=a.mgf1=a.mgf1||{};return t.create=function(r){var E={generate:function(C,c){for(var s=new a.util.ByteBuffer,e=Math.ceil(c/r.digestLength),d=0;d<e;d++){var u=new a.util.ByteBuffer;u.putInt32(d),r.start(),r.update(C+u.getBytes()),s.putBuffer(r.digest())}return s.truncate(s.length()-c),s.getBytes()}};return E},Tr.exports}var wr,Ri;function da(){if(Ri)return wr;Ri=1;var a=we();return In(),wr=a.mgf=a.mgf||{},a.mgf.mgf1=a.mgf1,wr}var Ar={exports:{}},Ni;function Qr(){if(Ni)return Ar.exports;Ni=1;var a=we();nt(),Re();var t=Ar.exports=a.pss=a.pss||{};return t.create=function(r){arguments.length===3&&(r={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var E=r.md,C=r.mgf,c=E.digestLength,s=r.salt||null;typeof s=="string"&&(s=a.util.createBuffer(s));var e;if("saltLength"in r)e=r.saltLength;else if(s!==null)e=s.length();else throw new Error("Salt length not specified or specific salt not given.");if(s!==null&&s.length()!==e)throw new Error("Given salt length does not match length of given salt.");var d=r.prng||a.random,u={};return u.encode=function(x,I){var m,i=I-1,p=Math.ceil(i/8),g=x.digest().getBytes();if(p<c+e+2)throw new Error("Message is too long to encrypt.");var v;s===null?v=d.getBytesSync(e):v=s.bytes();var _=new a.util.ByteBuffer;_.fillWithByte(0,8),_.putBytes(g),_.putBytes(v),E.start(),E.update(_.getBytes());var n=E.digest().getBytes(),y=new a.util.ByteBuffer;y.fillWithByte(0,p-e-c-2),y.putByte(1),y.putBytes(v);var o=y.getBytes(),f=p-c-1,l=C.generate(n,f),b="";for(m=0;m<f;m++)b+=String.fromCharCode(o.charCodeAt(m)^l.charCodeAt(m));var h=65280>>8*p-i&255;return b=String.fromCharCode(b.charCodeAt(0)&~h)+b.substr(1),b+n+""},u.verify=function(x,I,m){var i,p=m-1,g=Math.ceil(p/8);if(I=I.substr(-g),g<c+e+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(I.charCodeAt(g-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var v=g-c-1,_=I.substr(0,v),n=I.substr(v,c),y=65280>>8*g-p&255;if(_.charCodeAt(0)&y)throw new Error("Bits beyond keysize not zero as expected.");var o=C.generate(n,v),f="";for(i=0;i<v;i++)f+=String.fromCharCode(_.charCodeAt(i)^o.charCodeAt(i));f=String.fromCharCode(f.charCodeAt(0)&~y)+f.substr(1);var l=g-c-e-2;for(i=0;i<l;i++)if(f.charCodeAt(i)!==0)throw new Error("Leftmost octets not zero as expected");if(f.charCodeAt(l)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var b=f.substr(-e),h=new a.util.ByteBuffer;h.fillWithByte(0,8),h.putBytes(x),h.putBytes(b),E.start(),E.update(h.getBytes());var N=E.digest().getBytes();return n===N},u},Ar.exports}var Di;function Yr(){if(Di)return _r.exports;Di=1;var a=we();gt(),ut(),Zt(),ft(),da(),yt(),St(),Qr(),Yt(),Re();var t=a.asn1,r=_r.exports=a.pki=a.pki||{},E=r.oids,C={};C.CN=E.commonName,C.commonName="CN",C.C=E.countryName,C.countryName="C",C.L=E.localityName,C.localityName="L",C.ST=E.stateOrProvinceName,C.stateOrProvinceName="ST",C.O=E.organizationName,C.organizationName="O",C.OU=E.organizationalUnitName,C.organizationalUnitName="OU",C.E=E.emailAddress,C.emailAddress="E";var c=a.pki.rsa.publicKeyValidator,s={name:"Certificate",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:t.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:t.Class.UNIVERSAL,type:t.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:t.Class.UNIVERSAL,type:t.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:t.Class.UNIVERSAL,type:t.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:t.Class.UNIVERSAL,type:t.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},c,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:t.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:t.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:t.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:t.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},e={name:"rsapss",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:t.Class.UNIVERSAL,type:t.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:t.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:t.Class.UNIVERSAL,type:t.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:t.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:t.Class.UNIVERSAL,type:t.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:t.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:t.Class.UNIVERSAL,type:t.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},d={name:"CertificationRequestInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},c,{name:"CertificationRequestInfo.attributes",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,constructed:!0}]}]}]},u={name:"CertificationRequest",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[d,{name:"CertificationRequest.signatureAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:t.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};r.RDNAttributesAsArray=function(o,f){for(var l=[],b,h,N,R=0;R<o.value.length;++R){b=o.value[R];for(var L=0;L<b.value.length;++L)N={},h=b.value[L],N.type=t.derToOid(h.value[0].value),N.value=h.value[1].value,N.valueTagClass=h.value[1].type,N.type in E&&(N.name=E[N.type],N.name in C&&(N.shortName=C[N.name])),f&&(f.update(N.type),f.update(N.value)),l.push(N)}return l},r.CRIAttributesAsArray=function(o){for(var f=[],l=0;l<o.length;++l)for(var b=o[l],h=t.derToOid(b.value[0].value),N=b.value[1].value,R=0;R<N.length;++R){var L={};if(L.type=h,L.value=N[R].value,L.valueTagClass=N[R].type,L.type in E&&(L.name=E[L.type],L.name in C&&(L.shortName=C[L.name])),L.type===E.extensionRequest){L.extensions=[];for(var D=0;D<L.value.length;++D)L.extensions.push(r.certificateExtensionFromAsn1(L.value[D]))}f.push(L)}return f};function x(o,f){typeof f=="string"&&(f={shortName:f});for(var l=null,b,h=0;l===null&&h<o.attributes.length;++h)b=o.attributes[h],(f.type&&f.type===b.type||f.name&&f.name===b.name||f.shortName&&f.shortName===b.shortName)&&(l=b);return l}var I=function(o,f,l){var b={};if(o!==E["RSASSA-PSS"])return b;l&&(b={hash:{algorithmOid:E.sha1},mgf:{algorithmOid:E.mgf1,hash:{algorithmOid:E.sha1}},saltLength:20});var h={},N=[];if(!t.validate(f,e,h,N)){var R=new Error("Cannot read RSASSA-PSS parameter block.");throw R.errors=N,R}return h.hashOid!==void 0&&(b.hash=b.hash||{},b.hash.algorithmOid=t.derToOid(h.hashOid)),h.maskGenOid!==void 0&&(b.mgf=b.mgf||{},b.mgf.algorithmOid=t.derToOid(h.maskGenOid),b.mgf.hash=b.mgf.hash||{},b.mgf.hash.algorithmOid=t.derToOid(h.maskGenHashOid)),h.saltLength!==void 0&&(b.saltLength=h.saltLength.charCodeAt(0)),b};r.certificateFromPem=function(o,f,l){var b=a.pem.decode(o)[0];if(b.type!=="CERTIFICATE"&&b.type!=="X509 CERTIFICATE"&&b.type!=="TRUSTED CERTIFICATE"){var h=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw h.headerType=b.type,h}if(b.procType&&b.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var N=t.fromDer(b.body,l);return r.certificateFromAsn1(N,f)},r.certificateToPem=function(o,f){var l={type:"CERTIFICATE",body:t.toDer(r.certificateToAsn1(o)).getBytes()};return a.pem.encode(l,{maxline:f})},r.publicKeyFromPem=function(o){var f=a.pem.decode(o)[0];if(f.type!=="PUBLIC KEY"&&f.type!=="RSA PUBLIC KEY"){var l=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw l.headerType=f.type,l}if(f.procType&&f.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var b=t.fromDer(f.body);return r.publicKeyFromAsn1(b)},r.publicKeyToPem=function(o,f){var l={type:"PUBLIC KEY",body:t.toDer(r.publicKeyToAsn1(o)).getBytes()};return a.pem.encode(l,{maxline:f})},r.publicKeyToRSAPublicKeyPem=function(o,f){var l={type:"RSA PUBLIC KEY",body:t.toDer(r.publicKeyToRSAPublicKey(o)).getBytes()};return a.pem.encode(l,{maxline:f})},r.getPublicKeyFingerprint=function(o,f){f=f||{};var l=f.md||a.md.sha1.create(),b=f.type||"RSAPublicKey",h;switch(b){case"RSAPublicKey":h=t.toDer(r.publicKeyToRSAPublicKey(o)).getBytes();break;case"SubjectPublicKeyInfo":h=t.toDer(r.publicKeyToAsn1(o)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+f.type+'".')}l.start(),l.update(h);var N=l.digest();if(f.encoding==="hex"){var R=N.toHex();return f.delimiter?R.match(/.{2}/g).join(f.delimiter):R}else{if(f.encoding==="binary")return N.getBytes();if(f.encoding)throw new Error('Unknown encoding "'+f.encoding+'".')}return N},r.certificationRequestFromPem=function(o,f,l){var b=a.pem.decode(o)[0];if(b.type!=="CERTIFICATE REQUEST"){var h=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw h.headerType=b.type,h}if(b.procType&&b.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var N=t.fromDer(b.body,l);return r.certificationRequestFromAsn1(N,f)},r.certificationRequestToPem=function(o,f){var l={type:"CERTIFICATE REQUEST",body:t.toDer(r.certificationRequestToAsn1(o)).getBytes()};return a.pem.encode(l,{maxline:f})},r.createCertificate=function(){var o={};return o.version=2,o.serialNumber="00",o.signatureOid=null,o.signature=null,o.siginfo={},o.siginfo.algorithmOid=null,o.validity={},o.validity.notBefore=new Date,o.validity.notAfter=new Date,o.issuer={},o.issuer.getField=function(f){return x(o.issuer,f)},o.issuer.addField=function(f){i([f]),o.issuer.attributes.push(f)},o.issuer.attributes=[],o.issuer.hash=null,o.subject={},o.subject.getField=function(f){return x(o.subject,f)},o.subject.addField=function(f){i([f]),o.subject.attributes.push(f)},o.subject.attributes=[],o.subject.hash=null,o.extensions=[],o.publicKey=null,o.md=null,o.setSubject=function(f,l){i(f),o.subject.attributes=f,delete o.subject.uniqueId,l&&(o.subject.uniqueId=l),o.subject.hash=null},o.setIssuer=function(f,l){i(f),o.issuer.attributes=f,delete o.issuer.uniqueId,l&&(o.issuer.uniqueId=l),o.issuer.hash=null},o.setExtensions=function(f){for(var l=0;l<f.length;++l)p(f[l],{cert:o});o.extensions=f},o.getExtension=function(f){typeof f=="string"&&(f={name:f});for(var l=null,b,h=0;l===null&&h<o.extensions.length;++h)b=o.extensions[h],(f.id&&b.id===f.id||f.name&&b.name===f.name)&&(l=b);return l},o.sign=function(f,l){o.md=l||a.md.sha1.create();var b=E[o.md.algorithm+"WithRSAEncryption"];if(!b){var h=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw h.algorithm=o.md.algorithm,h}o.signatureOid=o.siginfo.algorithmOid=b,o.tbsCertificate=r.getTBSCertificate(o);var N=t.toDer(o.tbsCertificate);o.md.update(N.getBytes()),o.signature=f.sign(o.md)},o.verify=function(f){var l=!1;if(!o.issued(f)){var b=f.issuer,h=o.subject,N=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw N.expectedIssuer=b.attributes,N.actualIssuer=h.attributes,N}var R=f.md;if(R===null){if(f.signatureOid in E){var L=E[f.signatureOid];switch(L){case"sha1WithRSAEncryption":R=a.md.sha1.create();break;case"md5WithRSAEncryption":R=a.md.md5.create();break;case"sha256WithRSAEncryption":R=a.md.sha256.create();break;case"sha384WithRSAEncryption":R=a.md.sha384.create();break;case"sha512WithRSAEncryption":R=a.md.sha512.create();break;case"RSASSA-PSS":R=a.md.sha256.create();break}}if(R===null){var N=new Error("Could not compute certificate digest. Unknown signature OID.");throw N.signatureOid=f.signatureOid,N}var D=f.tbsCertificate||r.getTBSCertificate(f),z=t.toDer(D);R.update(z.getBytes())}if(R!==null){var k;switch(f.signatureOid){case E.sha1WithRSAEncryption:k=void 0;break;case E["RSASSA-PSS"]:var Z,$;if(Z=E[f.signatureParameters.mgf.hash.algorithmOid],Z===void 0||a.md[Z]===void 0){var N=new Error("Unsupported MGF hash function.");throw N.oid=f.signatureParameters.mgf.hash.algorithmOid,N.name=Z,N}if($=E[f.signatureParameters.mgf.algorithmOid],$===void 0||a.mgf[$]===void 0){var N=new Error("Unsupported MGF function.");throw N.oid=f.signatureParameters.mgf.algorithmOid,N.name=$,N}if($=a.mgf[$].create(a.md[Z].create()),Z=E[f.signatureParameters.hash.algorithmOid],Z===void 0||a.md[Z]===void 0)throw{message:"Unsupported RSASSA-PSS hash function.",oid:f.signatureParameters.hash.algorithmOid,name:Z};k=a.pss.create(a.md[Z].create(),$,f.signatureParameters.saltLength);break}l=o.publicKey.verify(R.digest().getBytes(),f.signature,k)}return l},o.isIssuer=function(f){var l=!1,b=o.issuer,h=f.subject;if(b.hash&&h.hash)l=b.hash===h.hash;else if(b.attributes.length===h.attributes.length){l=!0;for(var N,R,L=0;l&&L<b.attributes.length;++L)N=b.attributes[L],R=h.attributes[L],(N.type!==R.type||N.value!==R.value)&&(l=!1)}return l},o.issued=function(f){return f.isIssuer(o)},o.generateSubjectKeyIdentifier=function(){return r.getPublicKeyFingerprint(o.publicKey,{type:"RSAPublicKey"})},o.verifySubjectKeyIdentifier=function(){for(var f=E.subjectKeyIdentifier,l=0;l<o.extensions.length;++l){var b=o.extensions[l];if(b.id===f){var h=o.generateSubjectKeyIdentifier().getBytes();return a.util.hexToBytes(b.subjectKeyIdentifier)===h}}return!1},o},r.certificateFromAsn1=function(o,f){var l={},b=[];if(!t.validate(o,s,l,b)){var h=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw h.errors=b,h}var N=t.derToOid(l.publicKeyOid);if(N!==r.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var R=r.createCertificate();R.version=l.certVersion?l.certVersion.charCodeAt(0):0;var L=a.util.createBuffer(l.certSerialNumber);R.serialNumber=L.toHex(),R.signatureOid=a.asn1.derToOid(l.certSignatureOid),R.signatureParameters=I(R.signatureOid,l.certSignatureParams,!0),R.siginfo.algorithmOid=a.asn1.derToOid(l.certinfoSignatureOid),R.siginfo.parameters=I(R.siginfo.algorithmOid,l.certinfoSignatureParams,!1),R.signature=l.certSignature;var D=[];if(l.certValidity1UTCTime!==void 0&&D.push(t.utcTimeToDate(l.certValidity1UTCTime)),l.certValidity2GeneralizedTime!==void 0&&D.push(t.generalizedTimeToDate(l.certValidity2GeneralizedTime)),l.certValidity3UTCTime!==void 0&&D.push(t.utcTimeToDate(l.certValidity3UTCTime)),l.certValidity4GeneralizedTime!==void 0&&D.push(t.generalizedTimeToDate(l.certValidity4GeneralizedTime)),D.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(D.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(R.validity.notBefore=D[0],R.validity.notAfter=D[1],R.tbsCertificate=l.tbsCertificate,f){if(R.md=null,R.signatureOid in E){var N=E[R.signatureOid];switch(N){case"sha1WithRSAEncryption":R.md=a.md.sha1.create();break;case"md5WithRSAEncryption":R.md=a.md.md5.create();break;case"sha256WithRSAEncryption":R.md=a.md.sha256.create();break;case"sha384WithRSAEncryption":R.md=a.md.sha384.create();break;case"sha512WithRSAEncryption":R.md=a.md.sha512.create();break;case"RSASSA-PSS":R.md=a.md.sha256.create();break}}if(R.md===null){var h=new Error("Could not compute certificate digest. Unknown signature OID.");throw h.signatureOid=R.signatureOid,h}var z=t.toDer(R.tbsCertificate);R.md.update(z.getBytes())}var k=a.md.sha1.create();R.issuer.getField=function($){return x(R.issuer,$)},R.issuer.addField=function($){i([$]),R.issuer.attributes.push($)},R.issuer.attributes=r.RDNAttributesAsArray(l.certIssuer,k),l.certIssuerUniqueId&&(R.issuer.uniqueId=l.certIssuerUniqueId),R.issuer.hash=k.digest().toHex();var Z=a.md.sha1.create();return R.subject.getField=function($){return x(R.subject,$)},R.subject.addField=function($){i([$]),R.subject.attributes.push($)},R.subject.attributes=r.RDNAttributesAsArray(l.certSubject,Z),l.certSubjectUniqueId&&(R.subject.uniqueId=l.certSubjectUniqueId),R.subject.hash=Z.digest().toHex(),l.certExtensions?R.extensions=r.certificateExtensionsFromAsn1(l.certExtensions):R.extensions=[],R.publicKey=r.publicKeyFromAsn1(l.subjectPublicKeyInfo),R},r.certificateExtensionsFromAsn1=function(o){for(var f=[],l=0;l<o.value.length;++l)for(var b=o.value[l],h=0;h<b.value.length;++h)f.push(r.certificateExtensionFromAsn1(b.value[h]));return f},r.certificateExtensionFromAsn1=function(o){var f={};if(f.id=t.derToOid(o.value[0].value),f.critical=!1,o.value[1].type===t.Type.BOOLEAN?(f.critical=o.value[1].value.charCodeAt(0)!==0,f.value=o.value[2].value):f.value=o.value[1].value,f.id in E){if(f.name=E[f.id],f.name==="keyUsage"){var l=t.fromDer(f.value),b=0,h=0;l.value.length>1&&(b=l.value.charCodeAt(1),h=l.value.length>2?l.value.charCodeAt(2):0),f.digitalSignature=(b&128)===128,f.nonRepudiation=(b&64)===64,f.keyEncipherment=(b&32)===32,f.dataEncipherment=(b&16)===16,f.keyAgreement=(b&8)===8,f.keyCertSign=(b&4)===4,f.cRLSign=(b&2)===2,f.encipherOnly=(b&1)===1,f.decipherOnly=(h&128)===128}else if(f.name==="basicConstraints"){var l=t.fromDer(f.value);l.value.length>0&&l.value[0].type===t.Type.BOOLEAN?f.cA=l.value[0].value.charCodeAt(0)!==0:f.cA=!1;var N=null;l.value.length>0&&l.value[0].type===t.Type.INTEGER?N=l.value[0].value:l.value.length>1&&(N=l.value[1].value),N!==null&&(f.pathLenConstraint=t.derToInteger(N))}else if(f.name==="extKeyUsage")for(var l=t.fromDer(f.value),R=0;R<l.value.length;++R){var L=t.derToOid(l.value[R].value);L in E?f[E[L]]=!0:f[L]=!0}else if(f.name==="nsCertType"){var l=t.fromDer(f.value),b=0;l.value.length>1&&(b=l.value.charCodeAt(1)),f.client=(b&128)===128,f.server=(b&64)===64,f.email=(b&32)===32,f.objsign=(b&16)===16,f.reserved=(b&8)===8,f.sslCA=(b&4)===4,f.emailCA=(b&2)===2,f.objCA=(b&1)===1}else if(f.name==="subjectAltName"||f.name==="issuerAltName"){f.altNames=[];for(var D,l=t.fromDer(f.value),z=0;z<l.value.length;++z){D=l.value[z];var k={type:D.type,value:D.value};switch(f.altNames.push(k),D.type){case 1:case 2:case 6:break;case 7:k.ip=a.util.bytesToIP(D.value);break;case 8:k.oid=t.derToOid(D.value);break}}}else if(f.name==="subjectKeyIdentifier"){var l=t.fromDer(f.value);f.subjectKeyIdentifier=a.util.bytesToHex(l.value)}}return f},r.certificationRequestFromAsn1=function(o,f){var l={},b=[];if(!t.validate(o,u,l,b)){var h=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw h.errors=b,h}var N=t.derToOid(l.publicKeyOid);if(N!==r.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var R=r.createCertificationRequest();if(R.version=l.csrVersion?l.csrVersion.charCodeAt(0):0,R.signatureOid=a.asn1.derToOid(l.csrSignatureOid),R.signatureParameters=I(R.signatureOid,l.csrSignatureParams,!0),R.siginfo.algorithmOid=a.asn1.derToOid(l.csrSignatureOid),R.siginfo.parameters=I(R.siginfo.algorithmOid,l.csrSignatureParams,!1),R.signature=l.csrSignature,R.certificationRequestInfo=l.certificationRequestInfo,f){if(R.md=null,R.signatureOid in E){var N=E[R.signatureOid];switch(N){case"sha1WithRSAEncryption":R.md=a.md.sha1.create();break;case"md5WithRSAEncryption":R.md=a.md.md5.create();break;case"sha256WithRSAEncryption":R.md=a.md.sha256.create();break;case"sha384WithRSAEncryption":R.md=a.md.sha384.create();break;case"sha512WithRSAEncryption":R.md=a.md.sha512.create();break;case"RSASSA-PSS":R.md=a.md.sha256.create();break}}if(R.md===null){var h=new Error("Could not compute certification request digest. Unknown signature OID.");throw h.signatureOid=R.signatureOid,h}var L=t.toDer(R.certificationRequestInfo);R.md.update(L.getBytes())}var D=a.md.sha1.create();return R.subject.getField=function(z){return x(R.subject,z)},R.subject.addField=function(z){i([z]),R.subject.attributes.push(z)},R.subject.attributes=r.RDNAttributesAsArray(l.certificationRequestInfoSubject,D),R.subject.hash=D.digest().toHex(),R.publicKey=r.publicKeyFromAsn1(l.subjectPublicKeyInfo),R.getAttribute=function(z){return x(R,z)},R.addAttribute=function(z){i([z]),R.attributes.push(z)},R.attributes=r.CRIAttributesAsArray(l.certificationRequestInfoAttributes||[]),R},r.createCertificationRequest=function(){var o={};return o.version=0,o.signatureOid=null,o.signature=null,o.siginfo={},o.siginfo.algorithmOid=null,o.subject={},o.subject.getField=function(f){return x(o.subject,f)},o.subject.addField=function(f){i([f]),o.subject.attributes.push(f)},o.subject.attributes=[],o.subject.hash=null,o.publicKey=null,o.attributes=[],o.getAttribute=function(f){return x(o,f)},o.addAttribute=function(f){i([f]),o.attributes.push(f)},o.md=null,o.setSubject=function(f){i(f),o.subject.attributes=f,o.subject.hash=null},o.setAttributes=function(f){i(f),o.attributes=f},o.sign=function(f,l){o.md=l||a.md.sha1.create();var b=E[o.md.algorithm+"WithRSAEncryption"];if(!b){var h=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw h.algorithm=o.md.algorithm,h}o.signatureOid=o.siginfo.algorithmOid=b,o.certificationRequestInfo=r.getCertificationRequestInfo(o);var N=t.toDer(o.certificationRequestInfo);o.md.update(N.getBytes()),o.signature=f.sign(o.md)},o.verify=function(){var f=!1,l=o.md;if(l===null){if(o.signatureOid in E){var b=E[o.signatureOid];switch(b){case"sha1WithRSAEncryption":l=a.md.sha1.create();break;case"md5WithRSAEncryption":l=a.md.md5.create();break;case"sha256WithRSAEncryption":l=a.md.sha256.create();break;case"sha384WithRSAEncryption":l=a.md.sha384.create();break;case"sha512WithRSAEncryption":l=a.md.sha512.create();break;case"RSASSA-PSS":l=a.md.sha256.create();break}}if(l===null){var h=new Error("Could not compute certification request digest. Unknown signature OID.");throw h.signatureOid=o.signatureOid,h}var N=o.certificationRequestInfo||r.getCertificationRequestInfo(o),R=t.toDer(N);l.update(R.getBytes())}if(l!==null){var L;switch(o.signatureOid){case E.sha1WithRSAEncryption:break;case E["RSASSA-PSS"]:var D,z;if(D=E[o.signatureParameters.mgf.hash.algorithmOid],D===void 0||a.md[D]===void 0){var h=new Error("Unsupported MGF hash function.");throw h.oid=o.signatureParameters.mgf.hash.algorithmOid,h.name=D,h}if(z=E[o.signatureParameters.mgf.algorithmOid],z===void 0||a.mgf[z]===void 0){var h=new Error("Unsupported MGF function.");throw h.oid=o.signatureParameters.mgf.algorithmOid,h.name=z,h}if(z=a.mgf[z].create(a.md[D].create()),D=E[o.signatureParameters.hash.algorithmOid],D===void 0||a.md[D]===void 0){var h=new Error("Unsupported RSASSA-PSS hash function.");throw h.oid=o.signatureParameters.hash.algorithmOid,h.name=D,h}L=a.pss.create(a.md[D].create(),z,o.signatureParameters.saltLength);break}f=o.publicKey.verify(l.digest().getBytes(),o.signature,L)}return f},o};function m(o){for(var f=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]),l,b,h=o.attributes,N=0;N<h.length;++N){l=h[N];var R=l.value,L=t.Type.PRINTABLESTRING;"valueTagClass"in l&&(L=l.valueTagClass,L===t.Type.UTF8&&(R=a.util.encodeUtf8(R))),b=t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(l.type).getBytes()),t.create(t.Class.UNIVERSAL,L,!1,R)])]),f.value.push(b)}return f}function i(o){for(var f,l=0;l<o.length;++l){if(f=o[l],typeof f.name>"u"&&(f.type&&f.type in r.oids?f.name=r.oids[f.type]:f.shortName&&f.shortName in C&&(f.name=r.oids[C[f.shortName]])),typeof f.type>"u")if(f.name&&f.name in r.oids)f.type=r.oids[f.name];else{var b=new Error("Attribute type not specified.");throw b.attribute=f,b}if(typeof f.shortName>"u"&&f.name&&f.name in C&&(f.shortName=C[f.name]),f.type===E.extensionRequest&&(f.valueConstructed=!0,f.valueTagClass=t.Type.SEQUENCE,!f.value&&f.extensions)){f.value=[];for(var h=0;h<f.extensions.length;++h)f.value.push(r.certificateExtensionToAsn1(p(f.extensions[h])))}if(typeof f.value>"u"){var b=new Error("Attribute value not specified.");throw b.attribute=f,b}}}function p(o,f){if(f=f||{},typeof o.name>"u"&&o.id&&o.id in r.oids&&(o.name=r.oids[o.id]),typeof o.id>"u")if(o.name&&o.name in r.oids)o.id=r.oids[o.name];else{var l=new Error("Extension ID not specified.");throw l.extension=o,l}if(typeof o.value<"u")return o;if(o.name==="keyUsage"){var b=0,h=0,N=0;o.digitalSignature&&(h|=128,b=7),o.nonRepudiation&&(h|=64,b=6),o.keyEncipherment&&(h|=32,b=5),o.dataEncipherment&&(h|=16,b=4),o.keyAgreement&&(h|=8,b=3),o.keyCertSign&&(h|=4,b=2),o.cRLSign&&(h|=2,b=1),o.encipherOnly&&(h|=1,b=0),o.decipherOnly&&(N|=128,b=7);var R=String.fromCharCode(b);N!==0?R+=String.fromCharCode(h)+String.fromCharCode(N):h!==0&&(R+=String.fromCharCode(h)),o.value=t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,R)}else if(o.name==="basicConstraints")o.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]),o.cA&&o.value.value.push(t.create(t.Class.UNIVERSAL,t.Type.BOOLEAN,!1,"")),"pathLenConstraint"in o&&o.value.value.push(t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(o.pathLenConstraint).getBytes()));else if(o.name==="extKeyUsage"){o.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);var L=o.value.value;for(var D in o)o[D]===!0&&(D in E?L.push(t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(E[D]).getBytes())):D.indexOf(".")!==-1&&L.push(t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(D).getBytes())))}else if(o.name==="nsCertType"){var b=0,h=0;o.client&&(h|=128,b=7),o.server&&(h|=64,b=6),o.email&&(h|=32,b=5),o.objsign&&(h|=16,b=4),o.reserved&&(h|=8,b=3),o.sslCA&&(h|=4,b=2),o.emailCA&&(h|=2,b=1),o.objCA&&(h|=1,b=0);var R=String.fromCharCode(b);h!==0&&(R+=String.fromCharCode(h)),o.value=t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,R)}else if(o.name==="subjectAltName"||o.name==="issuerAltName"){o.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);for(var z,k=0;k<o.altNames.length;++k){z=o.altNames[k];var R=z.value;if(z.type===7&&z.ip){if(R=a.util.bytesFromIP(z.ip),R===null){var l=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw l.extension=o,l}}else z.type===8&&(z.oid?R=t.oidToDer(t.oidToDer(z.oid)):R=t.oidToDer(R));o.value.value.push(t.create(t.Class.CONTEXT_SPECIFIC,z.type,!1,R))}}else if(o.name==="nsComment"&&f.cert){if(!/^[\x00-\x7F]*$/.test(o.comment)||o.comment.length<1||o.comment.length>128)throw new Error('Invalid "nsComment" content.');o.value=t.create(t.Class.UNIVERSAL,t.Type.IA5STRING,!1,o.comment)}else if(o.name==="subjectKeyIdentifier"&&f.cert){var Z=f.cert.generateSubjectKeyIdentifier();o.subjectKeyIdentifier=Z.toHex(),o.value=t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,Z.getBytes())}else if(o.name==="authorityKeyIdentifier"&&f.cert){o.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);var L=o.value.value;if(o.keyIdentifier){var $=o.keyIdentifier===!0?f.cert.generateSubjectKeyIdentifier().getBytes():o.keyIdentifier;L.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!1,$))}if(o.authorityCertIssuer){var oe=[t.create(t.Class.CONTEXT_SPECIFIC,4,!0,[m(o.authorityCertIssuer===!0?f.cert.issuer:o.authorityCertIssuer)])];L.push(t.create(t.Class.CONTEXT_SPECIFIC,1,!0,oe))}if(o.serialNumber){var fe=a.util.hexToBytes(o.serialNumber===!0?f.cert.serialNumber:o.serialNumber);L.push(t.create(t.Class.CONTEXT_SPECIFIC,2,!1,fe))}}else if(o.name==="cRLDistributionPoints"){o.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);for(var L=o.value.value,ae=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]),ge=t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[]),z,k=0;k<o.altNames.length;++k){z=o.altNames[k];var R=z.value;if(z.type===7&&z.ip){if(R=a.util.bytesFromIP(z.ip),R===null){var l=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw l.extension=o,l}}else z.type===8&&(z.oid?R=t.oidToDer(t.oidToDer(z.oid)):R=t.oidToDer(R));ge.value.push(t.create(t.Class.CONTEXT_SPECIFIC,z.type,!1,R))}ae.value.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[ge])),L.push(ae)}if(typeof o.value>"u"){var l=new Error("Extension value not specified.");throw l.extension=o,l}return o}function g(o,f){switch(o){case E["RSASSA-PSS"]:var l=[];return f.hash.algorithmOid!==void 0&&l.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(f.hash.algorithmOid).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")])])),f.mgf.algorithmOid!==void 0&&l.push(t.create(t.Class.CONTEXT_SPECIFIC,1,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(f.mgf.algorithmOid).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(f.mgf.hash.algorithmOid).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")])])])),f.saltLength!==void 0&&l.push(t.create(t.Class.CONTEXT_SPECIFIC,2,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(f.saltLength).getBytes())])),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,l);default:return t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")}}function v(o){var f=t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[]);if(o.attributes.length===0)return f;for(var l=o.attributes,b=0;b<l.length;++b){var h=l[b],N=h.value,R=t.Type.UTF8;"valueTagClass"in h&&(R=h.valueTagClass),R===t.Type.UTF8&&(N=a.util.encodeUtf8(N));var L=!1;"valueConstructed"in h&&(L=h.valueConstructed);var D=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(h.type).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[t.create(t.Class.UNIVERSAL,R,L,N)])]);f.value.push(D)}return f}var _=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z");function y(o){return o>=_&&o<n?t.create(t.Class.UNIVERSAL,t.Type.UTCTIME,!1,t.dateToUtcTime(o)):t.create(t.Class.UNIVERSAL,t.Type.GENERALIZEDTIME,!1,t.dateToGeneralizedTime(o))}return r.getTBSCertificate=function(o){var f=y(o.validity.notBefore),l=y(o.validity.notAfter),b=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(o.version).getBytes())]),t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,a.util.hexToBytes(o.serialNumber)),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(o.siginfo.algorithmOid).getBytes()),g(o.siginfo.algorithmOid,o.siginfo.parameters)]),m(o.issuer),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[f,l]),m(o.subject),r.publicKeyToAsn1(o.publicKey)]);return o.issuer.uniqueId&&b.value.push(t.create(t.Class.CONTEXT_SPECIFIC,1,!0,[t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,"\0"+o.issuer.uniqueId)])),o.subject.uniqueId&&b.value.push(t.create(t.Class.CONTEXT_SPECIFIC,2,!0,[t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,"\0"+o.subject.uniqueId)])),o.extensions.length>0&&b.value.push(r.certificateExtensionsToAsn1(o.extensions)),b},r.getCertificationRequestInfo=function(o){var f=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(o.version).getBytes()),m(o.subject),r.publicKeyToAsn1(o.publicKey),v(o)]);return f},r.distinguishedNameToAsn1=function(o){return m(o)},r.certificateToAsn1=function(o){var f=o.tbsCertificate||r.getTBSCertificate(o);return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[f,t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(o.signatureOid).getBytes()),g(o.signatureOid,o.signatureParameters)]),t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,"\0"+o.signature)])},r.certificateExtensionsToAsn1=function(o){var f=t.create(t.Class.CONTEXT_SPECIFIC,3,!0,[]),l=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);f.value.push(l);for(var b=0;b<o.length;++b)l.value.push(r.certificateExtensionToAsn1(o[b]));return f},r.certificateExtensionToAsn1=function(o){var f=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);f.value.push(t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(o.id).getBytes())),o.critical&&f.value.push(t.create(t.Class.UNIVERSAL,t.Type.BOOLEAN,!1,""));var l=o.value;return typeof o.value!="string"&&(l=t.toDer(l).getBytes()),f.value.push(t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,l)),f},r.certificationRequestToAsn1=function(o){var f=o.certificationRequestInfo||r.getCertificationRequestInfo(o);return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[f,t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(o.signatureOid).getBytes()),g(o.signatureOid,o.signatureParameters)]),t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,"\0"+o.signature)])},r.createCaStore=function(o){var f={certs:{}};f.getIssuer=function(R){var L=l(R.issuer);return L},f.addCertificate=function(R){if(typeof R=="string"&&(R=a.pki.certificateFromPem(R)),b(R.subject),!f.hasCertificate(R))if(R.subject.hash in f.certs){var L=f.certs[R.subject.hash];a.util.isArray(L)||(L=[L]),L.push(R),f.certs[R.subject.hash]=L}else f.certs[R.subject.hash]=R},f.hasCertificate=function(R){typeof R=="string"&&(R=a.pki.certificateFromPem(R));var L=l(R.subject);if(!L)return!1;a.util.isArray(L)||(L=[L]);for(var D=t.toDer(r.certificateToAsn1(R)).getBytes(),z=0;z<L.length;++z){var k=t.toDer(r.certificateToAsn1(L[z])).getBytes();if(D===k)return!0}return!1},f.listAllCertificates=function(){var R=[];for(var L in f.certs)if(f.certs.hasOwnProperty(L)){var D=f.certs[L];if(!a.util.isArray(D))R.push(D);else for(var z=0;z<D.length;++z)R.push(D[z])}return R},f.removeCertificate=function(R){var L;if(typeof R=="string"&&(R=a.pki.certificateFromPem(R)),b(R.subject),!f.hasCertificate(R))return null;var D=l(R.subject);if(!a.util.isArray(D))return L=f.certs[R.subject.hash],delete f.certs[R.subject.hash],L;for(var z=t.toDer(r.certificateToAsn1(R)).getBytes(),k=0;k<D.length;++k){var Z=t.toDer(r.certificateToAsn1(D[k])).getBytes();z===Z&&(L=D[k],D.splice(k,1))}return D.length===0&&delete f.certs[R.subject.hash],L};function l(R){return b(R),f.certs[R.hash]||null}function b(R){if(!R.hash){var L=a.md.sha1.create();R.attributes=r.RDNAttributesAsArray(m(R),L),R.hash=L.digest().toHex()}}if(o)for(var h=0;h<o.length;++h){var N=o[h];f.addCertificate(N)}return f},r.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},r.verifyCertificateChain=function(o,f,l){typeof l=="function"&&(l={verify:l}),l=l||{},f=f.slice(0);var b=f.slice(0),h=l.validityCheckDate;typeof h>"u"&&(h=new Date);var N=!0,R=null,L=0;do{var D=f.shift(),z=null,k=!1;if(h&&(h<D.validity.notBefore||h>D.validity.notAfter)&&(R={message:"Certificate is not valid yet or has expired.",error:r.certificateError.certificate_expired,notBefore:D.validity.notBefore,notAfter:D.validity.notAfter,now:h}),R===null){if(z=f[0]||o.getIssuer(D),z===null&&D.isIssuer(D)&&(k=!0,z=D),z){var Z=z;a.util.isArray(Z)||(Z=[Z]);for(var $=!1;!$&&Z.length>0;){z=Z.shift();try{$=z.verify(D)}catch{}}$||(R={message:"Certificate signature is invalid.",error:r.certificateError.bad_certificate})}R===null&&(!z||k)&&!o.hasCertificate(D)&&(R={message:"Certificate is not trusted.",error:r.certificateError.unknown_ca})}if(R===null&&z&&!D.isIssuer(z)&&(R={message:"Certificate issuer is invalid.",error:r.certificateError.bad_certificate}),R===null)for(var oe={keyUsage:!0,basicConstraints:!0},fe=0;R===null&&fe<D.extensions.length;++fe){var ae=D.extensions[fe];ae.critical&&!(ae.name in oe)&&(R={message:"Certificate has an unsupported critical extension.",error:r.certificateError.unsupported_certificate})}if(R===null&&(!N||f.length===0&&(!z||k))){var ge=D.getExtension("basicConstraints"),ee=D.getExtension("keyUsage");if(ee!==null&&(!ee.keyCertSign||ge===null)&&(R={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:r.certificateError.bad_certificate}),R===null&&ge!==null&&!ge.cA&&(R={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:r.certificateError.bad_certificate}),R===null&&ee!==null&&"pathLenConstraint"in ge){var J=L-1;J>ge.pathLenConstraint&&(R={message:"Certificate basicConstraints pathLenConstraint violated.",error:r.certificateError.bad_certificate})}}var xe=R===null?!0:R.error,ne=l.verify?l.verify(xe,L,b):xe;if(ne===!0)R=null;else throw xe===!0&&(R={message:"The application rejected the certificate.",error:r.certificateError.bad_certificate}),(ne||ne===0)&&(typeof ne=="object"&&!a.util.isArray(ne)?(ne.message&&(R.message=ne.message),ne.error&&(R.error=ne.error)):typeof ne=="string"&&(R.error=ne)),R;N=!1,++L}while(f.length>0);return!0},_r.exports}var Li;function Bn(){if(Li)return Sr.exports;Li=1;var a=we();ut(),Ot(),yt(),An(),wn(),nt(),Yt(),Pt(),Re(),Yr();var t=a.asn1,r=a.pki,E=Sr.exports=a.pkcs12=a.pkcs12||{},C={name:"ContentInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:t.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},c={name:"PFX",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"},C,{name:"PFX.macData",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:t.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},s={name:"SafeBag",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:t.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},e={name:"Attribute",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,constructed:!0,capture:"values"}]},d={name:"CertBag",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:t.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:t.Class.UNIVERSAL,type:t.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function u(g,v,_,n){for(var y=[],o=0;o<g.length;o++)for(var f=0;f<g[o].safeBags.length;f++){var l=g[o].safeBags[f];if(!(n!==void 0&&l.type!==n)){if(v===null){y.push(l);continue}l.attributes[v]!==void 0&&l.attributes[v].indexOf(_)>=0&&y.push(l)}}return y}E.pkcs12FromAsn1=function(g,v,_){typeof v=="string"?(_=v,v=!0):v===void 0&&(v=!0);var n={},y=[];if(!t.validate(g,c,n,y)){var o=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw o.errors=o,o}var f={version:n.version.charCodeAt(0),safeContents:[],getBags:function(Z){var $={},oe;return"localKeyId"in Z?oe=Z.localKeyId:"localKeyIdHex"in Z&&(oe=a.util.hexToBytes(Z.localKeyIdHex)),oe===void 0&&!("friendlyName"in Z)&&"bagType"in Z&&($[Z.bagType]=u(f.safeContents,null,null,Z.bagType)),oe!==void 0&&($.localKeyId=u(f.safeContents,"localKeyId",oe,Z.bagType)),"friendlyName"in Z&&($.friendlyName=u(f.safeContents,"friendlyName",Z.friendlyName,Z.bagType)),$},getBagsByFriendlyName:function(Z,$){return u(f.safeContents,"friendlyName",Z,$)},getBagsByLocalKeyId:function(Z,$){return u(f.safeContents,"localKeyId",Z,$)}};if(n.version.charCodeAt(0)!==3){var o=new Error("PKCS#12 PFX of version other than 3 not supported.");throw o.version=n.version.charCodeAt(0),o}if(t.derToOid(n.contentType)!==r.oids.data){var o=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw o.oid=t.derToOid(n.contentType),o}var l=n.content.value[0];if(l.tagClass!==t.Class.UNIVERSAL||l.type!==t.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(l=x(l),n.mac){var b=null,h=0,N=t.derToOid(n.macAlgorithm);switch(N){case r.oids.sha1:b=a.md.sha1.create(),h=20;break;case r.oids.sha256:b=a.md.sha256.create(),h=32;break;case r.oids.sha384:b=a.md.sha384.create(),h=48;break;case r.oids.sha512:b=a.md.sha512.create(),h=64;break;case r.oids.md5:b=a.md.md5.create(),h=16;break}if(b===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+N);var R=new a.util.ByteBuffer(n.macSalt),L="macIterations"in n?parseInt(a.util.bytesToHex(n.macIterations),16):1,D=E.generateKey(_,R,3,L,h,b),z=a.hmac.create();z.start(b,D),z.update(l.value);var k=z.getMac();if(k.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return I(f,l.value,v,_),f};function x(g){if(g.composed||g.constructed){for(var v=a.util.createBuffer(),_=0;_<g.value.length;++_)v.putBytes(g.value[_].value);g.composed=g.constructed=!1,g.value=v.getBytes()}return g}function I(g,v,_,n){if(v=t.fromDer(v,_),v.tagClass!==t.Class.UNIVERSAL||v.type!==t.Type.SEQUENCE||v.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var y=0;y<v.value.length;y++){var o=v.value[y],f={},l=[];if(!t.validate(o,C,f,l)){var b=new Error("Cannot read ContentInfo.");throw b.errors=l,b}var h={encrypted:!1},N=null,R=f.content.value[0];switch(t.derToOid(f.contentType)){case r.oids.data:if(R.tagClass!==t.Class.UNIVERSAL||R.type!==t.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");N=x(R).value;break;case r.oids.encryptedData:N=m(R,n),h.encrypted=!0;break;default:var b=new Error("Unsupported PKCS#12 contentType.");throw b.contentType=t.derToOid(f.contentType),b}h.safeBags=i(N,_,n),g.safeContents.push(h)}}function m(g,v){var _={},n=[];if(!t.validate(g,a.pkcs7.asn1.encryptedDataValidator,_,n)){var y=new Error("Cannot read EncryptedContentInfo.");throw y.errors=n,y}var o=t.derToOid(_.contentType);if(o!==r.oids.data){var y=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw y.oid=o,y}o=t.derToOid(_.encAlgorithm);var f=r.pbe.getCipher(o,_.encParameter,v),l=x(_.encryptedContentAsn1),b=a.util.createBuffer(l.value);if(f.update(b),!f.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return f.output.getBytes()}function i(g,v,_){if(!v&&g.length===0)return[];if(g=t.fromDer(g,v),g.tagClass!==t.Class.UNIVERSAL||g.type!==t.Type.SEQUENCE||g.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],y=0;y<g.value.length;y++){var o=g.value[y],f={},l=[];if(!t.validate(o,s,f,l)){var b=new Error("Cannot read SafeBag.");throw b.errors=l,b}var h={type:t.derToOid(f.bagId),attributes:p(f.bagAttributes)};n.push(h);var N,R,L=f.bagValue.value[0];switch(h.type){case r.oids.pkcs8ShroudedKeyBag:if(L=r.decryptPrivateKeyInfo(L,_),L===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case r.oids.keyBag:try{h.key=r.privateKeyFromAsn1(L)}catch{h.key=null,h.asn1=L}continue;case r.oids.certBag:N=d,R=function(){if(t.derToOid(f.certId)!==r.oids.x509Certificate){var z=new Error("Unsupported certificate type, only X.509 supported.");throw z.oid=t.derToOid(f.certId),z}var k=t.fromDer(f.cert,v);try{h.cert=r.certificateFromAsn1(k,!0)}catch{h.cert=null,h.asn1=k}};break;default:var b=new Error("Unsupported PKCS#12 SafeBag type.");throw b.oid=h.type,b}if(N!==void 0&&!t.validate(L,N,f,l)){var b=new Error("Cannot read PKCS#12 "+N.name);throw b.errors=l,b}R()}return n}function p(g){var v={};if(g!==void 0)for(var _=0;_<g.length;++_){var n={},y=[];if(!t.validate(g[_],e,n,y)){var o=new Error("Cannot read PKCS#12 BagAttribute.");throw o.errors=y,o}var f=t.derToOid(n.oid);if(r.oids[f]!==void 0){v[r.oids[f]]=[];for(var l=0;l<n.values.length;++l)v[r.oids[f]].push(n.values[l].value)}}return v}return E.toPkcs12Asn1=function(g,v,_,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var y=n.localKeyId,o;if(y!==null)y=a.util.hexToBytes(y);else if(n.generateLocalKeyId)if(v){var f=a.util.isArray(v)?v[0]:v;typeof f=="string"&&(f=r.certificateFromPem(f));var l=a.md.sha1.create();l.update(t.toDer(r.certificateToAsn1(f)).getBytes()),y=l.digest().getBytes()}else y=a.random.getBytes(20);var b=[];y!==null&&b.push(t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.oids.localKeyId).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,y)])])),"friendlyName"in n&&b.push(t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.oids.friendlyName).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[t.create(t.Class.UNIVERSAL,t.Type.BMPSTRING,!1,n.friendlyName)])])),b.length>0&&(o=t.create(t.Class.UNIVERSAL,t.Type.SET,!0,b));var h=[],N=[];v!==null&&(a.util.isArray(v)?N=v:N=[v]);for(var R=[],L=0;L<N.length;++L){v=N[L],typeof v=="string"&&(v=r.certificateFromPem(v));var D=L===0?o:void 0,z=r.certificateToAsn1(v),k=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.oids.certBag).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.oids.x509Certificate).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,t.toDer(z).getBytes())])])]),D]);R.push(k)}if(R.length>0){var Z=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,R),$=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.oids.data).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,t.toDer(Z).getBytes())])]);h.push($)}var oe=null;if(g!==null){var fe=r.wrapRsaPrivateKey(r.privateKeyToAsn1(g));_===null?oe=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.oids.keyBag).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[fe]),o]):oe=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.oids.pkcs8ShroudedKeyBag).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[r.encryptPrivateKeyInfo(fe,_,n)]),o]);var ae=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[oe]),ge=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.oids.data).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,t.toDer(ae).getBytes())])]);h.push(ge)}var ee=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,h),J;if(n.useMac){var l=a.md.sha1.create(),xe=new a.util.ByteBuffer(a.random.getBytes(n.saltSize)),ne=n.count,g=E.generateKey(_,xe,3,ne,20),ce=a.hmac.create();ce.start(l,g),ce.update(t.toDer(ee).getBytes());var ye=ce.getMac();J=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.oids.sha1).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")]),t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,ye.getBytes())]),t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,xe.getBytes()),t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(ne).getBytes())])}return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(3).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.oids.data).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,t.toDer(ee).getBytes())])]),J])},E.generateKey=a.pbe.generatePkcs12Key,Sr.exports}var Ui;function kn(){if(Ui)return cr.exports;Ui=1;var a=we();ut(),yt(),wn(),St(),Zr(),Bn(),Qr(),Yt(),Re(),Yr();var t=a.asn1,r=cr.exports=a.pki=a.pki||{};return r.pemToDer=function(E){var C=a.pem.decode(E)[0];if(C.procType&&C.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return a.util.createBuffer(C.body)},r.privateKeyFromPem=function(E){var C=a.pem.decode(E)[0];if(C.type!=="PRIVATE KEY"&&C.type!=="RSA PRIVATE KEY"){var c=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw c.headerType=C.type,c}if(C.procType&&C.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var s=t.fromDer(C.body);return r.privateKeyFromAsn1(s)},r.privateKeyToPem=function(E,C){var c={type:"RSA PRIVATE KEY",body:t.toDer(r.privateKeyToAsn1(E)).getBytes()};return a.pem.encode(c,{maxline:C})},r.privateKeyInfoToPem=function(E,C){var c={type:"PRIVATE KEY",body:t.toDer(E).getBytes()};return a.pem.encode(c,{maxline:C})},cr.exports}var Ir,Oi;function Rn(){if(Oi)return Ir;Oi=1;var a=we();ut(),Ot(),Wr(),St(),kn(),nt(),Pt(),Re();var t=function(A,K,F,S){var O=a.util.createBuffer(),T=A.length>>1,M=T+(A.length&1),Q=A.substr(0,M),H=A.substr(T,M),q=a.util.createBuffer(),G=a.hmac.create();F=K+F;var re=Math.ceil(S/16),ue=Math.ceil(S/20);G.start("MD5",Q);var X=a.util.createBuffer();q.putBytes(F);for(var le=0;le<re;++le)G.start(null,null),G.update(q.getBytes()),q.putBuffer(G.digest()),G.start(null,null),G.update(q.bytes()+F),X.putBuffer(G.digest());G.start("SHA1",H);var ve=a.util.createBuffer();q.clear(),q.putBytes(F);for(var le=0;le<ue;++le)G.start(null,null),G.update(q.getBytes()),q.putBuffer(G.digest()),G.start(null,null),G.update(q.bytes()+F),ve.putBuffer(G.digest());return O.putBytes(a.util.xorBytes(X.getBytes(),ve.getBytes(),S)),O},r=function(A,K,F){var S=a.hmac.create();S.start("SHA1",A);var O=a.util.createBuffer();return O.putInt32(K[0]),O.putInt32(K[1]),O.putByte(F.type),O.putByte(F.version.major),O.putByte(F.version.minor),O.putInt16(F.length),O.putBytes(F.fragment.bytes()),S.update(O.getBytes()),S.digest().getBytes()},E=function(A,K,F){var S=!1;try{var O=A.deflate(K.fragment.getBytes());K.fragment=a.util.createBuffer(O),K.length=O.length,S=!0}catch{}return S},C=function(A,K,F){var S=!1;try{var O=A.inflate(K.fragment.getBytes());K.fragment=a.util.createBuffer(O),K.length=O.length,S=!0}catch{}return S},c=function(A,K){var F=0;switch(K){case 1:F=A.getByte();break;case 2:F=A.getInt16();break;case 3:F=A.getInt24();break;case 4:F=A.getInt32();break}return a.util.createBuffer(A.getBytes(F))},s=function(A,K,F){A.putInt(F.length(),K<<3),A.putBuffer(F)},e={};e.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}},e.SupportedVersions=[e.Versions.TLS_1_1,e.Versions.TLS_1_0],e.Version=e.SupportedVersions[0],e.MaxFragment=15360,e.ConnectionEnd={server:0,client:1},e.PRFAlgorithm={tls_prf_sha256:0},e.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},e.CipherType={stream:0,block:1,aead:2},e.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},e.CompressionMethod={none:0,deflate:1},e.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},e.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},e.Alert={},e.Alert.Level={warning:1,fatal:2},e.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},e.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},e.CipherSuites={},e.getCipherSuite=function(A){var K=null;for(var F in e.CipherSuites){var S=e.CipherSuites[F];if(S.id[0]===A.charCodeAt(0)&&S.id[1]===A.charCodeAt(1)){K=S;break}}return K},e.handleUnexpected=function(A,K){var F=!A.open&&A.entity===e.ConnectionEnd.client;F||A.error(A,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:e.Alert.Level.fatal,description:e.Alert.Description.unexpected_message}})},e.handleHelloRequest=function(A,K,F){!A.handshaking&&A.handshakes>0&&(e.queue(A,e.createAlert(A,{level:e.Alert.Level.warning,description:e.Alert.Description.no_renegotiation})),e.flush(A)),A.process()},e.parseHelloMessage=function(A,K,F){var S=null,O=A.entity===e.ConnectionEnd.client;if(F<38)A.error(A,{message:O?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:e.Alert.Level.fatal,description:e.Alert.Description.illegal_parameter}});else{var T=K.fragment,M=T.length();if(S={version:{major:T.getByte(),minor:T.getByte()},random:a.util.createBuffer(T.getBytes(32)),session_id:c(T,1),extensions:[]},O?(S.cipher_suite=T.getBytes(2),S.compression_method=T.getByte()):(S.cipher_suites=c(T,2),S.compression_methods=c(T,1)),M=F-(M-T.length()),M>0){for(var Q=c(T,2);Q.length()>0;)S.extensions.push({type:[Q.getByte(),Q.getByte()],data:c(Q,2)});if(!O)for(var H=0;H<S.extensions.length;++H){var q=S.extensions[H];if(q.type[0]===0&&q.type[1]===0)for(var G=c(q.data,2);G.length()>0;){var re=G.getByte();if(re!==0)break;A.session.extensions.server_name.serverNameList.push(c(G,2).getBytes())}}}if(A.session.version&&(S.version.major!==A.session.version.major||S.version.minor!==A.session.version.minor))return A.error(A,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:e.Alert.Level.fatal,description:e.Alert.Description.protocol_version}});if(O)A.session.cipherSuite=e.getCipherSuite(S.cipher_suite);else for(var ue=a.util.createBuffer(S.cipher_suites.bytes());ue.length()>0&&(A.session.cipherSuite=e.getCipherSuite(ue.getBytes(2)),A.session.cipherSuite===null););if(A.session.cipherSuite===null)return A.error(A,{message:"No cipher suites in common.",send:!0,alert:{level:e.Alert.Level.fatal,description:e.Alert.Description.handshake_failure},cipherSuite:a.util.bytesToHex(S.cipher_suite)});O?A.session.compressionMethod=S.compression_method:A.session.compressionMethod=e.CompressionMethod.none}return S},e.createSecurityParameters=function(A,K){var F=A.entity===e.ConnectionEnd.client,S=K.random.bytes(),O=F?A.session.sp.client_random:S,T=F?S:e.createRandom().getBytes();A.session.sp={entity:A.entity,prf_algorithm:e.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:A.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:O,server_random:T}},e.handleServerHello=function(A,K,F){var S=e.parseHelloMessage(A,K,F);if(!A.fail){if(S.version.minor<=A.version.minor)A.version.minor=S.version.minor;else return A.error(A,{message:"Incompatible TLS version.",send:!0,alert:{level:e.Alert.Level.fatal,description:e.Alert.Description.protocol_version}});A.session.version=A.version;var O=S.session_id.bytes();O.length>0&&O===A.session.id?(A.expect=i,A.session.resuming=!0,A.session.sp.server_random=S.random.bytes()):(A.expect=u,A.session.resuming=!1,e.createSecurityParameters(A,S)),A.session.id=O,A.process()}},e.handleClientHello=function(A,K,F){var S=e.parseHelloMessage(A,K,F);if(!A.fail){var O=S.session_id.bytes(),T=null;if(A.sessionCache&&(T=A.sessionCache.getSession(O),T===null?O="":(T.version.major!==S.version.major||T.version.minor>S.version.minor)&&(T=null,O="")),O.length===0&&(O=a.random.getBytes(32)),A.session.id=O,A.session.clientHelloVersion=S.version,A.session.sp={},T)A.version=A.session.version=T.version,A.session.sp=T.sp;else{for(var M,Q=1;Q<e.SupportedVersions.length&&(M=e.SupportedVersions[Q],!(M.minor<=S.version.minor));++Q);A.version={major:M.major,minor:M.minor},A.session.version=A.version}T!==null?(A.expect=f,A.session.resuming=!0,A.session.sp.client_random=S.random.bytes()):(A.expect=A.verifyClient!==!1?n:y,A.session.resuming=!1,e.createSecurityParameters(A,S)),A.open=!0,e.queue(A,e.createRecord(A,{type:e.ContentType.handshake,data:e.createServerHello(A)})),A.session.resuming?(e.queue(A,e.createRecord(A,{type:e.ContentType.change_cipher_spec,data:e.createChangeCipherSpec()})),A.state.pending=e.createConnectionState(A),A.state.current.write=A.state.pending.write,e.queue(A,e.createRecord(A,{type:e.ContentType.handshake,data:e.createFinished(A)}))):(e.queue(A,e.createRecord(A,{type:e.ContentType.handshake,data:e.createCertificate(A)})),A.fail||(e.queue(A,e.createRecord(A,{type:e.ContentType.handshake,data:e.createServerKeyExchange(A)})),A.verifyClient!==!1&&e.queue(A,e.createRecord(A,{type:e.ContentType.handshake,data:e.createCertificateRequest(A)})),e.queue(A,e.createRecord(A,{type:e.ContentType.handshake,data:e.createServerHelloDone(A)})))),e.flush(A),A.process()}},e.handleCertificate=function(A,K,F){if(F<3)return A.error(A,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:e.Alert.Level.fatal,description:e.Alert.Description.illegal_parameter}});var S=K.fragment,O={certificate_list:c(S,3)},T,M,Q=[];try{for(;O.certificate_list.length()>0;)T=c(O.certificate_list,3),M=a.asn1.fromDer(T),T=a.pki.certificateFromAsn1(M,!0),Q.push(T)}catch(q){return A.error(A,{message:"Could not parse certificate list.",cause:q,send:!0,alert:{level:e.Alert.Level.fatal,description:e.Alert.Description.bad_certificate}})}var H=A.entity===e.ConnectionEnd.client;(H||A.verifyClient===!0)&&Q.length===0?A.error(A,{message:H?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:e.Alert.Level.fatal,description:e.Alert.Description.illegal_parameter}}):Q.length===0?A.expect=H?x:y:(H?A.session.serverCertificate=Q[0]:A.session.clientCertificate=Q[0],e.verifyCertificateChain(A,Q)&&(A.expect=H?x:y)),A.process()},e.handleServerKeyExchange=function(A,K,F){if(F>0)return A.error(A,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:e.Alert.Level.fatal,description:e.Alert.Description.unsupported_certificate}});A.expect=I,A.process()},e.handleClientKeyExchange=function(A,K,F){if(F<48)return A.error(A,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:e.Alert.Level.fatal,description:e.Alert.Description.unsupported_certificate}});var S=K.fragment,O={enc_pre_master_secret:c(S,2).getBytes()},T=null;if(A.getPrivateKey)try{T=A.getPrivateKey(A,A.session.serverCertificate),T=a.pki.privateKeyFromPem(T)}catch(H){A.error(A,{message:"Could not get private key.",cause:H,send:!0,alert:{level:e.Alert.Level.fatal,description:e.Alert.Description.internal_error}})}if(T===null)return A.error(A,{message:"No private key set.",send:!0,alert:{level:e.Alert.Level.fatal,description:e.Alert.Description.internal_error}});try{var M=A.session.sp;M.pre_master_secret=T.decrypt(O.enc_pre_master_secret);var Q=A.session.clientHelloVersion;if(Q.major!==M.pre_master_secret.charCodeAt(0)||Q.minor!==M.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{M.pre_master_secret=a.random.getBytes(48)}A.expect=f,A.session.clientCertificate!==null&&(A.expect=o),A.process()},e.handleCertificateRequest=function(A,K,F){if(F<3)return A.error(A,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:e.Alert.Level.fatal,description:e.Alert.Description.illegal_parameter}});var S=K.fragment,O={certificate_types:c(S,1),certificate_authorities:c(S,2)};A.session.certificateRequest=O,A.expect=m,A.process()},e.handleCertificateVerify=function(A,K,F){if(F<2)return A.error(A,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:e.Alert.Level.fatal,description:e.Alert.Description.illegal_parameter}});var S=K.fragment;S.read-=4;var O=S.bytes();S.read+=4;var T={signature:c(S,2).getBytes()},M=a.util.createBuffer();M.putBuffer(A.session.md5.digest()),M.putBuffer(A.session.sha1.digest()),M=M.getBytes();try{var Q=A.session.clientCertificate;if(!Q.publicKey.verify(M,T.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");A.session.md5.update(O),A.session.sha1.update(O)}catch{return A.error(A,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:e.Alert.Level.fatal,description:e.Alert.Description.handshake_failure}})}A.expect=f,A.process()},e.handleServerHelloDone=function(A,K,F){if(F>0)return A.error(A,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:e.Alert.Level.fatal,description:e.Alert.Description.record_overflow}});if(A.serverCertificate===null){var S={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:e.Alert.Level.fatal,description:e.Alert.Description.insufficient_security}},O=0,T=A.verify(A,S.alert.description,O,[]);if(T!==!0)return(T||T===0)&&(typeof T=="object"&&!a.util.isArray(T)?(T.message&&(S.message=T.message),T.alert&&(S.alert.description=T.alert)):typeof T=="number"&&(S.alert.description=T)),A.error(A,S)}A.session.certificateRequest!==null&&(K=e.createRecord(A,{type:e.ContentType.handshake,data:e.createCertificate(A)}),e.queue(A,K)),K=e.createRecord(A,{type:e.ContentType.handshake,data:e.createClientKeyExchange(A)}),e.queue(A,K),A.expect=v;var M=function(Q,H){Q.session.certificateRequest!==null&&Q.session.clientCertificate!==null&&e.queue(Q,e.createRecord(Q,{type:e.ContentType.handshake,data:e.createCertificateVerify(Q,H)})),e.queue(Q,e.createRecord(Q,{type:e.ContentType.change_cipher_spec,data:e.createChangeCipherSpec()})),Q.state.pending=e.createConnectionState(Q),Q.state.current.write=Q.state.pending.write,e.queue(Q,e.createRecord(Q,{type:e.ContentType.handshake,data:e.createFinished(Q)})),Q.expect=i,e.flush(Q),Q.process()};if(A.session.certificateRequest===null||A.session.clientCertificate===null)return M(A,null);e.getClientSignature(A,M)},e.handleChangeCipherSpec=function(A,K){if(K.fragment.getByte()!==1)return A.error(A,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:e.Alert.Level.fatal,description:e.Alert.Description.illegal_parameter}});var F=A.entity===e.ConnectionEnd.client;(A.session.resuming&&F||!A.session.resuming&&!F)&&(A.state.pending=e.createConnectionState(A)),A.state.current.read=A.state.pending.read,(!A.session.resuming&&F||A.session.resuming&&!F)&&(A.state.pending=null),A.expect=F?p:l,A.process()},e.handleFinished=function(A,K,F){var S=K.fragment;S.read-=4;var O=S.bytes();S.read+=4;var T=K.fragment.getBytes();S=a.util.createBuffer(),S.putBuffer(A.session.md5.digest()),S.putBuffer(A.session.sha1.digest());var M=A.entity===e.ConnectionEnd.client,Q=M?"server finished":"client finished",H=A.session.sp,q=12,G=t;if(S=G(H.master_secret,Q,S.getBytes(),q),S.getBytes()!==T)return A.error(A,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:e.Alert.Level.fatal,description:e.Alert.Description.decrypt_error}});A.session.md5.update(O),A.session.sha1.update(O),(A.session.resuming&&M||!A.session.resuming&&!M)&&(e.queue(A,e.createRecord(A,{type:e.ContentType.change_cipher_spec,data:e.createChangeCipherSpec()})),A.state.current.write=A.state.pending.write,A.state.pending=null,e.queue(A,e.createRecord(A,{type:e.ContentType.handshake,data:e.createFinished(A)}))),A.expect=M?g:b,A.handshaking=!1,++A.handshakes,A.peerCertificate=M?A.session.serverCertificate:A.session.clientCertificate,e.flush(A),A.isConnected=!0,A.connected(A),A.process()},e.handleAlert=function(A,K){var F=K.fragment,S={level:F.getByte(),description:F.getByte()},O;switch(S.description){case e.Alert.Description.close_notify:O="Connection closed.";break;case e.Alert.Description.unexpected_message:O="Unexpected message.";break;case e.Alert.Description.bad_record_mac:O="Bad record MAC.";break;case e.Alert.Description.decryption_failed:O="Decryption failed.";break;case e.Alert.Description.record_overflow:O="Record overflow.";break;case e.Alert.Description.decompression_failure:O="Decompression failed.";break;case e.Alert.Description.handshake_failure:O="Handshake failure.";break;case e.Alert.Description.bad_certificate:O="Bad certificate.";break;case e.Alert.Description.unsupported_certificate:O="Unsupported certificate.";break;case e.Alert.Description.certificate_revoked:O="Certificate revoked.";break;case e.Alert.Description.certificate_expired:O="Certificate expired.";break;case e.Alert.Description.certificate_unknown:O="Certificate unknown.";break;case e.Alert.Description.illegal_parameter:O="Illegal parameter.";break;case e.Alert.Description.unknown_ca:O="Unknown certificate authority.";break;case e.Alert.Description.access_denied:O="Access denied.";break;case e.Alert.Description.decode_error:O="Decode error.";break;case e.Alert.Description.decrypt_error:O="Decrypt error.";break;case e.Alert.Description.export_restriction:O="Export restriction.";break;case e.Alert.Description.protocol_version:O="Unsupported protocol version.";break;case e.Alert.Description.insufficient_security:O="Insufficient security.";break;case e.Alert.Description.internal_error:O="Internal error.";break;case e.Alert.Description.user_canceled:O="User canceled.";break;case e.Alert.Description.no_renegotiation:O="Renegotiation not supported.";break;default:O="Unknown error.";break}if(S.description===e.Alert.Description.close_notify)return A.close();A.error(A,{message:O,send:!1,origin:A.entity===e.ConnectionEnd.client?"server":"client",alert:S}),A.process()},e.handleHandshake=function(A,K){var F=K.fragment,S=F.getByte(),O=F.getInt24();if(O>F.length())return A.fragmented=K,K.fragment=a.util.createBuffer(),F.read-=4,A.process();A.fragmented=null,F.read-=4;var T=F.bytes(O+4);F.read+=4,S in J[A.entity][A.expect]?(A.entity===e.ConnectionEnd.server&&!A.open&&!A.fail&&(A.handshaking=!0,A.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:a.md.md5.create(),sha1:a.md.sha1.create()}),S!==e.HandshakeType.hello_request&&S!==e.HandshakeType.certificate_verify&&S!==e.HandshakeType.finished&&(A.session.md5.update(T),A.session.sha1.update(T)),J[A.entity][A.expect][S](A,K,O)):e.handleUnexpected(A,K)},e.handleApplicationData=function(A,K){A.data.putBuffer(K.fragment),A.dataReady(A),A.process()},e.handleHeartbeat=function(A,K){var F=K.fragment,S=F.getByte(),O=F.getInt16(),T=F.getBytes(O);if(S===e.HeartbeatMessageType.heartbeat_request){if(A.handshaking||O>T.length)return A.process();e.queue(A,e.createRecord(A,{type:e.ContentType.heartbeat,data:e.createHeartbeat(e.HeartbeatMessageType.heartbeat_response,T)})),e.flush(A)}else if(S===e.HeartbeatMessageType.heartbeat_response){if(T!==A.expectedHeartbeatPayload)return A.process();A.heartbeatReceived&&A.heartbeatReceived(A,a.util.createBuffer(T))}A.process()};var d=0,u=1,x=2,I=3,m=4,i=5,p=6,g=7,v=8,_=0,n=1,y=2,o=3,f=4,l=5,b=6,h=e.handleUnexpected,N=e.handleChangeCipherSpec,R=e.handleAlert,L=e.handleHandshake,D=e.handleApplicationData,z=e.handleHeartbeat,k=[];k[e.ConnectionEnd.client]=[[h,R,L,h,z],[h,R,L,h,z],[h,R,L,h,z],[h,R,L,h,z],[h,R,L,h,z],[N,R,h,h,z],[h,R,L,h,z],[h,R,L,D,z],[h,R,L,h,z]],k[e.ConnectionEnd.server]=[[h,R,L,h,z],[h,R,L,h,z],[h,R,L,h,z],[h,R,L,h,z],[N,R,h,h,z],[h,R,L,h,z],[h,R,L,D,z],[h,R,L,h,z]];var Z=e.handleHelloRequest,$=e.handleServerHello,oe=e.handleCertificate,fe=e.handleServerKeyExchange,ae=e.handleCertificateRequest,ge=e.handleServerHelloDone,ee=e.handleFinished,J=[];J[e.ConnectionEnd.client]=[[h,h,$,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h],[Z,h,h,h,h,h,h,h,h,h,h,oe,fe,ae,ge,h,h,h,h,h,h],[Z,h,h,h,h,h,h,h,h,h,h,h,fe,ae,ge,h,h,h,h,h,h],[Z,h,h,h,h,h,h,h,h,h,h,h,h,ae,ge,h,h,h,h,h,h],[Z,h,h,h,h,h,h,h,h,h,h,h,h,h,ge,h,h,h,h,h,h],[Z,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h],[Z,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,ee],[Z,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h],[Z,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h]];var xe=e.handleClientHello,ne=e.handleClientKeyExchange,ce=e.handleCertificateVerify;J[e.ConnectionEnd.server]=[[h,xe,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h],[h,h,h,h,h,h,h,h,h,h,h,oe,h,h,h,h,h,h,h,h,h],[h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,ne,h,h,h,h],[h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,ce,h,h,h,h,h],[h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h],[h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,ee],[h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h],[h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h]],e.generateKeys=function(A,K){var F=t,S=K.client_random+K.server_random;A.session.resuming||(K.master_secret=F(K.pre_master_secret,"master secret",S,48).bytes(),K.pre_master_secret=null),S=K.server_random+K.client_random;var O=2*K.mac_key_length+2*K.enc_key_length,T=A.version.major===e.Versions.TLS_1_0.major&&A.version.minor===e.Versions.TLS_1_0.minor;T&&(O+=2*K.fixed_iv_length);var M=F(K.master_secret,"key expansion",S,O),Q={client_write_MAC_key:M.getBytes(K.mac_key_length),server_write_MAC_key:M.getBytes(K.mac_key_length),client_write_key:M.getBytes(K.enc_key_length),server_write_key:M.getBytes(K.enc_key_length)};return T&&(Q.client_write_IV=M.getBytes(K.fixed_iv_length),Q.server_write_IV=M.getBytes(K.fixed_iv_length)),Q},e.createConnectionState=function(A){var K=A.entity===e.ConnectionEnd.client,F=function(){var T={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(M){return!0},compressionState:null,compressFunction:function(M){return!0},updateSequenceNumber:function(){T.sequenceNumber[1]===4294967295?(T.sequenceNumber[1]=0,++T.sequenceNumber[0]):++T.sequenceNumber[1]}};return T},S={read:F(),write:F()};if(S.read.update=function(T,M){return S.read.cipherFunction(M,S.read)?S.read.compressFunction(T,M,S.read)||T.error(T,{message:"Could not decompress record.",send:!0,alert:{level:e.Alert.Level.fatal,description:e.Alert.Description.decompression_failure}}):T.error(T,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:e.Alert.Level.fatal,description:e.Alert.Description.bad_record_mac}}),!T.fail},S.write.update=function(T,M){return S.write.compressFunction(T,M,S.write)?S.write.cipherFunction(M,S.write)||T.error(T,{message:"Could not encrypt record.",send:!1,alert:{level:e.Alert.Level.fatal,description:e.Alert.Description.internal_error}}):T.error(T,{message:"Could not compress record.",send:!1,alert:{level:e.Alert.Level.fatal,description:e.Alert.Description.internal_error}}),!T.fail},A.session){var O=A.session.sp;switch(A.session.cipherSuite.initSecurityParameters(O),O.keys=e.generateKeys(A,O),S.read.macKey=K?O.keys.server_write_MAC_key:O.keys.client_write_MAC_key,S.write.macKey=K?O.keys.client_write_MAC_key:O.keys.server_write_MAC_key,A.session.cipherSuite.initConnectionState(S,A,O),O.compression_algorithm){case e.CompressionMethod.none:break;case e.CompressionMethod.deflate:S.read.compressFunction=C,S.write.compressFunction=E;break;default:throw new Error("Unsupported compression algorithm.")}}return S},e.createRandom=function(){var A=new Date,K=+A+A.getTimezoneOffset()*6e4,F=a.util.createBuffer();return F.putInt32(K),F.putBytes(a.random.getBytes(28)),F},e.createRecord=function(A,K){if(!K.data)return null;var F={type:K.type,version:{major:A.version.major,minor:A.version.minor},length:K.data.length(),fragment:K.data};return F},e.createAlert=function(A,K){var F=a.util.createBuffer();return F.putByte(K.level),F.putByte(K.description),e.createRecord(A,{type:e.ContentType.alert,data:F})},e.createClientHello=function(A){A.session.clientHelloVersion={major:A.version.major,minor:A.version.minor};for(var K=a.util.createBuffer(),F=0;F<A.cipherSuites.length;++F){var S=A.cipherSuites[F];K.putByte(S.id[0]),K.putByte(S.id[1])}var O=K.length(),T=a.util.createBuffer();T.putByte(e.CompressionMethod.none);var M=T.length(),Q=a.util.createBuffer();if(A.virtualHost){var H=a.util.createBuffer();H.putByte(0),H.putByte(0);var q=a.util.createBuffer();q.putByte(0),s(q,2,a.util.createBuffer(A.virtualHost));var G=a.util.createBuffer();s(G,2,q),s(H,2,G),Q.putBuffer(H)}var re=Q.length();re>0&&(re+=2);var ue=A.session.id,X=ue.length+1+2+4+28+2+O+1+M+re,le=a.util.createBuffer();return le.putByte(e.HandshakeType.client_hello),le.putInt24(X),le.putByte(A.version.major),le.putByte(A.version.minor),le.putBytes(A.session.sp.client_random),s(le,1,a.util.createBuffer(ue)),s(le,2,K),s(le,1,T),re>0&&s(le,2,Q),le},e.createServerHello=function(A){var K=A.session.id,F=K.length+1+2+4+28+2+1,S=a.util.createBuffer();return S.putByte(e.HandshakeType.server_hello),S.putInt24(F),S.putByte(A.version.major),S.putByte(A.version.minor),S.putBytes(A.session.sp.server_random),s(S,1,a.util.createBuffer(K)),S.putByte(A.session.cipherSuite.id[0]),S.putByte(A.session.cipherSuite.id[1]),S.putByte(A.session.compressionMethod),S},e.createCertificate=function(A){var K=A.entity===e.ConnectionEnd.client,F=null;if(A.getCertificate){var S;K?S=A.session.certificateRequest:S=A.session.extensions.server_name.serverNameList,F=A.getCertificate(A,S)}var O=a.util.createBuffer();if(F!==null)try{a.util.isArray(F)||(F=[F]);for(var T=null,M=0;M<F.length;++M){var Q=a.pem.decode(F[M])[0];if(Q.type!=="CERTIFICATE"&&Q.type!=="X509 CERTIFICATE"&&Q.type!=="TRUSTED CERTIFICATE"){var H=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw H.headerType=Q.type,H}if(Q.procType&&Q.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var q=a.util.createBuffer(Q.body);T===null&&(T=a.asn1.fromDer(q.bytes(),!1));var G=a.util.createBuffer();s(G,3,q),O.putBuffer(G)}F=a.pki.certificateFromAsn1(T),K?A.session.clientCertificate=F:A.session.serverCertificate=F}catch(X){return A.error(A,{message:"Could not send certificate list.",cause:X,send:!0,alert:{level:e.Alert.Level.fatal,description:e.Alert.Description.bad_certificate}})}var re=3+O.length(),ue=a.util.createBuffer();return ue.putByte(e.HandshakeType.certificate),ue.putInt24(re),s(ue,3,O),ue},e.createClientKeyExchange=function(A){var K=a.util.createBuffer();K.putByte(A.session.clientHelloVersion.major),K.putByte(A.session.clientHelloVersion.minor),K.putBytes(a.random.getBytes(46));var F=A.session.sp;F.pre_master_secret=K.getBytes();var S=A.session.serverCertificate.publicKey;K=S.encrypt(F.pre_master_secret);var O=K.length+2,T=a.util.createBuffer();return T.putByte(e.HandshakeType.client_key_exchange),T.putInt24(O),T.putInt16(K.length),T.putBytes(K),T},e.createServerKeyExchange=function(A){var K=a.util.createBuffer();return K},e.getClientSignature=function(A,K){var F=a.util.createBuffer();F.putBuffer(A.session.md5.digest()),F.putBuffer(A.session.sha1.digest()),F=F.getBytes(),A.getSignature=A.getSignature||function(S,O,T){var M=null;if(S.getPrivateKey)try{M=S.getPrivateKey(S,S.session.clientCertificate),M=a.pki.privateKeyFromPem(M)}catch(Q){S.error(S,{message:"Could not get private key.",cause:Q,send:!0,alert:{level:e.Alert.Level.fatal,description:e.Alert.Description.internal_error}})}M===null?S.error(S,{message:"No private key set.",send:!0,alert:{level:e.Alert.Level.fatal,description:e.Alert.Description.internal_error}}):O=M.sign(O,null),T(S,O)},A.getSignature(A,F,K)},e.createCertificateVerify=function(A,K){var F=K.length+2,S=a.util.createBuffer();return S.putByte(e.HandshakeType.certificate_verify),S.putInt24(F),S.putInt16(K.length),S.putBytes(K),S},e.createCertificateRequest=function(A){var K=a.util.createBuffer();K.putByte(1);var F=a.util.createBuffer();for(var S in A.caStore.certs){var O=A.caStore.certs[S],T=a.pki.distinguishedNameToAsn1(O.subject),M=a.asn1.toDer(T);F.putInt16(M.length()),F.putBuffer(M)}var Q=1+K.length()+2+F.length(),H=a.util.createBuffer();return H.putByte(e.HandshakeType.certificate_request),H.putInt24(Q),s(H,1,K),s(H,2,F),H},e.createServerHelloDone=function(A){var K=a.util.createBuffer();return K.putByte(e.HandshakeType.server_hello_done),K.putInt24(0),K},e.createChangeCipherSpec=function(){var A=a.util.createBuffer();return A.putByte(1),A},e.createFinished=function(A){var K=a.util.createBuffer();K.putBuffer(A.session.md5.digest()),K.putBuffer(A.session.sha1.digest());var F=A.entity===e.ConnectionEnd.client,S=A.session.sp,O=12,T=t,M=F?"client finished":"server finished";K=T(S.master_secret,M,K.getBytes(),O);var Q=a.util.createBuffer();return Q.putByte(e.HandshakeType.finished),Q.putInt24(K.length()),Q.putBuffer(K),Q},e.createHeartbeat=function(A,K,F){typeof F>"u"&&(F=K.length);var S=a.util.createBuffer();S.putByte(A),S.putInt16(F),S.putBytes(K);var O=S.length(),T=Math.max(16,O-F-3);return S.putBytes(a.random.getBytes(T)),S},e.queue=function(A,K){if(K&&!(K.fragment.length()===0&&(K.type===e.ContentType.handshake||K.type===e.ContentType.alert||K.type===e.ContentType.change_cipher_spec))){if(K.type===e.ContentType.handshake){var F=K.fragment.bytes();A.session.md5.update(F),A.session.sha1.update(F),F=null}var S;if(K.fragment.length()<=e.MaxFragment)S=[K];else{S=[];for(var O=K.fragment.bytes();O.length>e.MaxFragment;)S.push(e.createRecord(A,{type:K.type,data:a.util.createBuffer(O.slice(0,e.MaxFragment))})),O=O.slice(e.MaxFragment);O.length>0&&S.push(e.createRecord(A,{type:K.type,data:a.util.createBuffer(O)}))}for(var T=0;T<S.length&&!A.fail;++T){var M=S[T],Q=A.state.current.write;Q.update(A,M)&&A.records.push(M)}}},e.flush=function(A){for(var K=0;K<A.records.length;++K){var F=A.records[K];A.tlsData.putByte(F.type),A.tlsData.putByte(F.version.major),A.tlsData.putByte(F.version.minor),A.tlsData.putInt16(F.fragment.length()),A.tlsData.putBuffer(A.records[K].fragment)}return A.records=[],A.tlsDataReady(A)};var ye=function(A){switch(A){case!0:return!0;case a.pki.certificateError.bad_certificate:return e.Alert.Description.bad_certificate;case a.pki.certificateError.unsupported_certificate:return e.Alert.Description.unsupported_certificate;case a.pki.certificateError.certificate_revoked:return e.Alert.Description.certificate_revoked;case a.pki.certificateError.certificate_expired:return e.Alert.Description.certificate_expired;case a.pki.certificateError.certificate_unknown:return e.Alert.Description.certificate_unknown;case a.pki.certificateError.unknown_ca:return e.Alert.Description.unknown_ca;default:return e.Alert.Description.bad_certificate}},ke=function(A){switch(A){case!0:return!0;case e.Alert.Description.bad_certificate:return a.pki.certificateError.bad_certificate;case e.Alert.Description.unsupported_certificate:return a.pki.certificateError.unsupported_certificate;case e.Alert.Description.certificate_revoked:return a.pki.certificateError.certificate_revoked;case e.Alert.Description.certificate_expired:return a.pki.certificateError.certificate_expired;case e.Alert.Description.certificate_unknown:return a.pki.certificateError.certificate_unknown;case e.Alert.Description.unknown_ca:return a.pki.certificateError.unknown_ca;default:return a.pki.certificateError.bad_certificate}};e.verifyCertificateChain=function(A,K){try{var F={};for(var S in A.verifyOptions)F[S]=A.verifyOptions[S];F.verify=function(T,M,Q){var H=ye(T),q=A.verify(A,T,M,Q);if(q!==!0){if(typeof q=="object"&&!a.util.isArray(q)){var G=new Error("The application rejected the certificate.");throw G.send=!0,G.alert={level:e.Alert.Level.fatal,description:e.Alert.Description.bad_certificate},q.message&&(G.message=q.message),q.alert&&(G.alert.description=q.alert),G}q!==T&&(q=ke(q))}return q},a.pki.verifyCertificateChain(A.caStore,K,F)}catch(T){var O=T;(typeof O!="object"||a.util.isArray(O))&&(O={send:!0,alert:{level:e.Alert.Level.fatal,description:ye(T)}}),"send"in O||(O.send=!0),"alert"in O||(O.alert={level:e.Alert.Level.fatal,description:ye(O.error)}),A.error(A,O)}return!A.fail},e.createSessionCache=function(A,K){var F=null;if(A&&A.getSession&&A.setSession&&A.order)F=A;else{F={},F.cache=A||{},F.capacity=Math.max(K||100,1),F.order=[];for(var S in A)F.order.length<=K?F.order.push(S):delete A[S];F.getSession=function(O){var T=null,M=null;if(O?M=a.util.bytesToHex(O):F.order.length>0&&(M=F.order[0]),M!==null&&M in F.cache){T=F.cache[M],delete F.cache[M];for(var Q in F.order)if(F.order[Q]===M){F.order.splice(Q,1);break}}return T},F.setSession=function(O,T){if(F.order.length===F.capacity){var M=F.order.shift();delete F.cache[M]}var M=a.util.bytesToHex(O);F.order.push(M),F.cache[M]=T}}return F},e.createConnection=function(A){var K=null;A.caStore?a.util.isArray(A.caStore)?K=a.pki.createCaStore(A.caStore):K=A.caStore:K=a.pki.createCaStore();var F=A.cipherSuites||null;if(F===null){F=[];for(var S in e.CipherSuites)F.push(e.CipherSuites[S])}var O=A.server?e.ConnectionEnd.server:e.ConnectionEnd.client,T=A.sessionCache?e.createSessionCache(A.sessionCache):null,M={version:{major:e.Version.major,minor:e.Version.minor},entity:O,sessionId:A.sessionId,caStore:K,sessionCache:T,cipherSuites:F,connected:A.connected,virtualHost:A.virtualHost||null,verifyClient:A.verifyClient||!1,verify:A.verify||function(G,re,ue,X){return re},verifyOptions:A.verifyOptions||{},getCertificate:A.getCertificate||null,getPrivateKey:A.getPrivateKey||null,getSignature:A.getSignature||null,input:a.util.createBuffer(),tlsData:a.util.createBuffer(),data:a.util.createBuffer(),tlsDataReady:A.tlsDataReady,dataReady:A.dataReady,heartbeatReceived:A.heartbeatReceived,closed:A.closed,error:function(G,re){re.origin=re.origin||(G.entity===e.ConnectionEnd.client?"client":"server"),re.send&&(e.queue(G,e.createAlert(G,re.alert)),e.flush(G));var ue=re.fatal!==!1;ue&&(G.fail=!0),A.error(G,re),ue&&G.close(!1)},deflate:A.deflate||null,inflate:A.inflate||null};M.reset=function(G){M.version={major:e.Version.major,minor:e.Version.minor},M.record=null,M.session=null,M.peerCertificate=null,M.state={pending:null,current:null},M.expect=M.entity===e.ConnectionEnd.client?d:_,M.fragmented=null,M.records=[],M.open=!1,M.handshakes=0,M.handshaking=!1,M.isConnected=!1,M.fail=!(G||typeof G>"u"),M.input.clear(),M.tlsData.clear(),M.data.clear(),M.state.current=e.createConnectionState(M)},M.reset();var Q=function(G,re){var ue=re.type-e.ContentType.change_cipher_spec,X=k[G.entity][G.expect];ue in X?X[ue](G,re):e.handleUnexpected(G,re)},H=function(G){var re=0,ue=G.input,X=ue.length();if(X<5)re=5-X;else{G.record={type:ue.getByte(),version:{major:ue.getByte(),minor:ue.getByte()},length:ue.getInt16(),fragment:a.util.createBuffer(),ready:!1};var le=G.record.version.major===G.version.major;le&&G.session&&G.session.version&&(le=G.record.version.minor===G.version.minor),le||G.error(G,{message:"Incompatible TLS version.",send:!0,alert:{level:e.Alert.Level.fatal,description:e.Alert.Description.protocol_version}})}return re},q=function(G){var re=0,ue=G.input,X=ue.length();if(X<G.record.length)re=G.record.length-X;else{G.record.fragment.putBytes(ue.getBytes(G.record.length)),ue.compact();var le=G.state.current.read;le.update(G,G.record)&&(G.fragmented!==null&&(G.fragmented.type===G.record.type?(G.fragmented.fragment.putBuffer(G.record.fragment),G.record=G.fragmented):G.error(G,{message:"Invalid fragmented record.",send:!0,alert:{level:e.Alert.Level.fatal,description:e.Alert.Description.unexpected_message}})),G.record.ready=!0)}return re};return M.handshake=function(G){if(M.entity!==e.ConnectionEnd.client)M.error(M,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(M.handshaking)M.error(M,{message:"Handshake already in progress.",fatal:!1});else{M.fail&&!M.open&&M.handshakes===0&&(M.fail=!1),M.handshaking=!0,G=G||"";var re=null;G.length>0&&(M.sessionCache&&(re=M.sessionCache.getSession(G)),re===null&&(G="")),G.length===0&&M.sessionCache&&(re=M.sessionCache.getSession(),re!==null&&(G=re.id)),M.session={id:G,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:a.md.md5.create(),sha1:a.md.sha1.create()},re&&(M.version=re.version,M.session.sp=re.sp),M.session.sp.client_random=e.createRandom().getBytes(),M.open=!0,e.queue(M,e.createRecord(M,{type:e.ContentType.handshake,data:e.createClientHello(M)})),e.flush(M)}},M.process=function(G){var re=0;return G&&M.input.putBytes(G),M.fail||(M.record!==null&&M.record.ready&&M.record.fragment.isEmpty()&&(M.record=null),M.record===null&&(re=H(M)),!M.fail&&M.record!==null&&!M.record.ready&&(re=q(M)),!M.fail&&M.record!==null&&M.record.ready&&Q(M,M.record)),re},M.prepare=function(G){return e.queue(M,e.createRecord(M,{type:e.ContentType.application_data,data:a.util.createBuffer(G)})),e.flush(M)},M.prepareHeartbeatRequest=function(G,re){return G instanceof a.util.ByteBuffer&&(G=G.bytes()),typeof re>"u"&&(re=G.length),M.expectedHeartbeatPayload=G,e.queue(M,e.createRecord(M,{type:e.ContentType.heartbeat,data:e.createHeartbeat(e.HeartbeatMessageType.heartbeat_request,G,re)})),e.flush(M)},M.close=function(G){if(!M.fail&&M.sessionCache&&M.session){var re={id:M.session.id,version:M.session.version,sp:M.session.sp};re.sp.keys=null,M.sessionCache.setSession(re.id,re)}M.open&&(M.open=!1,M.input.clear(),(M.isConnected||M.handshaking)&&(M.isConnected=M.handshaking=!1,e.queue(M,e.createAlert(M,{level:e.Alert.Level.warning,description:e.Alert.Description.close_notify})),e.flush(M)),M.closed(M)),M.reset(G)},M},Ir=a.tls=a.tls||{};for(var me in e)typeof e[me]!="function"&&(a.tls[me]=e[me]);return a.tls.prf_tls1=t,a.tls.hmac_sha1=r,a.tls.createSessionCache=e.createSessionCache,a.tls.createConnection=e.createConnection,Ir}var Pi;function pa(){if(Pi)return nr.exports;Pi=1;var a=we();gt(),Rn();var t=nr.exports=a.tls;t.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(d){d.bulk_cipher_algorithm=t.BulkCipherAlgorithm.aes,d.cipher_type=t.CipherType.block,d.enc_key_length=16,d.block_length=16,d.fixed_iv_length=16,d.record_iv_length=16,d.mac_algorithm=t.MACAlgorithm.hmac_sha1,d.mac_length=20,d.mac_key_length=20},initConnectionState:r},t.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(d){d.bulk_cipher_algorithm=t.BulkCipherAlgorithm.aes,d.cipher_type=t.CipherType.block,d.enc_key_length=32,d.block_length=16,d.fixed_iv_length=16,d.record_iv_length=16,d.mac_algorithm=t.MACAlgorithm.hmac_sha1,d.mac_length=20,d.mac_key_length=20},initConnectionState:r};function r(d,u,x){var I=u.entity===a.tls.ConnectionEnd.client;d.read.cipherState={init:!1,cipher:a.cipher.createDecipher("AES-CBC",I?x.keys.server_write_key:x.keys.client_write_key),iv:I?x.keys.server_write_IV:x.keys.client_write_IV},d.write.cipherState={init:!1,cipher:a.cipher.createCipher("AES-CBC",I?x.keys.client_write_key:x.keys.server_write_key),iv:I?x.keys.client_write_IV:x.keys.server_write_IV},d.read.cipherFunction=s,d.write.cipherFunction=E,d.read.macLength=d.write.macLength=x.mac_length,d.read.macFunction=d.write.macFunction=t.hmac_sha1}function E(d,u){var x=!1,I=u.macFunction(u.macKey,u.sequenceNumber,d);d.fragment.putBytes(I),u.updateSequenceNumber();var m;d.version.minor===t.Versions.TLS_1_0.minor?m=u.cipherState.init?null:u.cipherState.iv:m=a.random.getBytesSync(16),u.cipherState.init=!0;var i=u.cipherState.cipher;return i.start({iv:m}),d.version.minor>=t.Versions.TLS_1_1.minor&&i.output.putBytes(m),i.update(d.fragment),i.finish(C)&&(d.fragment=i.output,d.length=d.fragment.length(),x=!0),x}function C(d,u,x){if(!x){var I=d-u.length()%d;u.fillWithByte(I-1,I)}return!0}function c(d,u,x){var I=!0;if(x){for(var m=u.length(),i=u.last(),p=m-1-i;p<m-1;++p)I=I&&u.at(p)==i;I&&u.truncate(i+1)}return I}function s(d,u){var x=!1,I;d.version.minor===t.Versions.TLS_1_0.minor?I=u.cipherState.init?null:u.cipherState.iv:I=d.fragment.getBytes(16),u.cipherState.init=!0;var m=u.cipherState.cipher;m.start({iv:I}),m.update(d.fragment),x=m.finish(c);var i=u.macLength,p=a.random.getBytesSync(i),g=m.output.length();g>=i?(d.fragment=m.output.getBytes(g-i),p=m.output.getBytes(i)):d.fragment=m.output.getBytes(),d.fragment=a.util.createBuffer(d.fragment),d.length=d.fragment.length();var v=u.macFunction(u.macKey,u.sequenceNumber,d);return u.updateSequenceNumber(),x=e(u.macKey,p,v)&&x,x}function e(d,u,x){var I=a.hmac.create();return I.start("SHA1",d),I.update(u),u=I.digest().getBytes(),I.start(null,null),I.update(x),x=I.digest().getBytes(),u===x}return nr.exports}var Br,Fi;function Nn(){if(Fi)return Br;Fi=1;var a=we();return Br=a.debug=a.debug||{},a.debug.storage={},a.debug.get=function(t,r){var E;return typeof t>"u"?E=a.debug.storage:t in a.debug.storage&&(typeof r>"u"?E=a.debug.storage[t]:E=a.debug.storage[t][r]),E},a.debug.set=function(t,r,E){t in a.debug.storage||(a.debug.storage[t]={}),a.debug.storage[t][r]=E},a.debug.clear=function(t,r){typeof t>"u"?a.debug.storage={}:t in a.debug.storage&&(typeof r>"u"?delete a.debug.storage[t]:delete a.debug.storage[t][r])},Br}var kr={exports:{}},Vi;function Dn(){if(Vi)return kr.exports;Vi=1;var a=we();ft(),Re();var t=kr.exports=a.sha512=a.sha512||{};a.md.sha512=a.md.algorithms.sha512=t;var r=a.sha384=a.sha512.sha384=a.sha512.sha384||{};r.create=function(){return t.create("SHA-384")},a.md.sha384=a.md.algorithms.sha384=r,a.sha512.sha256=a.sha512.sha256||{create:function(){return t.create("SHA-512/256")}},a.md["sha512/256"]=a.md.algorithms["sha512/256"]=a.sha512.sha256,a.sha512.sha224=a.sha512.sha224||{create:function(){return t.create("SHA-512/224")}},a.md["sha512/224"]=a.md.algorithms["sha512/224"]=a.sha512.sha224,t.create=function(u){if(C||e(),typeof u>"u"&&(u="SHA-512"),!(u in s))throw new Error("Invalid SHA-512 algorithm: "+u);for(var x=s[u],I=null,m=a.util.createBuffer(),i=new Array(80),p=0;p<80;++p)i[p]=new Array(2);var g=64;switch(u){case"SHA-384":g=48;break;case"SHA-512/256":g=32;break;case"SHA-512/224":g=28;break}var v={algorithm:u.replace("-","").toLowerCase(),blockLength:128,digestLength:g,messageLength:0,fullMessageLength:null,messageLengthSize:16};return v.start=function(){v.messageLength=0,v.fullMessageLength=v.messageLength128=[];for(var _=v.messageLengthSize/4,n=0;n<_;++n)v.fullMessageLength.push(0);m=a.util.createBuffer(),I=new Array(x.length);for(var n=0;n<x.length;++n)I[n]=x[n].slice(0);return v},v.start(),v.update=function(_,n){n==="utf8"&&(_=a.util.encodeUtf8(_));var y=_.length;v.messageLength+=y,y=[y/4294967296>>>0,y>>>0];for(var o=v.fullMessageLength.length-1;o>=0;--o)v.fullMessageLength[o]+=y[1],y[1]=y[0]+(v.fullMessageLength[o]/4294967296>>>0),v.fullMessageLength[o]=v.fullMessageLength[o]>>>0,y[0]=y[1]/4294967296>>>0;return m.putBytes(_),d(I,i,m),(m.read>2048||m.length()===0)&&m.compact(),v},v.digest=function(){var _=a.util.createBuffer();_.putBytes(m.bytes());var n=v.fullMessageLength[v.fullMessageLength.length-1]+v.messageLengthSize,y=n&v.blockLength-1;_.putBytes(E.substr(0,v.blockLength-y));for(var o,f,l=v.fullMessageLength[0]*8,b=0;b<v.fullMessageLength.length-1;++b)o=v.fullMessageLength[b+1]*8,f=o/4294967296>>>0,l+=f,_.putInt32(l>>>0),l=o>>>0;_.putInt32(l);for(var h=new Array(I.length),b=0;b<I.length;++b)h[b]=I[b].slice(0);d(h,i,_);var N=a.util.createBuffer(),R;u==="SHA-512"?R=h.length:u==="SHA-384"?R=h.length-2:R=h.length-4;for(var b=0;b<R;++b)N.putInt32(h[b][0]),(b!==R-1||u!=="SHA-512/224")&&N.putInt32(h[b][1]);return N},v};var E=null,C=!1,c=null,s=null;function e(){E="",E+=a.util.fillString("\0",128),c=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],s={},s["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],s["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],s["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],s["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],C=!0}function d(u,x,I){for(var m,i,p,g,v,_,n,y,o,f,l,b,h,N,R,L,D,z,k,Z,$,oe,fe,ae,ge,ee,J,xe,ne,ce,ye,ke,me,A,K,F=I.length();F>=128;){for(ne=0;ne<16;++ne)x[ne][0]=I.getInt32()>>>0,x[ne][1]=I.getInt32()>>>0;for(;ne<80;++ne)ke=x[ne-2],ce=ke[0],ye=ke[1],m=((ce>>>19|ye<<13)^(ye>>>29|ce<<3)^ce>>>6)>>>0,i=((ce<<13|ye>>>19)^(ye<<3|ce>>>29)^(ce<<26|ye>>>6))>>>0,A=x[ne-15],ce=A[0],ye=A[1],p=((ce>>>1|ye<<31)^(ce>>>8|ye<<24)^ce>>>7)>>>0,g=((ce<<31|ye>>>1)^(ce<<24|ye>>>8)^(ce<<25|ye>>>7))>>>0,me=x[ne-7],K=x[ne-16],ye=i+me[1]+g+K[1],x[ne][0]=m+me[0]+p+K[0]+(ye/4294967296>>>0)>>>0,x[ne][1]=ye>>>0;for(h=u[0][0],N=u[0][1],R=u[1][0],L=u[1][1],D=u[2][0],z=u[2][1],k=u[3][0],Z=u[3][1],$=u[4][0],oe=u[4][1],fe=u[5][0],ae=u[5][1],ge=u[6][0],ee=u[6][1],J=u[7][0],xe=u[7][1],ne=0;ne<80;++ne)n=(($>>>14|oe<<18)^($>>>18|oe<<14)^(oe>>>9|$<<23))>>>0,y=(($<<18|oe>>>14)^($<<14|oe>>>18)^(oe<<23|$>>>9))>>>0,o=(ge^$&(fe^ge))>>>0,f=(ee^oe&(ae^ee))>>>0,v=((h>>>28|N<<4)^(N>>>2|h<<30)^(N>>>7|h<<25))>>>0,_=((h<<4|N>>>28)^(N<<30|h>>>2)^(N<<25|h>>>7))>>>0,l=(h&R|D&(h^R))>>>0,b=(N&L|z&(N^L))>>>0,ye=xe+y+f+c[ne][1]+x[ne][1],m=J+n+o+c[ne][0]+x[ne][0]+(ye/4294967296>>>0)>>>0,i=ye>>>0,ye=_+b,p=v+l+(ye/4294967296>>>0)>>>0,g=ye>>>0,J=ge,xe=ee,ge=fe,ee=ae,fe=$,ae=oe,ye=Z+i,$=k+m+(ye/4294967296>>>0)>>>0,oe=ye>>>0,k=D,Z=z,D=R,z=L,R=h,L=N,ye=i+g,h=m+p+(ye/4294967296>>>0)>>>0,N=ye>>>0;ye=u[0][1]+N,u[0][0]=u[0][0]+h+(ye/4294967296>>>0)>>>0,u[0][1]=ye>>>0,ye=u[1][1]+L,u[1][0]=u[1][0]+R+(ye/4294967296>>>0)>>>0,u[1][1]=ye>>>0,ye=u[2][1]+z,u[2][0]=u[2][0]+D+(ye/4294967296>>>0)>>>0,u[2][1]=ye>>>0,ye=u[3][1]+Z,u[3][0]=u[3][0]+k+(ye/4294967296>>>0)>>>0,u[3][1]=ye>>>0,ye=u[4][1]+oe,u[4][0]=u[4][0]+$+(ye/4294967296>>>0)>>>0,u[4][1]=ye>>>0,ye=u[5][1]+ae,u[5][0]=u[5][0]+fe+(ye/4294967296>>>0)>>>0,u[5][1]=ye>>>0,ye=u[6][1]+ee,u[6][0]=u[6][0]+ge+(ye/4294967296>>>0)>>>0,u[6][1]=ye>>>0,ye=u[7][1]+xe,u[7][0]=u[7][0]+J+(ye/4294967296>>>0)>>>0,u[7][1]=ye>>>0,F-=128}}return kr.exports}var qt={},Mi;function ga(){if(Mi)return qt;Mi=1;var a=we();ut();var t=a.asn1;return qt.privateKeyValidator={name:"PrivateKeyInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},qt.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]},qt}var Rr,Ki;function ya(){if(Ki)return Rr;Ki=1;var a=we();Qt(),nt(),Dn(),Re();var t=ga(),r=t.publicKeyValidator,E=t.privateKeyValidator;if(typeof C>"u")var C=a.jsbn.BigInteger;var c=a.util.ByteBuffer,s=typeof Buffer>"u"?Uint8Array:Buffer;a.pki=a.pki||{},Rr=a.pki.ed25519=a.ed25519=a.ed25519||{};var e=a.ed25519;e.constants={},e.constants.PUBLIC_KEY_BYTE_LENGTH=32,e.constants.PRIVATE_KEY_BYTE_LENGTH=64,e.constants.SEED_BYTE_LENGTH=32,e.constants.SIGN_BYTE_LENGTH=64,e.constants.HASH_BYTE_LENGTH=64,e.generateKeyPair=function(A){A=A||{};var K=A.seed;if(K===void 0)K=a.random.getBytesSync(e.constants.SEED_BYTE_LENGTH);else if(typeof K=="string"){if(K.length!==e.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+e.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(K instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');K=d({message:K,encoding:"binary"});for(var F=new s(e.constants.PUBLIC_KEY_BYTE_LENGTH),S=new s(e.constants.PRIVATE_KEY_BYTE_LENGTH),O=0;O<32;++O)S[O]=K[O];return n(F,S),{publicKey:F,privateKey:S}},e.privateKeyFromAsn1=function(A){var K={},F=[],S=a.asn1.validate(A,E,K,F);if(!S){var O=new Error("Invalid Key.");throw O.errors=F,O}var T=a.asn1.derToOid(K.privateKeyOid),M=a.oids.EdDSA25519;if(T!==M)throw new Error('Invalid OID "'+T+'"; OID must be "'+M+'".');var Q=K.privateKey,H=d({message:a.asn1.fromDer(Q).value,encoding:"binary"});return{privateKeyBytes:H}},e.publicKeyFromAsn1=function(A){var K={},F=[],S=a.asn1.validate(A,r,K,F);if(!S){var O=new Error("Invalid Key.");throw O.errors=F,O}var T=a.asn1.derToOid(K.publicKeyOid),M=a.oids.EdDSA25519;if(T!==M)throw new Error('Invalid OID "'+T+'"; OID must be "'+M+'".');var Q=K.ed25519PublicKey;if(Q.length!==e.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return d({message:Q,encoding:"binary"})},e.publicKeyFromPrivateKey=function(A){A=A||{};var K=d({message:A.privateKey,encoding:"binary"});if(K.length!==e.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+e.constants.PRIVATE_KEY_BYTE_LENGTH);for(var F=new s(e.constants.PUBLIC_KEY_BYTE_LENGTH),S=0;S<F.length;++S)F[S]=K[32+S];return F},e.sign=function(A){A=A||{};var K=d(A),F=d({message:A.privateKey,encoding:"binary"});if(F.length===e.constants.SEED_BYTE_LENGTH){var S=e.generateKeyPair({seed:F});F=S.privateKey}else if(F.length!==e.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+e.constants.SEED_BYTE_LENGTH+" or "+e.constants.PRIVATE_KEY_BYTE_LENGTH);var O=new s(e.constants.SIGN_BYTE_LENGTH+K.length);y(O,K,K.length,F);for(var T=new s(e.constants.SIGN_BYTE_LENGTH),M=0;M<T.length;++M)T[M]=O[M];return T},e.verify=function(A){A=A||{};var K=d(A);if(A.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var F=d({message:A.signature,encoding:"binary"});if(F.length!==e.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+e.constants.SIGN_BYTE_LENGTH);var S=d({message:A.publicKey,encoding:"binary"});if(S.length!==e.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+e.constants.PUBLIC_KEY_BYTE_LENGTH);var O=new s(e.constants.SIGN_BYTE_LENGTH+K.length),T=new s(e.constants.SIGN_BYTE_LENGTH+K.length),M;for(M=0;M<e.constants.SIGN_BYTE_LENGTH;++M)O[M]=F[M];for(M=0;M<K.length;++M)O[M+e.constants.SIGN_BYTE_LENGTH]=K[M];return o(T,O,O.length,S)>=0};function d(A){var K=A.message;if(K instanceof Uint8Array||K instanceof s)return K;var F=A.encoding;if(K===void 0)if(A.md)K=A.md.digest().getBytes(),F="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof K=="string"&&!F)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof K=="string"){if(typeof Buffer<"u")return Buffer.from(K,F);K=new c(K,F)}else if(!(K instanceof c))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var S=new s(K.length()),O=0;O<S.length;++O)S[O]=K.at(O);return S}var u=ne(),x=ne([1]),I=ne([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),m=ne([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),i=ne([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),p=ne([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),g=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),v=ne([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function _(A,K){var F=a.md.sha512.create(),S=new c(A);F.update(S.getBytes(K),"binary");var O=F.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(O,"binary");for(var T=new s(e.constants.HASH_BYTE_LENGTH),M=0;M<64;++M)T[M]=O.charCodeAt(M);return T}function n(A,K){var F=[ne(),ne(),ne(),ne()],S,O=_(K,32);for(O[0]&=248,O[31]&=127,O[31]|=64,ae(F,O),N(A,F),S=0;S<32;++S)K[S+32]=A[S];return 0}function y(A,K,F,S){var O,T,M=new Float64Array(64),Q=[ne(),ne(),ne(),ne()],H=_(S,32);H[0]&=248,H[31]&=127,H[31]|=64;var q=F+64;for(O=0;O<F;++O)A[64+O]=K[O];for(O=0;O<32;++O)A[32+O]=H[32+O];var G=_(A.subarray(32),F+32);for(l(G),ae(Q,G),N(A,Q),O=32;O<64;++O)A[O]=S[O];var re=_(A,F+64);for(l(re),O=32;O<64;++O)M[O]=0;for(O=0;O<32;++O)M[O]=G[O];for(O=0;O<32;++O)for(T=0;T<32;T++)M[O+T]+=re[O]*H[T];return f(A.subarray(32),M),q}function o(A,K,F,S){var O,T,M=new s(32),Q=[ne(),ne(),ne(),ne()],H=[ne(),ne(),ne(),ne()];if(T=-1,F<64||L(H,S))return-1;for(O=0;O<F;++O)A[O]=K[O];for(O=0;O<32;++O)A[O+32]=S[O];var q=_(A,F);if(l(q),fe(Q,H,q),ae(H,K.subarray(32)),b(Q,H),N(M,Q),F-=64,Z(K,0,M,0)){for(O=0;O<F;++O)A[O]=0;return-1}for(O=0;O<F;++O)A[O]=K[O+64];return T=F,T}function f(A,K){var F,S,O,T;for(S=63;S>=32;--S){for(F=0,O=S-32,T=S-12;O<T;++O)K[O]+=F-16*K[S]*g[O-(S-32)],F=K[O]+128>>8,K[O]-=F*256;K[O]+=F,K[S]=0}for(F=0,O=0;O<32;++O)K[O]+=F-(K[31]>>4)*g[O],F=K[O]>>8,K[O]&=255;for(O=0;O<32;++O)K[O]-=F*g[O];for(S=0;S<32;++S)K[S+1]+=K[S]>>8,A[S]=K[S]&255}function l(A){for(var K=new Float64Array(64),F=0;F<64;++F)K[F]=A[F],A[F]=0;f(A,K)}function b(A,K){var F=ne(),S=ne(),O=ne(),T=ne(),M=ne(),Q=ne(),H=ne(),q=ne(),G=ne();ye(F,A[1],A[0]),ye(G,K[1],K[0]),me(F,F,G),ce(S,A[0],A[1]),ce(G,K[0],K[1]),me(S,S,G),me(O,A[3],K[3]),me(O,O,m),me(T,A[2],K[2]),ce(T,T,T),ye(M,S,F),ye(Q,T,O),ce(H,T,O),ce(q,S,F),me(A[0],M,Q),me(A[1],q,H),me(A[2],H,Q),me(A[3],M,q)}function h(A,K,F){for(var S=0;S<4;++S)xe(A[S],K[S],F)}function N(A,K){var F=ne(),S=ne(),O=ne();ee(O,K[2]),me(F,K[0],O),me(S,K[1],O),R(A,S),A[31]^=oe(F)<<7}function R(A,K){var F,S,O,T=ne(),M=ne();for(F=0;F<16;++F)M[F]=K[F];for(J(M),J(M),J(M),S=0;S<2;++S){for(T[0]=M[0]-65517,F=1;F<15;++F)T[F]=M[F]-65535-(T[F-1]>>16&1),T[F-1]&=65535;T[15]=M[15]-32767-(T[14]>>16&1),O=T[15]>>16&1,T[14]&=65535,xe(M,T,1-O)}for(F=0;F<16;F++)A[2*F]=M[F]&255,A[2*F+1]=M[F]>>8}function L(A,K){var F=ne(),S=ne(),O=ne(),T=ne(),M=ne(),Q=ne(),H=ne();return ge(A[2],x),D(A[1],K),ke(O,A[1]),me(T,O,I),ye(O,O,A[2]),ce(T,A[2],T),ke(M,T),ke(Q,M),me(H,Q,M),me(F,H,O),me(F,F,T),z(F,F),me(F,F,O),me(F,F,T),me(F,F,T),me(A[0],F,T),ke(S,A[0]),me(S,S,T),k(S,O)&&me(A[0],A[0],v),ke(S,A[0]),me(S,S,T),k(S,O)?-1:(oe(A[0])===K[31]>>7&&ye(A[0],u,A[0]),me(A[3],A[0],A[1]),0)}function D(A,K){var F;for(F=0;F<16;++F)A[F]=K[2*F]+(K[2*F+1]<<8);A[15]&=32767}function z(A,K){var F=ne(),S;for(S=0;S<16;++S)F[S]=K[S];for(S=250;S>=0;--S)ke(F,F),S!==1&&me(F,F,K);for(S=0;S<16;++S)A[S]=F[S]}function k(A,K){var F=new s(32),S=new s(32);return R(F,A),R(S,K),Z(F,0,S,0)}function Z(A,K,F,S){return $(A,K,F,S,32)}function $(A,K,F,S,O){var T,M=0;for(T=0;T<O;++T)M|=A[K+T]^F[S+T];return(1&M-1>>>8)-1}function oe(A){var K=new s(32);return R(K,A),K[0]&1}function fe(A,K,F){var S,O;for(ge(A[0],u),ge(A[1],x),ge(A[2],x),ge(A[3],u),O=255;O>=0;--O)S=F[O/8|0]>>(O&7)&1,h(A,K,S),b(K,A),b(A,A),h(A,K,S)}function ae(A,K){var F=[ne(),ne(),ne(),ne()];ge(F[0],i),ge(F[1],p),ge(F[2],x),me(F[3],i,p),fe(A,F,K)}function ge(A,K){var F;for(F=0;F<16;F++)A[F]=K[F]|0}function ee(A,K){var F=ne(),S;for(S=0;S<16;++S)F[S]=K[S];for(S=253;S>=0;--S)ke(F,F),S!==2&&S!==4&&me(F,F,K);for(S=0;S<16;++S)A[S]=F[S]}function J(A){var K,F,S=1;for(K=0;K<16;++K)F=A[K]+S+65535,S=Math.floor(F/65536),A[K]=F-S*65536;A[0]+=S-1+37*(S-1)}function xe(A,K,F){for(var S,O=~(F-1),T=0;T<16;++T)S=O&(A[T]^K[T]),A[T]^=S,K[T]^=S}function ne(A){var K,F=new Float64Array(16);if(A)for(K=0;K<A.length;++K)F[K]=A[K];return F}function ce(A,K,F){for(var S=0;S<16;++S)A[S]=K[S]+F[S]}function ye(A,K,F){for(var S=0;S<16;++S)A[S]=K[S]-F[S]}function ke(A,K){me(A,K,K)}function me(A,K,F){var S,O,T=0,M=0,Q=0,H=0,q=0,G=0,re=0,ue=0,X=0,le=0,ve=0,he=0,Ce=0,P=0,w=0,B=0,j=0,Y=0,ie=0,se=0,be=0,Ae=0,_e=0,Be=0,Ie=0,et=0,at=0,st=0,Xe=0,ot=0,Ft=0,Ue=F[0],Oe=F[1],Pe=F[2],Fe=F[3],Ve=F[4],Me=F[5],Ke=F[6],ze=F[7],qe=F[8],He=F[9],Ge=F[10],We=F[11],De=F[12],Le=F[13],je=F[14],Ze=F[15];S=K[0],T+=S*Ue,M+=S*Oe,Q+=S*Pe,H+=S*Fe,q+=S*Ve,G+=S*Me,re+=S*Ke,ue+=S*ze,X+=S*qe,le+=S*He,ve+=S*Ge,he+=S*We,Ce+=S*De,P+=S*Le,w+=S*je,B+=S*Ze,S=K[1],M+=S*Ue,Q+=S*Oe,H+=S*Pe,q+=S*Fe,G+=S*Ve,re+=S*Me,ue+=S*Ke,X+=S*ze,le+=S*qe,ve+=S*He,he+=S*Ge,Ce+=S*We,P+=S*De,w+=S*Le,B+=S*je,j+=S*Ze,S=K[2],Q+=S*Ue,H+=S*Oe,q+=S*Pe,G+=S*Fe,re+=S*Ve,ue+=S*Me,X+=S*Ke,le+=S*ze,ve+=S*qe,he+=S*He,Ce+=S*Ge,P+=S*We,w+=S*De,B+=S*Le,j+=S*je,Y+=S*Ze,S=K[3],H+=S*Ue,q+=S*Oe,G+=S*Pe,re+=S*Fe,ue+=S*Ve,X+=S*Me,le+=S*Ke,ve+=S*ze,he+=S*qe,Ce+=S*He,P+=S*Ge,w+=S*We,B+=S*De,j+=S*Le,Y+=S*je,ie+=S*Ze,S=K[4],q+=S*Ue,G+=S*Oe,re+=S*Pe,ue+=S*Fe,X+=S*Ve,le+=S*Me,ve+=S*Ke,he+=S*ze,Ce+=S*qe,P+=S*He,w+=S*Ge,B+=S*We,j+=S*De,Y+=S*Le,ie+=S*je,se+=S*Ze,S=K[5],G+=S*Ue,re+=S*Oe,ue+=S*Pe,X+=S*Fe,le+=S*Ve,ve+=S*Me,he+=S*Ke,Ce+=S*ze,P+=S*qe,w+=S*He,B+=S*Ge,j+=S*We,Y+=S*De,ie+=S*Le,se+=S*je,be+=S*Ze,S=K[6],re+=S*Ue,ue+=S*Oe,X+=S*Pe,le+=S*Fe,ve+=S*Ve,he+=S*Me,Ce+=S*Ke,P+=S*ze,w+=S*qe,B+=S*He,j+=S*Ge,Y+=S*We,ie+=S*De,se+=S*Le,be+=S*je,Ae+=S*Ze,S=K[7],ue+=S*Ue,X+=S*Oe,le+=S*Pe,ve+=S*Fe,he+=S*Ve,Ce+=S*Me,P+=S*Ke,w+=S*ze,B+=S*qe,j+=S*He,Y+=S*Ge,ie+=S*We,se+=S*De,be+=S*Le,Ae+=S*je,_e+=S*Ze,S=K[8],X+=S*Ue,le+=S*Oe,ve+=S*Pe,he+=S*Fe,Ce+=S*Ve,P+=S*Me,w+=S*Ke,B+=S*ze,j+=S*qe,Y+=S*He,ie+=S*Ge,se+=S*We,be+=S*De,Ae+=S*Le,_e+=S*je,Be+=S*Ze,S=K[9],le+=S*Ue,ve+=S*Oe,he+=S*Pe,Ce+=S*Fe,P+=S*Ve,w+=S*Me,B+=S*Ke,j+=S*ze,Y+=S*qe,ie+=S*He,se+=S*Ge,be+=S*We,Ae+=S*De,_e+=S*Le,Be+=S*je,Ie+=S*Ze,S=K[10],ve+=S*Ue,he+=S*Oe,Ce+=S*Pe,P+=S*Fe,w+=S*Ve,B+=S*Me,j+=S*Ke,Y+=S*ze,ie+=S*qe,se+=S*He,be+=S*Ge,Ae+=S*We,_e+=S*De,Be+=S*Le,Ie+=S*je,et+=S*Ze,S=K[11],he+=S*Ue,Ce+=S*Oe,P+=S*Pe,w+=S*Fe,B+=S*Ve,j+=S*Me,Y+=S*Ke,ie+=S*ze,se+=S*qe,be+=S*He,Ae+=S*Ge,_e+=S*We,Be+=S*De,Ie+=S*Le,et+=S*je,at+=S*Ze,S=K[12],Ce+=S*Ue,P+=S*Oe,w+=S*Pe,B+=S*Fe,j+=S*Ve,Y+=S*Me,ie+=S*Ke,se+=S*ze,be+=S*qe,Ae+=S*He,_e+=S*Ge,Be+=S*We,Ie+=S*De,et+=S*Le,at+=S*je,st+=S*Ze,S=K[13],P+=S*Ue,w+=S*Oe,B+=S*Pe,j+=S*Fe,Y+=S*Ve,ie+=S*Me,se+=S*Ke,be+=S*ze,Ae+=S*qe,_e+=S*He,Be+=S*Ge,Ie+=S*We,et+=S*De,at+=S*Le,st+=S*je,Xe+=S*Ze,S=K[14],w+=S*Ue,B+=S*Oe,j+=S*Pe,Y+=S*Fe,ie+=S*Ve,se+=S*Me,be+=S*Ke,Ae+=S*ze,_e+=S*qe,Be+=S*He,Ie+=S*Ge,et+=S*We,at+=S*De,st+=S*Le,Xe+=S*je,ot+=S*Ze,S=K[15],B+=S*Ue,j+=S*Oe,Y+=S*Pe,ie+=S*Fe,se+=S*Ve,be+=S*Me,Ae+=S*Ke,_e+=S*ze,Be+=S*qe,Ie+=S*He,et+=S*Ge,at+=S*We,st+=S*De,Xe+=S*Le,ot+=S*je,Ft+=S*Ze,T+=38*j,M+=38*Y,Q+=38*ie,H+=38*se,q+=38*be,G+=38*Ae,re+=38*_e,ue+=38*Be,X+=38*Ie,le+=38*et,ve+=38*at,he+=38*st,Ce+=38*Xe,P+=38*ot,w+=38*Ft,O=1,S=T+O+65535,O=Math.floor(S/65536),T=S-O*65536,S=M+O+65535,O=Math.floor(S/65536),M=S-O*65536,S=Q+O+65535,O=Math.floor(S/65536),Q=S-O*65536,S=H+O+65535,O=Math.floor(S/65536),H=S-O*65536,S=q+O+65535,O=Math.floor(S/65536),q=S-O*65536,S=G+O+65535,O=Math.floor(S/65536),G=S-O*65536,S=re+O+65535,O=Math.floor(S/65536),re=S-O*65536,S=ue+O+65535,O=Math.floor(S/65536),ue=S-O*65536,S=X+O+65535,O=Math.floor(S/65536),X=S-O*65536,S=le+O+65535,O=Math.floor(S/65536),le=S-O*65536,S=ve+O+65535,O=Math.floor(S/65536),ve=S-O*65536,S=he+O+65535,O=Math.floor(S/65536),he=S-O*65536,S=Ce+O+65535,O=Math.floor(S/65536),Ce=S-O*65536,S=P+O+65535,O=Math.floor(S/65536),P=S-O*65536,S=w+O+65535,O=Math.floor(S/65536),w=S-O*65536,S=B+O+65535,O=Math.floor(S/65536),B=S-O*65536,T+=O-1+37*(O-1),O=1,S=T+O+65535,O=Math.floor(S/65536),T=S-O*65536,S=M+O+65535,O=Math.floor(S/65536),M=S-O*65536,S=Q+O+65535,O=Math.floor(S/65536),Q=S-O*65536,S=H+O+65535,O=Math.floor(S/65536),H=S-O*65536,S=q+O+65535,O=Math.floor(S/65536),q=S-O*65536,S=G+O+65535,O=Math.floor(S/65536),G=S-O*65536,S=re+O+65535,O=Math.floor(S/65536),re=S-O*65536,S=ue+O+65535,O=Math.floor(S/65536),ue=S-O*65536,S=X+O+65535,O=Math.floor(S/65536),X=S-O*65536,S=le+O+65535,O=Math.floor(S/65536),le=S-O*65536,S=ve+O+65535,O=Math.floor(S/65536),ve=S-O*65536,S=he+O+65535,O=Math.floor(S/65536),he=S-O*65536,S=Ce+O+65535,O=Math.floor(S/65536),Ce=S-O*65536,S=P+O+65535,O=Math.floor(S/65536),P=S-O*65536,S=w+O+65535,O=Math.floor(S/65536),w=S-O*65536,S=B+O+65535,O=Math.floor(S/65536),B=S-O*65536,T+=O-1+37*(O-1),A[0]=T,A[1]=M,A[2]=Q,A[3]=H,A[4]=q,A[5]=G,A[6]=re,A[7]=ue,A[8]=X,A[9]=le,A[10]=ve,A[11]=he,A[12]=Ce,A[13]=P,A[14]=w,A[15]=B}return Rr}var Nr,zi;function va(){if(zi)return Nr;zi=1;var a=we();Re(),nt(),Qt(),Nr=a.kem=a.kem||{};var t=a.jsbn.BigInteger;a.kem.rsa={},a.kem.rsa.create=function(E,C){C=C||{};var c=C.prng||a.random,s={};return s.encrypt=function(e,d){var u=Math.ceil(e.n.bitLength()/8),x;do x=new t(a.util.bytesToHex(c.getBytesSync(u)),16).mod(e.n);while(x.compareTo(t.ONE)<=0);x=a.util.hexToBytes(x.toString(16));var I=u-x.length;I>0&&(x=a.util.fillString("\0",I)+x);var m=e.encrypt(x,"NONE"),i=E.generate(x,d);return{encapsulation:m,key:i}},s.decrypt=function(e,d,u){var x=e.decrypt(d,"NONE");return E.generate(x,u)},s},a.kem.kdf1=function(E,C){r(this,E,0,C||E.digestLength)},a.kem.kdf2=function(E,C){r(this,E,1,C||E.digestLength)};function r(E,C,c,s){E.generate=function(e,d){for(var u=new a.util.ByteBuffer,x=Math.ceil(d/s)+c,I=new a.util.ByteBuffer,m=c;m<x;++m){I.putInt32(m),C.start(),C.update(e+I.getBytes());var i=C.digest();u.putBytes(i.getBytes(s))}return u.truncate(u.length()-d),u.getBytes()}}return Nr}var Dr,qi;function Ln(){if(qi)return Dr;qi=1;var a=we();Re(),Dr=a.log=a.log||{},a.log.levels=["none","error","warning","info","debug","verbose","max"];var t={},r=[],E=null;a.log.LEVEL_LOCKED=2,a.log.NO_LEVEL_CHECK=4,a.log.INTERPOLATE=8;for(var C=0;C<a.log.levels.length;++C){var c=a.log.levels[C];t[c]={index:C,name:c.toUpperCase()}}a.log.logMessage=function(m){for(var i=t[m.level].index,p=0;p<r.length;++p){var g=r[p];if(g.flags&a.log.NO_LEVEL_CHECK)g.f(m);else{var v=t[g.level].index;i<=v&&g.f(g,m)}}},a.log.prepareStandard=function(m){"standard"in m||(m.standard=t[m.level].name+" ["+m.category+"] "+m.message)},a.log.prepareFull=function(m){if(!("full"in m)){var i=[m.message];i=i.concat([]),m.full=a.util.format.apply(this,i)}},a.log.prepareStandardFull=function(m){"standardFull"in m||(a.log.prepareStandard(m),m.standardFull=m.standard)};for(var s=["error","warning","info","debug","verbose"],C=0;C<s.length;++C)(function(i){a.log[i]=function(p,g){var v=Array.prototype.slice.call(arguments).slice(2),_={timestamp:new Date,level:i,category:p,message:g,arguments:v};a.log.logMessage(_)}})(s[C]);if(a.log.makeLogger=function(m){var i={flags:0,f:m};return a.log.setLevel(i,"none"),i},a.log.setLevel=function(m,i){var p=!1;if(m&&!(m.flags&a.log.LEVEL_LOCKED))for(var g=0;g<a.log.levels.length;++g){var v=a.log.levels[g];if(i==v){m.level=i,p=!0;break}}return p},a.log.lock=function(m,i){typeof i>"u"||i?m.flags|=a.log.LEVEL_LOCKED:m.flags&=~a.log.LEVEL_LOCKED},a.log.addLogger=function(m){r.push(m)},typeof console<"u"&&"log"in console){var e;if(console.error&&console.warn&&console.info&&console.debug){var d={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},u=function(m,i){a.log.prepareStandard(i);var p=d[i.level],g=[i.standard];g=g.concat(i.arguments.slice()),p.apply(console,g)};e=a.log.makeLogger(u)}else{var u=function(i,p){a.log.prepareStandardFull(p),console.log(p.standardFull)};e=a.log.makeLogger(u)}a.log.setLevel(e,"debug"),a.log.addLogger(e),E=e}else console={log:function(){}};if(E!==null){var x=a.util.getQueryVariables();if("console.level"in x&&a.log.setLevel(E,x["console.level"].slice(-1)[0]),"console.lock"in x){var I=x["console.lock"].slice(-1)[0];I=="true"&&a.log.lock(E)}}return a.log.consoleLogger=E,Dr}var Lr,Hi;function ma(){return Hi||(Hi=1,Lr=ft(),Wr(),Pt(),En(),Dn()),Lr}var Ur={exports:{}},Gi;function xa(){if(Gi)return Ur.exports;Gi=1;var a=we();gt(),ut(),Zt(),yt(),St(),An(),nt(),Re(),Yr();var t=a.asn1,r=Ur.exports=a.pkcs7=a.pkcs7||{};r.messageFromPem=function(i){var p=a.pem.decode(i)[0];if(p.type!=="PKCS7"){var g=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw g.headerType=p.type,g}if(p.procType&&p.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var v=t.fromDer(p.body);return r.messageFromAsn1(v)},r.messageToPem=function(i,p){var g={type:"PKCS7",body:t.toDer(i.toAsn1()).getBytes()};return a.pem.encode(g,{maxline:p})},r.messageFromAsn1=function(i){var p={},g=[];if(!t.validate(i,r.asn1.contentInfoValidator,p,g)){var v=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw v.errors=g,v}var _=t.derToOid(p.contentType),n;switch(_){case a.pki.oids.envelopedData:n=r.createEnvelopedData();break;case a.pki.oids.encryptedData:n=r.createEncryptedData();break;case a.pki.oids.signedData:n=r.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+_+" is not (yet) supported.")}return n.fromAsn1(p.content.value[0]),n},r.createSignedData=function(){var i=null;return i={type:a.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(v){if(I(i,v,r.asn1.signedDataValidator),i.certificates=[],i.crls=[],i.digestAlgorithmIdentifiers=[],i.contentInfo=null,i.signerInfos=[],i.rawCapture.certificates)for(var _=i.rawCapture.certificates.value,n=0;n<_.length;++n)i.certificates.push(a.pki.certificateFromAsn1(_[n]))},toAsn1:function(){i.contentInfo||i.sign();for(var v=[],_=0;_<i.certificates.length;++_)v.push(a.pki.certificateToAsn1(i.certificates[_]));var n=[],y=t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(i.version).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,i.digestAlgorithmIdentifiers),i.contentInfo])]);return v.length>0&&y.value[0].value.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!0,v)),n.length>0&&y.value[0].value.push(t.create(t.Class.CONTEXT_SPECIFIC,1,!0,n)),y.value[0].value.push(t.create(t.Class.UNIVERSAL,t.Type.SET,!0,i.signerInfos)),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(i.type).getBytes()),y])},addSigner:function(v){var _=v.issuer,n=v.serialNumber;if(v.certificate){var y=v.certificate;typeof y=="string"&&(y=a.pki.certificateFromPem(y)),_=y.issuer.attributes,n=y.serialNumber}var o=v.key;if(!o)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof o=="string"&&(o=a.pki.privateKeyFromPem(o));var f=v.digestAlgorithm||a.pki.oids.sha1;switch(f){case a.pki.oids.sha1:case a.pki.oids.sha256:case a.pki.oids.sha384:case a.pki.oids.sha512:case a.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+f)}var l=v.authenticatedAttributes||[];if(l.length>0){for(var b=!1,h=!1,N=0;N<l.length;++N){var R=l[N];if(!b&&R.type===a.pki.oids.contentType){if(b=!0,h)break;continue}if(!h&&R.type===a.pki.oids.messageDigest){if(h=!0,b)break;continue}}if(!b||!h)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}i.signers.push({key:o,version:1,issuer:_,serialNumber:n,digestAlgorithm:f,signatureAlgorithm:a.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:l,unauthenticatedAttributes:[]})},sign:function(v){if(v=v||{},(typeof i.content!="object"||i.contentInfo===null)&&(i.contentInfo=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(a.pki.oids.data).getBytes())]),"content"in i)){var _;i.content instanceof a.util.ByteBuffer?_=i.content.bytes():typeof i.content=="string"&&(_=a.util.encodeUtf8(i.content)),v.detached?i.detachedContent=t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,_):i.contentInfo.value.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,_)]))}if(i.signers.length!==0){var n=p();g(n)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(v){typeof v=="string"&&(v=a.pki.certificateFromPem(v)),i.certificates.push(v)},addCertificateRevokationList:function(v){throw new Error("PKCS#7 CRL support not yet implemented.")}},i;function p(){for(var v={},_=0;_<i.signers.length;++_){var n=i.signers[_],y=n.digestAlgorithm;y in v||(v[y]=a.md[a.pki.oids[y]].create()),n.authenticatedAttributes.length===0?n.md=v[y]:n.md=a.md[a.pki.oids[y]].create()}i.digestAlgorithmIdentifiers=[];for(var y in v)i.digestAlgorithmIdentifiers.push(t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(y).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")]));return v}function g(v){var _;if(i.detachedContent?_=i.detachedContent:(_=i.contentInfo.value[1],_=_.value[0]),!_)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var n=t.derToOid(i.contentInfo.value[0].value),y=t.toDer(_);y.getByte(),t.getBerValueLength(y),y=y.getBytes();for(var o in v)v[o].start().update(y);for(var f=new Date,l=0;l<i.signers.length;++l){var b=i.signers[l];if(b.authenticatedAttributes.length===0){if(n!==a.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{b.authenticatedAttributesAsn1=t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var h=t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[]),N=0;N<b.authenticatedAttributes.length;++N){var R=b.authenticatedAttributes[N];R.type===a.pki.oids.messageDigest?R.value=v[b.digestAlgorithm].digest():R.type===a.pki.oids.signingTime&&(R.value||(R.value=f)),h.value.push(u(R)),b.authenticatedAttributesAsn1.value.push(u(R))}y=t.toDer(h).getBytes(),b.md.start().update(y)}b.signature=b.key.sign(b.md,"RSASSA-PKCS1-V1_5")}i.signerInfos=d(i.signers)}},r.createEncryptedData=function(){var i=null;return i={type:a.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:a.pki.oids["aes256-CBC"]},fromAsn1:function(p){I(i,p,r.asn1.encryptedDataValidator)},decrypt:function(p){p!==void 0&&(i.encryptedContent.key=p),m(i)}},i},r.createEnvelopedData=function(){var i=null;return i={type:a.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:a.pki.oids["aes256-CBC"]},fromAsn1:function(p){var g=I(i,p,r.asn1.envelopedDataValidator);i.recipients=c(g.recipientInfos.value)},toAsn1:function(){return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(i.type).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(i.version).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,s(i.recipients)),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,x(i.encryptedContent))])])])},findRecipient:function(p){for(var g=p.issuer.attributes,v=0;v<i.recipients.length;++v){var _=i.recipients[v],n=_.issuer;if(_.serialNumber===p.serialNumber&&n.length===g.length){for(var y=!0,o=0;o<g.length;++o)if(n[o].type!==g[o].type||n[o].value!==g[o].value){y=!1;break}if(y)return _}}return null},decrypt:function(p,g){if(i.encryptedContent.key===void 0&&p!==void 0&&g!==void 0)switch(p.encryptedContent.algorithm){case a.pki.oids.rsaEncryption:case a.pki.oids.desCBC:var v=g.decrypt(p.encryptedContent.content);i.encryptedContent.key=a.util.createBuffer(v);break;default:throw new Error("Unsupported asymmetric cipher, OID "+p.encryptedContent.algorithm)}m(i)},addRecipient:function(p){i.recipients.push({version:0,issuer:p.issuer.attributes,serialNumber:p.serialNumber,encryptedContent:{algorithm:a.pki.oids.rsaEncryption,key:p.publicKey}})},encrypt:function(p,g){if(i.encryptedContent.content===void 0){g=g||i.encryptedContent.algorithm,p=p||i.encryptedContent.key;var v,_,n;switch(g){case a.pki.oids["aes128-CBC"]:v=16,_=16,n=a.aes.createEncryptionCipher;break;case a.pki.oids["aes192-CBC"]:v=24,_=16,n=a.aes.createEncryptionCipher;break;case a.pki.oids["aes256-CBC"]:v=32,_=16,n=a.aes.createEncryptionCipher;break;case a.pki.oids["des-EDE3-CBC"]:v=24,_=8,n=a.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+g)}if(p===void 0)p=a.util.createBuffer(a.random.getBytes(v));else if(p.length()!=v)throw new Error("Symmetric key has wrong length; got "+p.length()+" bytes, expected "+v+".");i.encryptedContent.algorithm=g,i.encryptedContent.key=p,i.encryptedContent.parameter=a.util.createBuffer(a.random.getBytes(_));var y=n(p);if(y.start(i.encryptedContent.parameter.copy()),y.update(i.content),!y.finish())throw new Error("Symmetric encryption failed.");i.encryptedContent.content=y.output}for(var o=0;o<i.recipients.length;++o){var f=i.recipients[o];if(f.encryptedContent.content===void 0)switch(f.encryptedContent.algorithm){case a.pki.oids.rsaEncryption:f.encryptedContent.content=f.encryptedContent.key.encrypt(i.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+f.encryptedContent.algorithm)}}}},i};function E(i){var p={},g=[];if(!t.validate(i,r.asn1.recipientInfoValidator,p,g)){var v=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw v.errors=g,v}return{version:p.version.charCodeAt(0),issuer:a.pki.RDNAttributesAsArray(p.issuer),serialNumber:a.util.createBuffer(p.serial).toHex(),encryptedContent:{algorithm:t.derToOid(p.encAlgorithm),parameter:p.encParameter.value,content:p.encKey}}}function C(i){return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(i.version).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[a.pki.distinguishedNameToAsn1({attributes:i.issuer}),t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,a.util.hexToBytes(i.serialNumber))]),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(i.encryptedContent.algorithm).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")]),t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,i.encryptedContent.content)])}function c(i){for(var p=[],g=0;g<i.length;++g)p.push(E(i[g]));return p}function s(i){for(var p=[],g=0;g<i.length;++g)p.push(C(i[g]));return p}function e(i){var p=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(i.version).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[a.pki.distinguishedNameToAsn1({attributes:i.issuer}),t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,a.util.hexToBytes(i.serialNumber))]),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(i.digestAlgorithm).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")])]);if(i.authenticatedAttributesAsn1&&p.value.push(i.authenticatedAttributesAsn1),p.value.push(t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(i.signatureAlgorithm).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")])),p.value.push(t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,i.signature)),i.unauthenticatedAttributes.length>0){for(var g=t.create(t.Class.CONTEXT_SPECIFIC,1,!0,[]),v=0;v<i.unauthenticatedAttributes.length;++v){var _=i.unauthenticatedAttributes[v];g.values.push(u(_))}p.value.push(g)}return p}function d(i){for(var p=[],g=0;g<i.length;++g)p.push(e(i[g]));return p}function u(i){var p;if(i.type===a.pki.oids.contentType)p=t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(i.value).getBytes());else if(i.type===a.pki.oids.messageDigest)p=t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,i.value.bytes());else if(i.type===a.pki.oids.signingTime){var g=new Date("1950-01-01T00:00:00Z"),v=new Date("2050-01-01T00:00:00Z"),_=i.value;if(typeof _=="string"){var n=Date.parse(_);isNaN(n)?_.length===13?_=t.utcTimeToDate(_):_=t.generalizedTimeToDate(_):_=new Date(n)}_>=g&&_<v?p=t.create(t.Class.UNIVERSAL,t.Type.UTCTIME,!1,t.dateToUtcTime(_)):p=t.create(t.Class.UNIVERSAL,t.Type.GENERALIZEDTIME,!1,t.dateToGeneralizedTime(_))}return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(i.type).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[p])])}function x(i){return[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(a.pki.oids.data).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(i.algorithm).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,i.parameter.getBytes())]),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,i.content.getBytes())])]}function I(i,p,g){var v={},_=[];if(!t.validate(p,g,v,_)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw n.errors=n,n}var y=t.derToOid(v.contentType);if(y!==a.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(v.encryptedContent){var o="";if(a.util.isArray(v.encryptedContent))for(var f=0;f<v.encryptedContent.length;++f){if(v.encryptedContent[f].type!==t.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");o+=v.encryptedContent[f].value}else o=v.encryptedContent;i.encryptedContent={algorithm:t.derToOid(v.encAlgorithm),parameter:a.util.createBuffer(v.encParameter.value),content:a.util.createBuffer(o)}}if(v.content){var o="";if(a.util.isArray(v.content))for(var f=0;f<v.content.length;++f){if(v.content[f].type!==t.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");o+=v.content[f].value}else o=v.content;i.content=a.util.createBuffer(o)}return i.version=v.version.charCodeAt(0),i.rawCapture=v,v}function m(i){if(i.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(i.content===void 0){var p;switch(i.encryptedContent.algorithm){case a.pki.oids["aes128-CBC"]:case a.pki.oids["aes192-CBC"]:case a.pki.oids["aes256-CBC"]:p=a.aes.createDecryptionCipher(i.encryptedContent.key);break;case a.pki.oids.desCBC:case a.pki.oids["des-EDE3-CBC"]:p=a.des.createDecryptionCipher(i.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+i.encryptedContent.algorithm)}if(p.start(i.encryptedContent.parameter),p.update(i.encryptedContent.content),!p.finish())throw new Error("Symmetric decryption failed.");i.content=p.output}}return Ur.exports}var Or={exports:{}},Wi;function Ca(){if(Wi)return Or.exports;Wi=1;var a=we();gt(),Ot(),Wr(),Pt(),Re();var t=Or.exports=a.ssh=a.ssh||{};t.privateKeyToPutty=function(c,s,e){e=e||"",s=s||"";var d="ssh-rsa",u=s===""?"none":"aes256-cbc",x="PuTTY-User-Key-File-2: "+d+`\r
`;x+="Encryption: "+u+`\r
`,x+="Comment: "+e+`\r
`;var I=a.util.createBuffer();E(I,d),r(I,c.e),r(I,c.n);var m=a.util.encode64(I.bytes(),64),i=Math.floor(m.length/66)+1;x+="Public-Lines: "+i+`\r
`,x+=m;var p=a.util.createBuffer();r(p,c.d),r(p,c.p),r(p,c.q),r(p,c.qInv);var g;if(!s)g=a.util.encode64(p.bytes(),64);else{var v=p.length()+16-1;v-=v%16;var _=C(p.bytes());_.truncate(_.length()-v+p.length()),p.putBuffer(_);var n=a.util.createBuffer();n.putBuffer(C("\0\0\0\0",s)),n.putBuffer(C("\0\0\0",s));var y=a.aes.createEncryptionCipher(n.truncate(8),"CBC");y.start(a.util.createBuffer().fillWithByte(0,16)),y.update(p.copy()),y.finish();var o=y.output;o.truncate(16),g=a.util.encode64(o.bytes(),64)}i=Math.floor(g.length/66)+1,x+=`\r
Private-Lines: `+i+`\r
`,x+=g;var f=C("putty-private-key-file-mac-key",s),l=a.util.createBuffer();E(l,d),E(l,u),E(l,e),l.putInt32(I.length()),l.putBuffer(I),l.putInt32(p.length()),l.putBuffer(p);var b=a.hmac.create();return b.start("sha1",f),b.update(l.bytes()),x+=`\r
Private-MAC: `+b.digest().toHex()+`\r
`,x},t.publicKeyToOpenSSH=function(c,s){var e="ssh-rsa";s=s||"";var d=a.util.createBuffer();return E(d,e),r(d,c.e),r(d,c.n),e+" "+a.util.encode64(d.bytes())+" "+s},t.privateKeyToOpenSSH=function(c,s){return s?a.pki.encryptRsaPrivateKey(c,s,{legacy:!0,algorithm:"aes128"}):a.pki.privateKeyToPem(c)},t.getPublicKeyFingerprint=function(c,s){s=s||{};var e=s.md||a.md.md5.create(),d="ssh-rsa",u=a.util.createBuffer();E(u,d),r(u,c.e),r(u,c.n),e.start(),e.update(u.getBytes());var x=e.digest();if(s.encoding==="hex"){var I=x.toHex();return s.delimiter?I.match(/.{2}/g).join(s.delimiter):I}else{if(s.encoding==="binary")return x.getBytes();if(s.encoding)throw new Error('Unknown encoding "'+s.encoding+'".')}return x};function r(c,s){var e=s.toString(16);e[0]>="8"&&(e="00"+e);var d=a.util.hexToBytes(e);c.putInt32(d.length),c.putBytes(d)}function E(c,s){c.putInt32(s.length),c.putString(s)}function C(){for(var c=a.md.sha1.create(),s=arguments.length,e=0;e<s;++e)c.update(arguments[e]);return c.digest()}return Or.exports}var Pr,ji;function Ea(){if(ji)return Pr;ji=1;var a=we();Nn(),Ln(),Re();var t="forge.task",r={},E=0;a.debug.set(t,"tasks",r);var C={};a.debug.set(t,"queues",C);var c="?",s=30,e=20,d="ready",u="running",x="blocked",I="sleeping",m="done",i="error",p="stop",g="start",v="block",_="unblock",n="sleep",y="wakeup",o="cancel",f="fail",l={};l[d]={},l[d][p]=d,l[d][g]=u,l[d][o]=m,l[d][f]=i,l[u]={},l[u][p]=d,l[u][g]=u,l[u][v]=x,l[u][_]=u,l[u][n]=I,l[u][y]=u,l[u][o]=m,l[u][f]=i,l[x]={},l[x][p]=x,l[x][g]=x,l[x][v]=x,l[x][_]=x,l[x][n]=x,l[x][y]=x,l[x][o]=m,l[x][f]=i,l[I]={},l[I][p]=I,l[I][g]=I,l[I][v]=I,l[I][_]=I,l[I][n]=I,l[I][y]=I,l[I][o]=m,l[I][f]=i,l[m]={},l[m][p]=m,l[m][g]=m,l[m][v]=m,l[m][_]=m,l[m][n]=m,l[m][y]=m,l[m][o]=m,l[m][f]=i,l[i]={},l[i][p]=i,l[i][g]=i,l[i][v]=i,l[i][_]=i,l[i][n]=i,l[i][y]=i,l[i][o]=i,l[i][f]=i;var b=function(L){this.id=-1,this.name=L.name||c,this.parent=L.parent||null,this.run=L.run,this.subtasks=[],this.error=!1,this.state=d,this.blocks=0,this.timeoutId=null,this.swapTime=null,this.userData=null,this.id=E++,r[this.id]=this};b.prototype.debug=function(L){L=L||"",a.log.debug(t,L,"[%s][%s] task:",this.id,this.name,this,"subtasks:",this.subtasks.length,"queue:",C)},b.prototype.next=function(L,D){typeof L=="function"&&(D=L,L=this.name);var z=new b({run:D,name:L,parent:this});return z.state=u,z.type=this.type,z.successCallback=this.successCallback||null,z.failureCallback=this.failureCallback||null,this.subtasks.push(z),this},b.prototype.parallel=function(L,D){return a.util.isArray(L)&&(D=L,L=this.name),this.next(L,function(z){var k=z;k.block(D.length);for(var Z=function(ae,ge){a.task.start({type:ae,run:function(ee){D[ge](ee)},success:function(ee){k.unblock()},failure:function(ee){k.unblock()}})},$=0;$<D.length;$++){var oe=L+"__parallel-"+z.id+"-"+$,fe=$;Z(oe,fe)}})},b.prototype.stop=function(){this.state=l[this.state][p]},b.prototype.start=function(){this.error=!1,this.state=l[this.state][g],this.state===u&&(this.start=new Date,this.run(this),N(this,0))},b.prototype.block=function(L){L=typeof L>"u"?1:L,this.blocks+=L,this.blocks>0&&(this.state=l[this.state][v])},b.prototype.unblock=function(L){return L=typeof L>"u"?1:L,this.blocks-=L,this.blocks===0&&this.state!==m&&(this.state=u,N(this,0)),this.blocks},b.prototype.sleep=function(L){L=typeof L>"u"?0:L,this.state=l[this.state][n];var D=this;this.timeoutId=setTimeout(function(){D.timeoutId=null,D.state=u,N(D,0)},L)},b.prototype.wait=function(L){L.wait(this)},b.prototype.wakeup=function(){this.state===I&&(cancelTimeout(this.timeoutId),this.timeoutId=null,this.state=u,N(this,0))},b.prototype.cancel=function(){this.state=l[this.state][o],this.permitsNeeded=0,this.timeoutId!==null&&(cancelTimeout(this.timeoutId),this.timeoutId=null),this.subtasks=[]},b.prototype.fail=function(L){if(this.error=!0,R(this,!0),L)L.error=this.error,L.swapTime=this.swapTime,L.userData=this.userData,N(L,0);else{if(this.parent!==null){for(var D=this.parent;D.parent!==null;)D.error=this.error,D.swapTime=this.swapTime,D.userData=this.userData,D=D.parent;R(D,!0)}this.failureCallback&&this.failureCallback(this)}};var h=function(L){L.error=!1,L.state=l[L.state][g],setTimeout(function(){L.state===u&&(L.swapTime=+new Date,L.run(L),N(L,0))},0)},N=function(L,D){var z=D>s||+new Date-L.swapTime>e,k=function(Z){if(Z++,L.state===u)if(z&&(L.swapTime=+new Date),L.subtasks.length>0){var $=L.subtasks.shift();$.error=L.error,$.swapTime=L.swapTime,$.userData=L.userData,$.run($),$.error||N($,Z)}else R(L),L.error||L.parent!==null&&(L.parent.error=L.error,L.parent.swapTime=L.swapTime,L.parent.userData=L.userData,N(L.parent,Z))};z?setTimeout(k,0):k(D)},R=function(L,D){L.state=m,delete r[L.id],L.parent===null&&(L.type in C?C[L.type].length===0?a.log.error(t,"[%s][%s] task queue empty [%s]",L.id,L.name,L.type):C[L.type][0]!==L?a.log.error(t,"[%s][%s] task not first in queue [%s]",L.id,L.name,L.type):(C[L.type].shift(),C[L.type].length===0?delete C[L.type]:C[L.type][0].start()):a.log.error(t,"[%s][%s] task queue missing [%s]",L.id,L.name,L.type),D||(L.error&&L.failureCallback?L.failureCallback(L):!L.error&&L.successCallback&&L.successCallback(L)))};return Pr=a.task=a.task||{},a.task.start=function(L){var D=new b({run:L.run,name:L.name||c});D.type=L.type,D.successCallback=L.success||null,D.failureCallback=L.failure||null,D.type in C?C[L.type].push(D):(C[D.type]=[D],h(D))},a.task.cancel=function(L){L in C&&(C[L]=[C[L][0]])},a.task.createCondition=function(){var L={tasks:{}};return L.wait=function(D){D.id in L.tasks||(D.block(),L.tasks[D.id]=D)},L.notify=function(){var D=L.tasks;L.tasks={};for(var z in D)D[z].unblock()},L},Pr}var Fr,Zi;function Xr(){return Zi||(Zi=1,Fr=we(),gt(),pa(),ut(),Gr(),Nn(),Zt(),ya(),Ot(),va(),Ln(),ma(),In(),Zr(),St(),_n(),Bn(),xa(),kn(),Tn(),Sn(),Qr(),nt(),bn(),Ca(),Ea(),Rn(),Re()),Fr}var Qi;function Yi(){if(Qi)return pt;Qi=1;var a=Te&&Te.__awaiter||function(d,u,x,I){function m(i){return i instanceof x?i:new x(function(p){p(i)})}return new(x||(x=Promise))(function(i,p){function g(n){try{_(I.next(n))}catch(y){p(y)}}function v(n){try{_(I.throw(n))}catch(y){p(y)}}function _(n){n.done?i(n.value):m(n.value).then(g,v)}_((I=I.apply(d,u||[])).next())})};Object.defineProperty(pt,"__esModule",{value:!0}),pt.SignString=pt.generateX509=void 0;const t=Xr(),r=Je;function E(d,u,x="android"){return a(this,void 0,void 0,function*(){const I=yield t.pki.rsa.generateKeyPair({bits:2048,workers:2});let m=t.pki.createCertificate();m.serialNumber=C(),m.validity.notBefore=new Date,m.validity.notAfter=new Date,m.validity.notAfter.setFullYear(m.validity.notBefore.getFullYear()+25);const i=[{shortName:"CN",value:d.commonName},{shortName:"OU",value:d.organizationUnit},{shortName:"O",value:d.organizationName},{shortName:"C",value:d.countryCode}];m.setSubject(i),m.setIssuer(i),m.publicKey=I.publicKey,m.privateKey=I.privateKey;const p=t.md.sha256.create();m.sign(I.privateKey,p),t.pki.certificateToPem(m);const g=t.pkcs12.toPkcs12Asn1(I.privateKey,[m],u,{algorithm:"aes256",friendlyName:x,generateLocalKeyId:!0}),v=t.asn1.toDer(g).getBytes();return"data:application/x-pkcs12;base64,"+t.util.encode64(v)})}pt.generateX509=E;function C(){return"00"+t.util.bytesToHex(t.random.getBytesSync(19))}function c(d,u,x,I){const m=t.asn1.fromDer(u),i=t.pkcs12.pkcs12FromAsn1(m,x);let p=i.getBags({friendlyName:I,bagType:t.pki.oids.certBag});const g=s(p.friendlyName);p=i.getBags({friendlyName:I,bagType:t.pki.oids.pkcs8ShroudedKeyBag});const v=e(p.friendlyName);var _=t.pkcs7.createSignedData();_.content=t.util.createBuffer(d,"utf8"),_.addCertificate(g),_.addSigner({key:v,certificate:g,digestAlgorithm:t.pki.oids.sha256}),_.sign({detached:!0});const n=_.toAsn1(),y=t.asn1.toDer(n).bytes();return t.util.encode64(y)}pt.SignString=c;function s(d){if(d&&d[0].cert)return d[0].cert;throw new r.KeyGenerationError("could not locate certificate from pkcs12 keystore")}function e(d){if(d&&d[0].key)return d[0].key;throw new r.KeyGenerationError("could not locate key from pkcs12 keystore")}return pt}var bt={},_t={},Tt={},Vr={},wt={},Xi;function Sa(){if(Xi)return wt;Xi=1,wt.byteLength=e,wt.toByteArray=u,wt.fromByteArray=m;for(var a=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=0,c=E.length;C<c;++C)a[C]=E[C],t[E.charCodeAt(C)]=C;t[45]=62,t[95]=63;function s(i){var p=i.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=i.indexOf("=");g===-1&&(g=p);var v=g===p?0:4-g%4;return[g,v]}function e(i){var p=s(i),g=p[0],v=p[1];return(g+v)*3/4-v}function d(i,p,g){return(p+g)*3/4-g}function u(i){var p,g=s(i),v=g[0],_=g[1],n=new r(d(i,v,_)),y=0,o=_>0?v-4:v,f;for(f=0;f<o;f+=4)p=t[i.charCodeAt(f)]<<18|t[i.charCodeAt(f+1)]<<12|t[i.charCodeAt(f+2)]<<6|t[i.charCodeAt(f+3)],n[y++]=p>>16&255,n[y++]=p>>8&255,n[y++]=p&255;return _===2&&(p=t[i.charCodeAt(f)]<<2|t[i.charCodeAt(f+1)]>>4,n[y++]=p&255),_===1&&(p=t[i.charCodeAt(f)]<<10|t[i.charCodeAt(f+1)]<<4|t[i.charCodeAt(f+2)]>>2,n[y++]=p>>8&255,n[y++]=p&255),n}function x(i){return a[i>>18&63]+a[i>>12&63]+a[i>>6&63]+a[i&63]}function I(i,p,g){for(var v,_=[],n=p;n<g;n+=3)v=(i[n]<<16&16711680)+(i[n+1]<<8&65280)+(i[n+2]&255),_.push(x(v));return _.join("")}function m(i){for(var p,g=i.length,v=g%3,_=[],n=16383,y=0,o=g-v;y<o;y+=n)_.push(I(i,y,y+n>o?o:y+n));return v===1?(p=i[g-1],_.push(a[p>>2]+a[p<<4&63]+"==")):v===2&&(p=(i[g-2]<<8)+i[g-1],_.push(a[p>>10]+a[p>>4&63]+a[p<<2&63]+"=")),_.join("")}return wt}var Ht={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var $i;function ba(){return $i||($i=1,Ht.read=function(a,t,r,E,C){var c,s,e=C*8-E-1,d=(1<<e)-1,u=d>>1,x=-7,I=r?C-1:0,m=r?-1:1,i=a[t+I];for(I+=m,c=i&(1<<-x)-1,i>>=-x,x+=e;x>0;c=c*256+a[t+I],I+=m,x-=8);for(s=c&(1<<-x)-1,c>>=-x,x+=E;x>0;s=s*256+a[t+I],I+=m,x-=8);if(c===0)c=1-u;else{if(c===d)return s?NaN:(i?-1:1)*(1/0);s=s+Math.pow(2,E),c=c-u}return(i?-1:1)*s*Math.pow(2,c-E)},Ht.write=function(a,t,r,E,C,c){var s,e,d,u=c*8-C-1,x=(1<<u)-1,I=x>>1,m=C===23?Math.pow(2,-24)-Math.pow(2,-77):0,i=E?0:c-1,p=E?1:-1,g=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(e=isNaN(t)?1:0,s=x):(s=Math.floor(Math.log(t)/Math.LN2),t*(d=Math.pow(2,-s))<1&&(s--,d*=2),s+I>=1?t+=m/d:t+=m*Math.pow(2,1-I),t*d>=2&&(s++,d/=2),s+I>=x?(e=0,s=x):s+I>=1?(e=(t*d-1)*Math.pow(2,C),s=s+I):(e=t*Math.pow(2,I-1)*Math.pow(2,C),s=0));C>=8;a[r+i]=e&255,i+=p,e/=256,C-=8);for(s=s<<C|e,u+=C;u>0;a[r+i]=s&255,i+=p,s/=256,u-=8);a[r+i-p]|=g*128}),Ht}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Ji;function $r(){return Ji||(Ji=1,function(a){const t=Sa(),r=ba(),E=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;a.Buffer=e,a.SlowBuffer=n,a.INSPECT_MAX_BYTES=50;const C=2147483647;a.kMaxLength=C,e.TYPED_ARRAY_SUPPORT=c(),!e.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const P=new Uint8Array(1),w={foo:function(){return 42}};return Object.setPrototypeOf(w,Uint8Array.prototype),Object.setPrototypeOf(P,w),P.foo()===42}catch{return!1}}Object.defineProperty(e.prototype,"parent",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.buffer}}),Object.defineProperty(e.prototype,"offset",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.byteOffset}});function s(P){if(P>C)throw new RangeError('The value "'+P+'" is invalid for option "size"');const w=new Uint8Array(P);return Object.setPrototypeOf(w,e.prototype),w}function e(P,w,B){if(typeof P=="number"){if(typeof w=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return I(P)}return d(P,w,B)}e.poolSize=8192;function d(P,w,B){if(typeof P=="string")return m(P,w);if(ArrayBuffer.isView(P))return p(P);if(P==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P);if(X(P,ArrayBuffer)||P&&X(P.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(X(P,SharedArrayBuffer)||P&&X(P.buffer,SharedArrayBuffer)))return g(P,w,B);if(typeof P=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const j=P.valueOf&&P.valueOf();if(j!=null&&j!==P)return e.from(j,w,B);const Y=v(P);if(Y)return Y;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof P[Symbol.toPrimitive]=="function")return e.from(P[Symbol.toPrimitive]("string"),w,B);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P)}e.from=function(P,w,B){return d(P,w,B)},Object.setPrototypeOf(e.prototype,Uint8Array.prototype),Object.setPrototypeOf(e,Uint8Array);function u(P){if(typeof P!="number")throw new TypeError('"size" argument must be of type number');if(P<0)throw new RangeError('The value "'+P+'" is invalid for option "size"')}function x(P,w,B){return u(P),P<=0?s(P):w!==void 0?typeof B=="string"?s(P).fill(w,B):s(P).fill(w):s(P)}e.alloc=function(P,w,B){return x(P,w,B)};function I(P){return u(P),s(P<0?0:_(P)|0)}e.allocUnsafe=function(P){return I(P)},e.allocUnsafeSlow=function(P){return I(P)};function m(P,w){if((typeof w!="string"||w==="")&&(w="utf8"),!e.isEncoding(w))throw new TypeError("Unknown encoding: "+w);const B=y(P,w)|0;let j=s(B);const Y=j.write(P,w);return Y!==B&&(j=j.slice(0,Y)),j}function i(P){const w=P.length<0?0:_(P.length)|0,B=s(w);for(let j=0;j<w;j+=1)B[j]=P[j]&255;return B}function p(P){if(X(P,Uint8Array)){const w=new Uint8Array(P);return g(w.buffer,w.byteOffset,w.byteLength)}return i(P)}function g(P,w,B){if(w<0||P.byteLength<w)throw new RangeError('"offset" is outside of buffer bounds');if(P.byteLength<w+(B||0))throw new RangeError('"length" is outside of buffer bounds');let j;return w===void 0&&B===void 0?j=new Uint8Array(P):B===void 0?j=new Uint8Array(P,w):j=new Uint8Array(P,w,B),Object.setPrototypeOf(j,e.prototype),j}function v(P){if(e.isBuffer(P)){const w=_(P.length)|0,B=s(w);return B.length===0||P.copy(B,0,0,w),B}if(P.length!==void 0)return typeof P.length!="number"||le(P.length)?s(0):i(P);if(P.type==="Buffer"&&Array.isArray(P.data))return i(P.data)}function _(P){if(P>=C)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+C.toString(16)+" bytes");return P|0}function n(P){return+P!=P&&(P=0),e.alloc(+P)}e.isBuffer=function(w){return w!=null&&w._isBuffer===!0&&w!==e.prototype},e.compare=function(w,B){if(X(w,Uint8Array)&&(w=e.from(w,w.offset,w.byteLength)),X(B,Uint8Array)&&(B=e.from(B,B.offset,B.byteLength)),!e.isBuffer(w)||!e.isBuffer(B))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(w===B)return 0;let j=w.length,Y=B.length;for(let ie=0,se=Math.min(j,Y);ie<se;++ie)if(w[ie]!==B[ie]){j=w[ie],Y=B[ie];break}return j<Y?-1:Y<j?1:0},e.isEncoding=function(w){switch(String(w).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(w,B){if(!Array.isArray(w))throw new TypeError('"list" argument must be an Array of Buffers');if(w.length===0)return e.alloc(0);let j;if(B===void 0)for(B=0,j=0;j<w.length;++j)B+=w[j].length;const Y=e.allocUnsafe(B);let ie=0;for(j=0;j<w.length;++j){let se=w[j];if(X(se,Uint8Array))ie+se.length>Y.length?(e.isBuffer(se)||(se=e.from(se)),se.copy(Y,ie)):Uint8Array.prototype.set.call(Y,se,ie);else if(e.isBuffer(se))se.copy(Y,ie);else throw new TypeError('"list" argument must be an Array of Buffers');ie+=se.length}return Y};function y(P,w){if(e.isBuffer(P))return P.length;if(ArrayBuffer.isView(P)||X(P,ArrayBuffer))return P.byteLength;if(typeof P!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof P);const B=P.length,j=arguments.length>2&&arguments[2]===!0;if(!j&&B===0)return 0;let Y=!1;for(;;)switch(w){case"ascii":case"latin1":case"binary":return B;case"utf8":case"utf-8":return H(P).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B*2;case"hex":return B>>>1;case"base64":return re(P).length;default:if(Y)return j?-1:H(P).length;w=(""+w).toLowerCase(),Y=!0}}e.byteLength=y;function o(P,w,B){let j=!1;if((w===void 0||w<0)&&(w=0),w>this.length||((B===void 0||B>this.length)&&(B=this.length),B<=0)||(B>>>=0,w>>>=0,B<=w))return"";for(P||(P="utf8");;)switch(P){case"hex":return ae(this,w,B);case"utf8":case"utf-8":return k(this,w,B);case"ascii":return oe(this,w,B);case"latin1":case"binary":return fe(this,w,B);case"base64":return z(this,w,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ge(this,w,B);default:if(j)throw new TypeError("Unknown encoding: "+P);P=(P+"").toLowerCase(),j=!0}}e.prototype._isBuffer=!0;function f(P,w,B){const j=P[w];P[w]=P[B],P[B]=j}e.prototype.swap16=function(){const w=this.length;if(w%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let B=0;B<w;B+=2)f(this,B,B+1);return this},e.prototype.swap32=function(){const w=this.length;if(w%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let B=0;B<w;B+=4)f(this,B,B+3),f(this,B+1,B+2);return this},e.prototype.swap64=function(){const w=this.length;if(w%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let B=0;B<w;B+=8)f(this,B,B+7),f(this,B+1,B+6),f(this,B+2,B+5),f(this,B+3,B+4);return this},e.prototype.toString=function(){const w=this.length;return w===0?"":arguments.length===0?k(this,0,w):o.apply(this,arguments)},e.prototype.toLocaleString=e.prototype.toString,e.prototype.equals=function(w){if(!e.isBuffer(w))throw new TypeError("Argument must be a Buffer");return this===w?!0:e.compare(this,w)===0},e.prototype.inspect=function(){let w="";const B=a.INSPECT_MAX_BYTES;return w=this.toString("hex",0,B).replace(/(.{2})/g,"$1 ").trim(),this.length>B&&(w+=" ... "),"<Buffer "+w+">"},E&&(e.prototype[E]=e.prototype.inspect),e.prototype.compare=function(w,B,j,Y,ie){if(X(w,Uint8Array)&&(w=e.from(w,w.offset,w.byteLength)),!e.isBuffer(w))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof w);if(B===void 0&&(B=0),j===void 0&&(j=w?w.length:0),Y===void 0&&(Y=0),ie===void 0&&(ie=this.length),B<0||j>w.length||Y<0||ie>this.length)throw new RangeError("out of range index");if(Y>=ie&&B>=j)return 0;if(Y>=ie)return-1;if(B>=j)return 1;if(B>>>=0,j>>>=0,Y>>>=0,ie>>>=0,this===w)return 0;let se=ie-Y,be=j-B;const Ae=Math.min(se,be),_e=this.slice(Y,ie),Be=w.slice(B,j);for(let Ie=0;Ie<Ae;++Ie)if(_e[Ie]!==Be[Ie]){se=_e[Ie],be=Be[Ie];break}return se<be?-1:be<se?1:0};function l(P,w,B,j,Y){if(P.length===0)return-1;if(typeof B=="string"?(j=B,B=0):B>2147483647?B=2147483647:B<-2147483648&&(B=-2147483648),B=+B,le(B)&&(B=Y?0:P.length-1),B<0&&(B=P.length+B),B>=P.length){if(Y)return-1;B=P.length-1}else if(B<0)if(Y)B=0;else return-1;if(typeof w=="string"&&(w=e.from(w,j)),e.isBuffer(w))return w.length===0?-1:b(P,w,B,j,Y);if(typeof w=="number")return w=w&255,typeof Uint8Array.prototype.indexOf=="function"?Y?Uint8Array.prototype.indexOf.call(P,w,B):Uint8Array.prototype.lastIndexOf.call(P,w,B):b(P,[w],B,j,Y);throw new TypeError("val must be string, number or Buffer")}function b(P,w,B,j,Y){let ie=1,se=P.length,be=w.length;if(j!==void 0&&(j=String(j).toLowerCase(),j==="ucs2"||j==="ucs-2"||j==="utf16le"||j==="utf-16le")){if(P.length<2||w.length<2)return-1;ie=2,se/=2,be/=2,B/=2}function Ae(Be,Ie){return ie===1?Be[Ie]:Be.readUInt16BE(Ie*ie)}let _e;if(Y){let Be=-1;for(_e=B;_e<se;_e++)if(Ae(P,_e)===Ae(w,Be===-1?0:_e-Be)){if(Be===-1&&(Be=_e),_e-Be+1===be)return Be*ie}else Be!==-1&&(_e-=_e-Be),Be=-1}else for(B+be>se&&(B=se-be),_e=B;_e>=0;_e--){let Be=!0;for(let Ie=0;Ie<be;Ie++)if(Ae(P,_e+Ie)!==Ae(w,Ie)){Be=!1;break}if(Be)return _e}return-1}e.prototype.includes=function(w,B,j){return this.indexOf(w,B,j)!==-1},e.prototype.indexOf=function(w,B,j){return l(this,w,B,j,!0)},e.prototype.lastIndexOf=function(w,B,j){return l(this,w,B,j,!1)};function h(P,w,B,j){B=Number(B)||0;const Y=P.length-B;j?(j=Number(j),j>Y&&(j=Y)):j=Y;const ie=w.length;j>ie/2&&(j=ie/2);let se;for(se=0;se<j;++se){const be=parseInt(w.substr(se*2,2),16);if(le(be))return se;P[B+se]=be}return se}function N(P,w,B,j){return ue(H(w,P.length-B),P,B,j)}function R(P,w,B,j){return ue(q(w),P,B,j)}function L(P,w,B,j){return ue(re(w),P,B,j)}function D(P,w,B,j){return ue(G(w,P.length-B),P,B,j)}e.prototype.write=function(w,B,j,Y){if(B===void 0)Y="utf8",j=this.length,B=0;else if(j===void 0&&typeof B=="string")Y=B,j=this.length,B=0;else if(isFinite(B))B=B>>>0,isFinite(j)?(j=j>>>0,Y===void 0&&(Y="utf8")):(Y=j,j=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ie=this.length-B;if((j===void 0||j>ie)&&(j=ie),w.length>0&&(j<0||B<0)||B>this.length)throw new RangeError("Attempt to write outside buffer bounds");Y||(Y="utf8");let se=!1;for(;;)switch(Y){case"hex":return h(this,w,B,j);case"utf8":case"utf-8":return N(this,w,B,j);case"ascii":case"latin1":case"binary":return R(this,w,B,j);case"base64":return L(this,w,B,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,w,B,j);default:if(se)throw new TypeError("Unknown encoding: "+Y);Y=(""+Y).toLowerCase(),se=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function z(P,w,B){return w===0&&B===P.length?t.fromByteArray(P):t.fromByteArray(P.slice(w,B))}function k(P,w,B){B=Math.min(P.length,B);const j=[];let Y=w;for(;Y<B;){const ie=P[Y];let se=null,be=ie>239?4:ie>223?3:ie>191?2:1;if(Y+be<=B){let Ae,_e,Be,Ie;switch(be){case 1:ie<128&&(se=ie);break;case 2:Ae=P[Y+1],(Ae&192)===128&&(Ie=(ie&31)<<6|Ae&63,Ie>127&&(se=Ie));break;case 3:Ae=P[Y+1],_e=P[Y+2],(Ae&192)===128&&(_e&192)===128&&(Ie=(ie&15)<<12|(Ae&63)<<6|_e&63,Ie>2047&&(Ie<55296||Ie>57343)&&(se=Ie));break;case 4:Ae=P[Y+1],_e=P[Y+2],Be=P[Y+3],(Ae&192)===128&&(_e&192)===128&&(Be&192)===128&&(Ie=(ie&15)<<18|(Ae&63)<<12|(_e&63)<<6|Be&63,Ie>65535&&Ie<1114112&&(se=Ie))}}se===null?(se=65533,be=1):se>65535&&(se-=65536,j.push(se>>>10&1023|55296),se=56320|se&1023),j.push(se),Y+=be}return $(j)}const Z=4096;function $(P){const w=P.length;if(w<=Z)return String.fromCharCode.apply(String,P);let B="",j=0;for(;j<w;)B+=String.fromCharCode.apply(String,P.slice(j,j+=Z));return B}function oe(P,w,B){let j="";B=Math.min(P.length,B);for(let Y=w;Y<B;++Y)j+=String.fromCharCode(P[Y]&127);return j}function fe(P,w,B){let j="";B=Math.min(P.length,B);for(let Y=w;Y<B;++Y)j+=String.fromCharCode(P[Y]);return j}function ae(P,w,B){const j=P.length;(!w||w<0)&&(w=0),(!B||B<0||B>j)&&(B=j);let Y="";for(let ie=w;ie<B;++ie)Y+=ve[P[ie]];return Y}function ge(P,w,B){const j=P.slice(w,B);let Y="";for(let ie=0;ie<j.length-1;ie+=2)Y+=String.fromCharCode(j[ie]+j[ie+1]*256);return Y}e.prototype.slice=function(w,B){const j=this.length;w=~~w,B=B===void 0?j:~~B,w<0?(w+=j,w<0&&(w=0)):w>j&&(w=j),B<0?(B+=j,B<0&&(B=0)):B>j&&(B=j),B<w&&(B=w);const Y=this.subarray(w,B);return Object.setPrototypeOf(Y,e.prototype),Y};function ee(P,w,B){if(P%1!==0||P<0)throw new RangeError("offset is not uint");if(P+w>B)throw new RangeError("Trying to access beyond buffer length")}e.prototype.readUintLE=e.prototype.readUIntLE=function(w,B,j){w=w>>>0,B=B>>>0,j||ee(w,B,this.length);let Y=this[w],ie=1,se=0;for(;++se<B&&(ie*=256);)Y+=this[w+se]*ie;return Y},e.prototype.readUintBE=e.prototype.readUIntBE=function(w,B,j){w=w>>>0,B=B>>>0,j||ee(w,B,this.length);let Y=this[w+--B],ie=1;for(;B>0&&(ie*=256);)Y+=this[w+--B]*ie;return Y},e.prototype.readUint8=e.prototype.readUInt8=function(w,B){return w=w>>>0,B||ee(w,1,this.length),this[w]},e.prototype.readUint16LE=e.prototype.readUInt16LE=function(w,B){return w=w>>>0,B||ee(w,2,this.length),this[w]|this[w+1]<<8},e.prototype.readUint16BE=e.prototype.readUInt16BE=function(w,B){return w=w>>>0,B||ee(w,2,this.length),this[w]<<8|this[w+1]},e.prototype.readUint32LE=e.prototype.readUInt32LE=function(w,B){return w=w>>>0,B||ee(w,4,this.length),(this[w]|this[w+1]<<8|this[w+2]<<16)+this[w+3]*16777216},e.prototype.readUint32BE=e.prototype.readUInt32BE=function(w,B){return w=w>>>0,B||ee(w,4,this.length),this[w]*16777216+(this[w+1]<<16|this[w+2]<<8|this[w+3])},e.prototype.readBigUInt64LE=he(function(w){w=w>>>0,O(w,"offset");const B=this[w],j=this[w+7];(B===void 0||j===void 0)&&T(w,this.length-8);const Y=B+this[++w]*2**8+this[++w]*2**16+this[++w]*2**24,ie=this[++w]+this[++w]*2**8+this[++w]*2**16+j*2**24;return BigInt(Y)+(BigInt(ie)<<BigInt(32))}),e.prototype.readBigUInt64BE=he(function(w){w=w>>>0,O(w,"offset");const B=this[w],j=this[w+7];(B===void 0||j===void 0)&&T(w,this.length-8);const Y=B*2**24+this[++w]*2**16+this[++w]*2**8+this[++w],ie=this[++w]*2**24+this[++w]*2**16+this[++w]*2**8+j;return(BigInt(Y)<<BigInt(32))+BigInt(ie)}),e.prototype.readIntLE=function(w,B,j){w=w>>>0,B=B>>>0,j||ee(w,B,this.length);let Y=this[w],ie=1,se=0;for(;++se<B&&(ie*=256);)Y+=this[w+se]*ie;return ie*=128,Y>=ie&&(Y-=Math.pow(2,8*B)),Y},e.prototype.readIntBE=function(w,B,j){w=w>>>0,B=B>>>0,j||ee(w,B,this.length);let Y=B,ie=1,se=this[w+--Y];for(;Y>0&&(ie*=256);)se+=this[w+--Y]*ie;return ie*=128,se>=ie&&(se-=Math.pow(2,8*B)),se},e.prototype.readInt8=function(w,B){return w=w>>>0,B||ee(w,1,this.length),this[w]&128?(255-this[w]+1)*-1:this[w]},e.prototype.readInt16LE=function(w,B){w=w>>>0,B||ee(w,2,this.length);const j=this[w]|this[w+1]<<8;return j&32768?j|4294901760:j},e.prototype.readInt16BE=function(w,B){w=w>>>0,B||ee(w,2,this.length);const j=this[w+1]|this[w]<<8;return j&32768?j|4294901760:j},e.prototype.readInt32LE=function(w,B){return w=w>>>0,B||ee(w,4,this.length),this[w]|this[w+1]<<8|this[w+2]<<16|this[w+3]<<24},e.prototype.readInt32BE=function(w,B){return w=w>>>0,B||ee(w,4,this.length),this[w]<<24|this[w+1]<<16|this[w+2]<<8|this[w+3]},e.prototype.readBigInt64LE=he(function(w){w=w>>>0,O(w,"offset");const B=this[w],j=this[w+7];(B===void 0||j===void 0)&&T(w,this.length-8);const Y=this[w+4]+this[w+5]*2**8+this[w+6]*2**16+(j<<24);return(BigInt(Y)<<BigInt(32))+BigInt(B+this[++w]*2**8+this[++w]*2**16+this[++w]*2**24)}),e.prototype.readBigInt64BE=he(function(w){w=w>>>0,O(w,"offset");const B=this[w],j=this[w+7];(B===void 0||j===void 0)&&T(w,this.length-8);const Y=(B<<24)+this[++w]*2**16+this[++w]*2**8+this[++w];return(BigInt(Y)<<BigInt(32))+BigInt(this[++w]*2**24+this[++w]*2**16+this[++w]*2**8+j)}),e.prototype.readFloatLE=function(w,B){return w=w>>>0,B||ee(w,4,this.length),r.read(this,w,!0,23,4)},e.prototype.readFloatBE=function(w,B){return w=w>>>0,B||ee(w,4,this.length),r.read(this,w,!1,23,4)},e.prototype.readDoubleLE=function(w,B){return w=w>>>0,B||ee(w,8,this.length),r.read(this,w,!0,52,8)},e.prototype.readDoubleBE=function(w,B){return w=w>>>0,B||ee(w,8,this.length),r.read(this,w,!1,52,8)};function J(P,w,B,j,Y,ie){if(!e.isBuffer(P))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>Y||w<ie)throw new RangeError('"value" argument is out of bounds');if(B+j>P.length)throw new RangeError("Index out of range")}e.prototype.writeUintLE=e.prototype.writeUIntLE=function(w,B,j,Y){if(w=+w,B=B>>>0,j=j>>>0,!Y){const be=Math.pow(2,8*j)-1;J(this,w,B,j,be,0)}let ie=1,se=0;for(this[B]=w&255;++se<j&&(ie*=256);)this[B+se]=w/ie&255;return B+j},e.prototype.writeUintBE=e.prototype.writeUIntBE=function(w,B,j,Y){if(w=+w,B=B>>>0,j=j>>>0,!Y){const be=Math.pow(2,8*j)-1;J(this,w,B,j,be,0)}let ie=j-1,se=1;for(this[B+ie]=w&255;--ie>=0&&(se*=256);)this[B+ie]=w/se&255;return B+j},e.prototype.writeUint8=e.prototype.writeUInt8=function(w,B,j){return w=+w,B=B>>>0,j||J(this,w,B,1,255,0),this[B]=w&255,B+1},e.prototype.writeUint16LE=e.prototype.writeUInt16LE=function(w,B,j){return w=+w,B=B>>>0,j||J(this,w,B,2,65535,0),this[B]=w&255,this[B+1]=w>>>8,B+2},e.prototype.writeUint16BE=e.prototype.writeUInt16BE=function(w,B,j){return w=+w,B=B>>>0,j||J(this,w,B,2,65535,0),this[B]=w>>>8,this[B+1]=w&255,B+2},e.prototype.writeUint32LE=e.prototype.writeUInt32LE=function(w,B,j){return w=+w,B=B>>>0,j||J(this,w,B,4,4294967295,0),this[B+3]=w>>>24,this[B+2]=w>>>16,this[B+1]=w>>>8,this[B]=w&255,B+4},e.prototype.writeUint32BE=e.prototype.writeUInt32BE=function(w,B,j){return w=+w,B=B>>>0,j||J(this,w,B,4,4294967295,0),this[B]=w>>>24,this[B+1]=w>>>16,this[B+2]=w>>>8,this[B+3]=w&255,B+4};function xe(P,w,B,j,Y){S(w,j,Y,P,B,7);let ie=Number(w&BigInt(4294967295));P[B++]=ie,ie=ie>>8,P[B++]=ie,ie=ie>>8,P[B++]=ie,ie=ie>>8,P[B++]=ie;let se=Number(w>>BigInt(32)&BigInt(4294967295));return P[B++]=se,se=se>>8,P[B++]=se,se=se>>8,P[B++]=se,se=se>>8,P[B++]=se,B}function ne(P,w,B,j,Y){S(w,j,Y,P,B,7);let ie=Number(w&BigInt(4294967295));P[B+7]=ie,ie=ie>>8,P[B+6]=ie,ie=ie>>8,P[B+5]=ie,ie=ie>>8,P[B+4]=ie;let se=Number(w>>BigInt(32)&BigInt(4294967295));return P[B+3]=se,se=se>>8,P[B+2]=se,se=se>>8,P[B+1]=se,se=se>>8,P[B]=se,B+8}e.prototype.writeBigUInt64LE=he(function(w,B=0){return xe(this,w,B,BigInt(0),BigInt("0xffffffffffffffff"))}),e.prototype.writeBigUInt64BE=he(function(w,B=0){return ne(this,w,B,BigInt(0),BigInt("0xffffffffffffffff"))}),e.prototype.writeIntLE=function(w,B,j,Y){if(w=+w,B=B>>>0,!Y){const Ae=Math.pow(2,8*j-1);J(this,w,B,j,Ae-1,-Ae)}let ie=0,se=1,be=0;for(this[B]=w&255;++ie<j&&(se*=256);)w<0&&be===0&&this[B+ie-1]!==0&&(be=1),this[B+ie]=(w/se>>0)-be&255;return B+j},e.prototype.writeIntBE=function(w,B,j,Y){if(w=+w,B=B>>>0,!Y){const Ae=Math.pow(2,8*j-1);J(this,w,B,j,Ae-1,-Ae)}let ie=j-1,se=1,be=0;for(this[B+ie]=w&255;--ie>=0&&(se*=256);)w<0&&be===0&&this[B+ie+1]!==0&&(be=1),this[B+ie]=(w/se>>0)-be&255;return B+j},e.prototype.writeInt8=function(w,B,j){return w=+w,B=B>>>0,j||J(this,w,B,1,127,-128),w<0&&(w=255+w+1),this[B]=w&255,B+1},e.prototype.writeInt16LE=function(w,B,j){return w=+w,B=B>>>0,j||J(this,w,B,2,32767,-32768),this[B]=w&255,this[B+1]=w>>>8,B+2},e.prototype.writeInt16BE=function(w,B,j){return w=+w,B=B>>>0,j||J(this,w,B,2,32767,-32768),this[B]=w>>>8,this[B+1]=w&255,B+2},e.prototype.writeInt32LE=function(w,B,j){return w=+w,B=B>>>0,j||J(this,w,B,4,2147483647,-2147483648),this[B]=w&255,this[B+1]=w>>>8,this[B+2]=w>>>16,this[B+3]=w>>>24,B+4},e.prototype.writeInt32BE=function(w,B,j){return w=+w,B=B>>>0,j||J(this,w,B,4,2147483647,-2147483648),w<0&&(w=4294967295+w+1),this[B]=w>>>24,this[B+1]=w>>>16,this[B+2]=w>>>8,this[B+3]=w&255,B+4},e.prototype.writeBigInt64LE=he(function(w,B=0){return xe(this,w,B,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),e.prototype.writeBigInt64BE=he(function(w,B=0){return ne(this,w,B,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ce(P,w,B,j,Y,ie){if(B+j>P.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("Index out of range")}function ye(P,w,B,j,Y){return w=+w,B=B>>>0,Y||ce(P,w,B,4),r.write(P,w,B,j,23,4),B+4}e.prototype.writeFloatLE=function(w,B,j){return ye(this,w,B,!0,j)},e.prototype.writeFloatBE=function(w,B,j){return ye(this,w,B,!1,j)};function ke(P,w,B,j,Y){return w=+w,B=B>>>0,Y||ce(P,w,B,8),r.write(P,w,B,j,52,8),B+8}e.prototype.writeDoubleLE=function(w,B,j){return ke(this,w,B,!0,j)},e.prototype.writeDoubleBE=function(w,B,j){return ke(this,w,B,!1,j)},e.prototype.copy=function(w,B,j,Y){if(!e.isBuffer(w))throw new TypeError("argument should be a Buffer");if(j||(j=0),!Y&&Y!==0&&(Y=this.length),B>=w.length&&(B=w.length),B||(B=0),Y>0&&Y<j&&(Y=j),Y===j||w.length===0||this.length===0)return 0;if(B<0)throw new RangeError("targetStart out of bounds");if(j<0||j>=this.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("sourceEnd out of bounds");Y>this.length&&(Y=this.length),w.length-B<Y-j&&(Y=w.length-B+j);const ie=Y-j;return this===w&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(B,j,Y):Uint8Array.prototype.set.call(w,this.subarray(j,Y),B),ie},e.prototype.fill=function(w,B,j,Y){if(typeof w=="string"){if(typeof B=="string"?(Y=B,B=0,j=this.length):typeof j=="string"&&(Y=j,j=this.length),Y!==void 0&&typeof Y!="string")throw new TypeError("encoding must be a string");if(typeof Y=="string"&&!e.isEncoding(Y))throw new TypeError("Unknown encoding: "+Y);if(w.length===1){const se=w.charCodeAt(0);(Y==="utf8"&&se<128||Y==="latin1")&&(w=se)}}else typeof w=="number"?w=w&255:typeof w=="boolean"&&(w=Number(w));if(B<0||this.length<B||this.length<j)throw new RangeError("Out of range index");if(j<=B)return this;B=B>>>0,j=j===void 0?this.length:j>>>0,w||(w=0);let ie;if(typeof w=="number")for(ie=B;ie<j;++ie)this[ie]=w;else{const se=e.isBuffer(w)?w:e.from(w,Y),be=se.length;if(be===0)throw new TypeError('The value "'+w+'" is invalid for argument "value"');for(ie=0;ie<j-B;++ie)this[ie+B]=se[ie%be]}return this};const me={};function A(P,w,B){me[P]=class extends B{constructor(){super(),Object.defineProperty(this,"message",{value:w.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${P}]`,this.stack,delete this.name}get code(){return P}set code(Y){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Y,writable:!0})}toString(){return`${this.name} [${P}]: ${this.message}`}}}A("ERR_BUFFER_OUT_OF_BOUNDS",function(P){return P?`${P} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),A("ERR_INVALID_ARG_TYPE",function(P,w){return`The "${P}" argument must be of type number. Received type ${typeof w}`},TypeError),A("ERR_OUT_OF_RANGE",function(P,w,B){let j=`The value of "${P}" is out of range.`,Y=B;return Number.isInteger(B)&&Math.abs(B)>2**32?Y=K(String(B)):typeof B=="bigint"&&(Y=String(B),(B>BigInt(2)**BigInt(32)||B<-(BigInt(2)**BigInt(32)))&&(Y=K(Y)),Y+="n"),j+=` It must be ${w}. Received ${Y}`,j},RangeError);function K(P){let w="",B=P.length;const j=P[0]==="-"?1:0;for(;B>=j+4;B-=3)w=`_${P.slice(B-3,B)}${w}`;return`${P.slice(0,B)}${w}`}function F(P,w,B){O(w,"offset"),(P[w]===void 0||P[w+B]===void 0)&&T(w,P.length-(B+1))}function S(P,w,B,j,Y,ie){if(P>B||P<w){const se=typeof w=="bigint"?"n":"";let be;throw ie>3?w===0||w===BigInt(0)?be=`>= 0${se} and < 2${se} ** ${(ie+1)*8}${se}`:be=`>= -(2${se} ** ${(ie+1)*8-1}${se}) and < 2 ** ${(ie+1)*8-1}${se}`:be=`>= ${w}${se} and <= ${B}${se}`,new me.ERR_OUT_OF_RANGE("value",be,P)}F(j,Y,ie)}function O(P,w){if(typeof P!="number")throw new me.ERR_INVALID_ARG_TYPE(w,"number",P)}function T(P,w,B){throw Math.floor(P)!==P?(O(P,B),new me.ERR_OUT_OF_RANGE(B||"offset","an integer",P)):w<0?new me.ERR_BUFFER_OUT_OF_BOUNDS:new me.ERR_OUT_OF_RANGE(B||"offset",`>= ${B?1:0} and <= ${w}`,P)}const M=/[^+/0-9A-Za-z-_]/g;function Q(P){if(P=P.split("=")[0],P=P.trim().replace(M,""),P.length<2)return"";for(;P.length%4!==0;)P=P+"=";return P}function H(P,w){w=w||1/0;let B;const j=P.length;let Y=null;const ie=[];for(let se=0;se<j;++se){if(B=P.charCodeAt(se),B>55295&&B<57344){if(!Y){if(B>56319){(w-=3)>-1&&ie.push(239,191,189);continue}else if(se+1===j){(w-=3)>-1&&ie.push(239,191,189);continue}Y=B;continue}if(B<56320){(w-=3)>-1&&ie.push(239,191,189),Y=B;continue}B=(Y-55296<<10|B-56320)+65536}else Y&&(w-=3)>-1&&ie.push(239,191,189);if(Y=null,B<128){if((w-=1)<0)break;ie.push(B)}else if(B<2048){if((w-=2)<0)break;ie.push(B>>6|192,B&63|128)}else if(B<65536){if((w-=3)<0)break;ie.push(B>>12|224,B>>6&63|128,B&63|128)}else if(B<1114112){if((w-=4)<0)break;ie.push(B>>18|240,B>>12&63|128,B>>6&63|128,B&63|128)}else throw new Error("Invalid code point")}return ie}function q(P){const w=[];for(let B=0;B<P.length;++B)w.push(P.charCodeAt(B)&255);return w}function G(P,w){let B,j,Y;const ie=[];for(let se=0;se<P.length&&!((w-=2)<0);++se)B=P.charCodeAt(se),j=B>>8,Y=B%256,ie.push(Y),ie.push(j);return ie}function re(P){return t.toByteArray(Q(P))}function ue(P,w,B,j){let Y;for(Y=0;Y<j&&!(Y+B>=w.length||Y>=P.length);++Y)w[Y+B]=P[Y];return Y}function X(P,w){return P instanceof w||P!=null&&P.constructor!=null&&P.constructor.name!=null&&P.constructor.name===w.name}function le(P){return P!==P}const ve=function(){const P="0123456789abcdef",w=new Array(256);for(let B=0;B<16;++B){const j=B*16;for(let Y=0;Y<16;++Y)w[j+Y]=P[B]+P[Y]}return w}();function he(P){return typeof BigInt>"u"?Ce:P}function Ce(){throw new Error("BigInt not supported")}}(Vr)),Vr}var en;function Jr(){if(en)return Tt;en=1,Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.SHA256ForString=void 0;const a=Xr(),t=$r();function r(E){const C=a.md.sha256.create();C.update(E,"raw");const c=C.digest().getBytes();return t.Buffer.from(c,"binary").toString("base64")}return Tt.SHA256ForString=r,Tt}var tn;function _a(){if(tn)return _t;tn=1;var a=Te&&Te.__awaiter||function(C,c,s,e){function d(u){return u instanceof s?u:new s(function(x){x(u)})}return new(s||(s=Promise))(function(u,x){function I(p){try{i(e.next(p))}catch(g){x(g)}}function m(p){try{i(e.throw(p))}catch(g){x(g)}}function i(p){p.done?u(p.value):d(p.value).then(I,m)}i((e=e.apply(C,c||[])).next())})};Object.defineProperty(_t,"__esModule",{value:!0}),_t.BundleEntry=void 0;const t=Jr(),r=dt;let E=class{constructor(c,s){this.name=c,this.digest=s;const e=`Name: ${c}`;this.name=(0,r.wrapLongStrings)(e);const d=`SHA-256-Digest: ${s}`;this.digest=(0,r.wrapLongStrings)(d)}getManifestAttr(){return this.formatEntry(this.name,this.digest)}getSignatureAttr(){return a(this,void 0,void 0,function*(){const c=`SHA-256-Digest: ${yield(0,t.SHA256ForString)(this.getManifestAttr())}`,s=(0,r.wrapLongStrings)(c);return this.formatEntry(this.name,s)})}formatEntry(c,s){return`${c}\r
${s}\r
\r
`}};return _t.BundleEntry=E,_t}function Gt(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Mr={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var rn;function Ta(){return rn||(rn=1,function(a,t){(function(r){a.exports=r()})(function(){return function r(E,C,c){function s(u,x){if(!C[u]){if(!E[u]){var I=typeof Gt=="function"&&Gt;if(!x&&I)return I(u,!0);if(e)return e(u,!0);var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m}var i=C[u]={exports:{}};E[u][0].call(i.exports,function(p){var g=E[u][1][p];return s(g||p)},i,i.exports,r,E,C,c)}return C[u].exports}for(var e=typeof Gt=="function"&&Gt,d=0;d<c.length;d++)s(c[d]);return s}({1:[function(r,E,C){var c=r("./utils"),s=r("./support"),e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";C.encode=function(d){for(var u,x,I,m,i,p,g,v=[],_=0,n=d.length,y=n,o=c.getTypeOf(d)!=="string";_<d.length;)y=n-_,I=o?(u=d[_++],x=_<n?d[_++]:0,_<n?d[_++]:0):(u=d.charCodeAt(_++),x=_<n?d.charCodeAt(_++):0,_<n?d.charCodeAt(_++):0),m=u>>2,i=(3&u)<<4|x>>4,p=1<y?(15&x)<<2|I>>6:64,g=2<y?63&I:64,v.push(e.charAt(m)+e.charAt(i)+e.charAt(p)+e.charAt(g));return v.join("")},C.decode=function(d){var u,x,I,m,i,p,g=0,v=0,_="data:";if(d.substr(0,_.length)===_)throw new Error("Invalid base64 input, it looks like a data url.");var n,y=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===e.charAt(64)&&y--,d.charAt(d.length-2)===e.charAt(64)&&y--,y%1!=0)throw new Error("Invalid base64 input, bad content length.");for(n=s.uint8array?new Uint8Array(0|y):new Array(0|y);g<d.length;)u=e.indexOf(d.charAt(g++))<<2|(m=e.indexOf(d.charAt(g++)))>>4,x=(15&m)<<4|(i=e.indexOf(d.charAt(g++)))>>2,I=(3&i)<<6|(p=e.indexOf(d.charAt(g++))),n[v++]=u,i!==64&&(n[v++]=x),p!==64&&(n[v++]=I);return n}},{"./support":30,"./utils":32}],2:[function(r,E,C){var c=r("./external"),s=r("./stream/DataWorker"),e=r("./stream/Crc32Probe"),d=r("./stream/DataLengthProbe");function u(x,I,m,i,p){this.compressedSize=x,this.uncompressedSize=I,this.crc32=m,this.compression=i,this.compressedContent=p}u.prototype={getContentWorker:function(){var x=new s(c.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),I=this;return x.on("end",function(){if(this.streamInfo.data_length!==I.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),x},getCompressedWorker:function(){return new s(c.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(x,I,m){return x.pipe(new e).pipe(new d("uncompressedSize")).pipe(I.compressWorker(m)).pipe(new d("compressedSize")).withStreamInfo("compression",I)},E.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,E,C){var c=r("./stream/GenericWorker");C.STORE={magic:"\0\0",compressWorker:function(){return new c("STORE compression")},uncompressWorker:function(){return new c("STORE decompression")}},C.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,E,C){var c=r("./utils"),s=function(){for(var e,d=[],u=0;u<256;u++){e=u;for(var x=0;x<8;x++)e=1&e?3988292384^e>>>1:e>>>1;d[u]=e}return d}();E.exports=function(e,d){return e!==void 0&&e.length?c.getTypeOf(e)!=="string"?function(u,x,I,m){var i=s,p=m+I;u^=-1;for(var g=m;g<p;g++)u=u>>>8^i[255&(u^x[g])];return-1^u}(0|d,e,e.length,0):function(u,x,I,m){var i=s,p=m+I;u^=-1;for(var g=m;g<p;g++)u=u>>>8^i[255&(u^x.charCodeAt(g))];return-1^u}(0|d,e,e.length,0):0}},{"./utils":32}],5:[function(r,E,C){C.base64=!1,C.binary=!1,C.dir=!1,C.createFolders=!0,C.date=null,C.compression=null,C.compressionOptions=null,C.comment=null,C.unixPermissions=null,C.dosPermissions=null},{}],6:[function(r,E,C){var c=null;c=typeof Promise<"u"?Promise:r("lie"),E.exports={Promise:c}},{lie:37}],7:[function(r,E,C){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=r("pako"),e=r("./utils"),d=r("./stream/GenericWorker"),u=c?"uint8array":"array";function x(I,m){d.call(this,"FlateWorker/"+I),this._pako=null,this._pakoAction=I,this._pakoOptions=m,this.meta={}}C.magic="\b\0",e.inherits(x,d),x.prototype.processChunk=function(I){this.meta=I.meta,this._pako===null&&this._createPako(),this._pako.push(e.transformTo(u,I.data),!1)},x.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},x.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},x.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var I=this;this._pako.onData=function(m){I.push({data:m,meta:I.meta})}},C.compressWorker=function(I){return new x("Deflate",I)},C.uncompressWorker=function(){return new x("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,E,C){function c(i,p){var g,v="";for(g=0;g<p;g++)v+=String.fromCharCode(255&i),i>>>=8;return v}function s(i,p,g,v,_,n){var y,o,f=i.file,l=i.compression,b=n!==u.utf8encode,h=e.transformTo("string",n(f.name)),N=e.transformTo("string",u.utf8encode(f.name)),R=f.comment,L=e.transformTo("string",n(R)),D=e.transformTo("string",u.utf8encode(R)),z=N.length!==f.name.length,k=D.length!==R.length,Z="",$="",oe="",fe=f.dir,ae=f.date,ge={crc32:0,compressedSize:0,uncompressedSize:0};p&&!g||(ge.crc32=i.crc32,ge.compressedSize=i.compressedSize,ge.uncompressedSize=i.uncompressedSize);var ee=0;p&&(ee|=8),b||!z&&!k||(ee|=2048);var J=0,xe=0;fe&&(J|=16),_==="UNIX"?(xe=798,J|=function(ce,ye){var ke=ce;return ce||(ke=ye?16893:33204),(65535&ke)<<16}(f.unixPermissions,fe)):(xe=20,J|=function(ce){return 63&(ce||0)}(f.dosPermissions)),y=ae.getUTCHours(),y<<=6,y|=ae.getUTCMinutes(),y<<=5,y|=ae.getUTCSeconds()/2,o=ae.getUTCFullYear()-1980,o<<=4,o|=ae.getUTCMonth()+1,o<<=5,o|=ae.getUTCDate(),z&&($=c(1,1)+c(x(h),4)+N,Z+="up"+c($.length,2)+$),k&&(oe=c(1,1)+c(x(L),4)+D,Z+="uc"+c(oe.length,2)+oe);var ne="";return ne+=`
\0`,ne+=c(ee,2),ne+=l.magic,ne+=c(y,2),ne+=c(o,2),ne+=c(ge.crc32,4),ne+=c(ge.compressedSize,4),ne+=c(ge.uncompressedSize,4),ne+=c(h.length,2),ne+=c(Z.length,2),{fileRecord:I.LOCAL_FILE_HEADER+ne+h+Z,dirRecord:I.CENTRAL_FILE_HEADER+c(xe,2)+ne+c(L.length,2)+"\0\0\0\0"+c(J,4)+c(v,4)+h+Z+L}}var e=r("../utils"),d=r("../stream/GenericWorker"),u=r("../utf8"),x=r("../crc32"),I=r("../signature");function m(i,p,g,v){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=g,this.encodeFileName=v,this.streamFiles=i,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}e.inherits(m,d),m.prototype.push=function(i){var p=i.meta.percent||0,g=this.entriesCount,v=this._sources.length;this.accumulate?this.contentBuffer.push(i):(this.bytesWritten+=i.data.length,d.prototype.push.call(this,{data:i.data,meta:{currentFile:this.currentFile,percent:g?(p+100*(g-v-1))/g:100}}))},m.prototype.openedSource=function(i){this.currentSourceOffset=this.bytesWritten,this.currentFile=i.file.name;var p=this.streamFiles&&!i.file.dir;if(p){var g=s(i,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},m.prototype.closedSource=function(i){this.accumulate=!1;var p=this.streamFiles&&!i.file.dir,g=s(i,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),p)this.push({data:function(v){return I.DATA_DESCRIPTOR+c(v.crc32,4)+c(v.compressedSize,4)+c(v.uncompressedSize,4)}(i),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},m.prototype.flush=function(){for(var i=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var g=this.bytesWritten-i,v=function(_,n,y,o,f){var l=e.transformTo("string",f(o));return I.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(_,2)+c(_,2)+c(n,4)+c(y,4)+c(l.length,2)+l}(this.dirRecords.length,g,i,this.zipComment,this.encodeFileName);this.push({data:v,meta:{percent:100}})},m.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},m.prototype.registerPrevious=function(i){this._sources.push(i);var p=this;return i.on("data",function(g){p.processChunk(g)}),i.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),i.on("error",function(g){p.error(g)}),this},m.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},m.prototype.error=function(i){var p=this._sources;if(!d.prototype.error.call(this,i))return!1;for(var g=0;g<p.length;g++)try{p[g].error(i)}catch{}return!0},m.prototype.lock=function(){d.prototype.lock.call(this);for(var i=this._sources,p=0;p<i.length;p++)i[p].lock()},E.exports=m},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,E,C){var c=r("../compressions"),s=r("./ZipFileWorker");C.generateWorker=function(e,d,u){var x=new s(d.streamFiles,u,d.platform,d.encodeFileName),I=0;try{e.forEach(function(m,i){I++;var p=function(n,y){var o=n||y,f=c[o];if(!f)throw new Error(o+" is not a valid compression method !");return f}(i.options.compression,d.compression),g=i.options.compressionOptions||d.compressionOptions||{},v=i.dir,_=i.date;i._compressWorker(p,g).withStreamInfo("file",{name:m,dir:v,date:_,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(x)}),x.entriesCount=I}catch(m){x.error(m)}return x}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,E,C){function c(){if(!(this instanceof c))return new c;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new c;for(var e in this)typeof this[e]!="function"&&(s[e]=this[e]);return s}}(c.prototype=r("./object")).loadAsync=r("./load"),c.support=r("./support"),c.defaults=r("./defaults"),c.version="3.10.1",c.loadAsync=function(s,e){return new c().loadAsync(s,e)},c.external=r("./external"),E.exports=c},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,E,C){var c=r("./utils"),s=r("./external"),e=r("./utf8"),d=r("./zipEntries"),u=r("./stream/Crc32Probe"),x=r("./nodejsUtils");function I(m){return new s.Promise(function(i,p){var g=m.decompressed.getContentWorker().pipe(new u);g.on("error",function(v){p(v)}).on("end",function(){g.streamInfo.crc32!==m.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):i()}).resume()})}E.exports=function(m,i){var p=this;return i=c.extend(i||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:e.utf8decode}),x.isNode&&x.isStream(m)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):c.prepareContent("the loaded zip file",m,!0,i.optimizedBinaryString,i.base64).then(function(g){var v=new d(i);return v.load(g),v}).then(function(g){var v=[s.Promise.resolve(g)],_=g.files;if(i.checkCRC32)for(var n=0;n<_.length;n++)v.push(I(_[n]));return s.Promise.all(v)}).then(function(g){for(var v=g.shift(),_=v.files,n=0;n<_.length;n++){var y=_[n],o=y.fileNameStr,f=c.resolve(y.fileNameStr);p.file(f,y.decompressed,{binary:!0,optimizedBinaryString:!0,date:y.date,dir:y.dir,comment:y.fileCommentStr.length?y.fileCommentStr:null,unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions,createFolders:i.createFolders}),y.dir||(p.file(f).unsafeOriginalName=o)}return v.zipComment.length&&(p.comment=v.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,E,C){var c=r("../utils"),s=r("../stream/GenericWorker");function e(d,u){s.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(u)}c.inherits(e,s),e.prototype._bindStream=function(d){var u=this;(this._stream=d).pause(),d.on("data",function(x){u.push({data:x,meta:{percent:0}})}).on("error",function(x){u.isPaused?this.generatedError=x:u.error(x)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},e.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},e.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},E.exports=e},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,E,C){var c=r("readable-stream").Readable;function s(e,d,u){c.call(this,d),this._helper=e;var x=this;e.on("data",function(I,m){x.push(I)||x._helper.pause(),u&&u(m)}).on("error",function(I){x.emit("error",I)}).on("end",function(){x.push(null)})}r("../utils").inherits(s,c),s.prototype._read=function(){this._helper.resume()},E.exports=s},{"../utils":32,"readable-stream":16}],14:[function(r,E,C){E.exports={isNode:typeof Buffer<"u",newBufferFrom:function(c,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(c,s);if(typeof c=="number")throw new Error('The "data" argument must not be a number');return new Buffer(c,s)},allocBuffer:function(c){if(Buffer.alloc)return Buffer.alloc(c);var s=new Buffer(c);return s.fill(0),s},isBuffer:function(c){return Buffer.isBuffer(c)},isStream:function(c){return c&&typeof c.on=="function"&&typeof c.pause=="function"&&typeof c.resume=="function"}}},{}],15:[function(r,E,C){function c(f,l,b){var h,N=e.getTypeOf(l),R=e.extend(b||{},x);R.date=R.date||new Date,R.compression!==null&&(R.compression=R.compression.toUpperCase()),typeof R.unixPermissions=="string"&&(R.unixPermissions=parseInt(R.unixPermissions,8)),R.unixPermissions&&16384&R.unixPermissions&&(R.dir=!0),R.dosPermissions&&16&R.dosPermissions&&(R.dir=!0),R.dir&&(f=_(f)),R.createFolders&&(h=v(f))&&n.call(this,h,!0);var L=N==="string"&&R.binary===!1&&R.base64===!1;b&&b.binary!==void 0||(R.binary=!L),(l instanceof I&&l.uncompressedSize===0||R.dir||!l||l.length===0)&&(R.base64=!1,R.binary=!0,l="",R.compression="STORE",N="string");var D=null;D=l instanceof I||l instanceof d?l:p.isNode&&p.isStream(l)?new g(f,l):e.prepareContent(f,l,R.binary,R.optimizedBinaryString,R.base64);var z=new m(f,D,R);this.files[f]=z}var s=r("./utf8"),e=r("./utils"),d=r("./stream/GenericWorker"),u=r("./stream/StreamHelper"),x=r("./defaults"),I=r("./compressedObject"),m=r("./zipObject"),i=r("./generate"),p=r("./nodejsUtils"),g=r("./nodejs/NodejsStreamInputAdapter"),v=function(f){f.slice(-1)==="/"&&(f=f.substring(0,f.length-1));var l=f.lastIndexOf("/");return 0<l?f.substring(0,l):""},_=function(f){return f.slice(-1)!=="/"&&(f+="/"),f},n=function(f,l){return l=l!==void 0?l:x.createFolders,f=_(f),this.files[f]||c.call(this,f,null,{dir:!0,createFolders:l}),this.files[f]};function y(f){return Object.prototype.toString.call(f)==="[object RegExp]"}var o={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(f){var l,b,h;for(l in this.files)h=this.files[l],(b=l.slice(this.root.length,l.length))&&l.slice(0,this.root.length)===this.root&&f(b,h)},filter:function(f){var l=[];return this.forEach(function(b,h){f(b,h)&&l.push(h)}),l},file:function(f,l,b){if(arguments.length!==1)return f=this.root+f,c.call(this,f,l,b),this;if(y(f)){var h=f;return this.filter(function(R,L){return!L.dir&&h.test(R)})}var N=this.files[this.root+f];return N&&!N.dir?N:null},folder:function(f){if(!f)return this;if(y(f))return this.filter(function(N,R){return R.dir&&f.test(N)});var l=this.root+f,b=n.call(this,l),h=this.clone();return h.root=b.name,h},remove:function(f){f=this.root+f;var l=this.files[f];if(l||(f.slice(-1)!=="/"&&(f+="/"),l=this.files[f]),l&&!l.dir)delete this.files[f];else for(var b=this.filter(function(N,R){return R.name.slice(0,f.length)===f}),h=0;h<b.length;h++)delete this.files[b[h].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(f){var l,b={};try{if((b=e.extend(f||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=b.type.toLowerCase(),b.compression=b.compression.toUpperCase(),b.type==="binarystring"&&(b.type="string"),!b.type)throw new Error("No output type specified.");e.checkSupport(b.type),b.platform!=="darwin"&&b.platform!=="freebsd"&&b.platform!=="linux"&&b.platform!=="sunos"||(b.platform="UNIX"),b.platform==="win32"&&(b.platform="DOS");var h=b.comment||this.comment||"";l=i.generateWorker(this,b,h)}catch(N){(l=new d("error")).error(N)}return new u(l,b.type||"string",b.mimeType)},generateAsync:function(f,l){return this.generateInternalStream(f).accumulate(l)},generateNodeStream:function(f,l){return(f=f||{}).type||(f.type="nodebuffer"),this.generateInternalStream(f).toNodejsStream(l)}};E.exports=o},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,E,C){E.exports=r("stream")},{stream:void 0}],17:[function(r,E,C){var c=r("./DataReader");function s(e){c.call(this,e);for(var d=0;d<this.data.length;d++)e[d]=255&e[d]}r("../utils").inherits(s,c),s.prototype.byteAt=function(e){return this.data[this.zero+e]},s.prototype.lastIndexOfSignature=function(e){for(var d=e.charCodeAt(0),u=e.charCodeAt(1),x=e.charCodeAt(2),I=e.charCodeAt(3),m=this.length-4;0<=m;--m)if(this.data[m]===d&&this.data[m+1]===u&&this.data[m+2]===x&&this.data[m+3]===I)return m-this.zero;return-1},s.prototype.readAndCheckSignature=function(e){var d=e.charCodeAt(0),u=e.charCodeAt(1),x=e.charCodeAt(2),I=e.charCodeAt(3),m=this.readData(4);return d===m[0]&&u===m[1]&&x===m[2]&&I===m[3]},s.prototype.readData=function(e){if(this.checkOffset(e),e===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,d},E.exports=s},{"../utils":32,"./DataReader":18}],18:[function(r,E,C){var c=r("../utils");function s(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var d,u=0;for(this.checkOffset(e),d=this.index+e-1;d>=this.index;d--)u=(u<<8)+this.byteAt(d);return this.index+=e,u},readString:function(e){return c.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},E.exports=s},{"../utils":32}],19:[function(r,E,C){var c=r("./Uint8ArrayReader");function s(e){c.call(this,e)}r("../utils").inherits(s,c),s.prototype.readData=function(e){this.checkOffset(e);var d=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,d},E.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,E,C){var c=r("./DataReader");function s(e){c.call(this,e)}r("../utils").inherits(s,c),s.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},s.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},s.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},s.prototype.readData=function(e){this.checkOffset(e);var d=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,d},E.exports=s},{"../utils":32,"./DataReader":18}],21:[function(r,E,C){var c=r("./ArrayReader");function s(e){c.call(this,e)}r("../utils").inherits(s,c),s.prototype.readData=function(e){if(this.checkOffset(e),e===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,d},E.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(r,E,C){var c=r("../utils"),s=r("../support"),e=r("./ArrayReader"),d=r("./StringReader"),u=r("./NodeBufferReader"),x=r("./Uint8ArrayReader");E.exports=function(I){var m=c.getTypeOf(I);return c.checkSupport(m),m!=="string"||s.uint8array?m==="nodebuffer"?new u(I):s.uint8array?new x(c.transformTo("uint8array",I)):new e(c.transformTo("array",I)):new d(I)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,E,C){C.LOCAL_FILE_HEADER="PK",C.CENTRAL_FILE_HEADER="PK",C.CENTRAL_DIRECTORY_END="PK",C.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",C.ZIP64_CENTRAL_DIRECTORY_END="PK",C.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,E,C){var c=r("./GenericWorker"),s=r("../utils");function e(d){c.call(this,"ConvertWorker to "+d),this.destType=d}s.inherits(e,c),e.prototype.processChunk=function(d){this.push({data:s.transformTo(this.destType,d.data),meta:d.meta})},E.exports=e},{"../utils":32,"./GenericWorker":28}],25:[function(r,E,C){var c=r("./GenericWorker"),s=r("../crc32");function e(){c.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(e,c),e.prototype.processChunk=function(d){this.streamInfo.crc32=s(d.data,this.streamInfo.crc32||0),this.push(d)},E.exports=e},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,E,C){var c=r("../utils"),s=r("./GenericWorker");function e(d){s.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}c.inherits(e,s),e.prototype.processChunk=function(d){if(d){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+d.data.length}s.prototype.processChunk.call(this,d)},E.exports=e},{"../utils":32,"./GenericWorker":28}],27:[function(r,E,C){var c=r("../utils"),s=r("./GenericWorker");function e(d){s.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(x){u.dataIsReady=!0,u.data=x,u.max=x&&x.length||0,u.type=c.getTypeOf(x),u.isPaused||u._tickAndRepeat()},function(x){u.error(x)})}c.inherits(e,s),e.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},e.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,c.delay(this._tickAndRepeat,[],this)),!0)},e.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(c.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},e.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,u);break;case"uint8array":d=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":d=this.data.slice(this.index,u)}return this.index=u,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},E.exports=e},{"../utils":32,"./GenericWorker":28}],28:[function(r,E,C){function c(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}c.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,e){return this._listeners[s].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,e){if(this._listeners[s])for(var d=0;d<this._listeners[s].length;d++)this._listeners[s][d].call(this,e)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var e=this;return s.on("data",function(d){e.processChunk(d)}),s.on("end",function(){e.end()}),s.on("error",function(d){e.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,e){return this.extraStreamInfo[s]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},E.exports=c},{}],29:[function(r,E,C){var c=r("../utils"),s=r("./ConvertWorker"),e=r("./GenericWorker"),d=r("../base64"),u=r("../support"),x=r("../external"),I=null;if(u.nodestream)try{I=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function m(p,g){return new x.Promise(function(v,_){var n=[],y=p._internalType,o=p._outputType,f=p._mimeType;p.on("data",function(l,b){n.push(l),g&&g(b)}).on("error",function(l){n=[],_(l)}).on("end",function(){try{var l=function(b,h,N){switch(b){case"blob":return c.newBlob(c.transformTo("arraybuffer",h),N);case"base64":return d.encode(h);default:return c.transformTo(b,h)}}(o,function(b,h){var N,R=0,L=null,D=0;for(N=0;N<h.length;N++)D+=h[N].length;switch(b){case"string":return h.join("");case"array":return Array.prototype.concat.apply([],h);case"uint8array":for(L=new Uint8Array(D),N=0;N<h.length;N++)L.set(h[N],R),R+=h[N].length;return L;case"nodebuffer":return Buffer.concat(h);default:throw new Error("concat : unsupported type '"+b+"'")}}(y,n),f);v(l)}catch(b){_(b)}n=[]}).resume()})}function i(p,g,v){var _=g;switch(g){case"blob":case"arraybuffer":_="uint8array";break;case"base64":_="string"}try{this._internalType=_,this._outputType=g,this._mimeType=v,c.checkSupport(_),this._worker=p.pipe(new s(_)),p.lock()}catch(n){this._worker=new e("error"),this._worker.error(n)}}i.prototype={accumulate:function(p){return m(this,p)},on:function(p,g){var v=this;return p==="data"?this._worker.on(p,function(_){g.call(v,_.data,_.meta)}):this._worker.on(p,function(){c.delay(g,arguments,v)}),this},resume:function(){return c.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(c.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new I(this,{objectMode:this._outputType!=="nodebuffer"},p)}},E.exports=i},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,E,C){if(C.base64=!0,C.array=!0,C.string=!0,C.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",C.nodebuffer=typeof Buffer<"u",C.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")C.blob=!1;else{var c=new ArrayBuffer(0);try{C.blob=new Blob([c],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(c),C.blob=s.getBlob("application/zip").size===0}catch{C.blob=!1}}}try{C.nodestream=!!r("readable-stream").Readable}catch{C.nodestream=!1}},{"readable-stream":16}],31:[function(r,E,C){for(var c=r("./utils"),s=r("./support"),e=r("./nodejsUtils"),d=r("./stream/GenericWorker"),u=new Array(256),x=0;x<256;x++)u[x]=252<=x?6:248<=x?5:240<=x?4:224<=x?3:192<=x?2:1;u[254]=u[254]=1;function I(){d.call(this,"utf-8 decode"),this.leftOver=null}function m(){d.call(this,"utf-8 encode")}C.utf8encode=function(i){return s.nodebuffer?e.newBufferFrom(i,"utf-8"):function(p){var g,v,_,n,y,o=p.length,f=0;for(n=0;n<o;n++)(64512&(v=p.charCodeAt(n)))==55296&&n+1<o&&(64512&(_=p.charCodeAt(n+1)))==56320&&(v=65536+(v-55296<<10)+(_-56320),n++),f+=v<128?1:v<2048?2:v<65536?3:4;for(g=s.uint8array?new Uint8Array(f):new Array(f),n=y=0;y<f;n++)(64512&(v=p.charCodeAt(n)))==55296&&n+1<o&&(64512&(_=p.charCodeAt(n+1)))==56320&&(v=65536+(v-55296<<10)+(_-56320),n++),v<128?g[y++]=v:(v<2048?g[y++]=192|v>>>6:(v<65536?g[y++]=224|v>>>12:(g[y++]=240|v>>>18,g[y++]=128|v>>>12&63),g[y++]=128|v>>>6&63),g[y++]=128|63&v);return g}(i)},C.utf8decode=function(i){return s.nodebuffer?c.transformTo("nodebuffer",i).toString("utf-8"):function(p){var g,v,_,n,y=p.length,o=new Array(2*y);for(g=v=0;g<y;)if((_=p[g++])<128)o[v++]=_;else if(4<(n=u[_]))o[v++]=65533,g+=n-1;else{for(_&=n===2?31:n===3?15:7;1<n&&g<y;)_=_<<6|63&p[g++],n--;1<n?o[v++]=65533:_<65536?o[v++]=_:(_-=65536,o[v++]=55296|_>>10&1023,o[v++]=56320|1023&_)}return o.length!==v&&(o.subarray?o=o.subarray(0,v):o.length=v),c.applyFromCharCode(o)}(i=c.transformTo(s.uint8array?"uint8array":"array",i))},c.inherits(I,d),I.prototype.processChunk=function(i){var p=c.transformTo(s.uint8array?"uint8array":"array",i.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var g=p;(p=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),p.set(g,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var v=function(n,y){var o;for((y=y||n.length)>n.length&&(y=n.length),o=y-1;0<=o&&(192&n[o])==128;)o--;return o<0||o===0?y:o+u[n[o]]>y?o:y}(p),_=p;v!==p.length&&(s.uint8array?(_=p.subarray(0,v),this.leftOver=p.subarray(v,p.length)):(_=p.slice(0,v),this.leftOver=p.slice(v,p.length))),this.push({data:C.utf8decode(_),meta:i.meta})},I.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:C.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},C.Utf8DecodeWorker=I,c.inherits(m,d),m.prototype.processChunk=function(i){this.push({data:C.utf8encode(i.data),meta:i.meta})},C.Utf8EncodeWorker=m},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,E,C){var c=r("./support"),s=r("./base64"),e=r("./nodejsUtils"),d=r("./external");function u(g){return g}function x(g,v){for(var _=0;_<g.length;++_)v[_]=255&g.charCodeAt(_);return v}r("setimmediate"),C.newBlob=function(g,v){C.checkSupport("blob");try{return new Blob([g],{type:v})}catch{try{var _=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return _.append(g),_.getBlob(v)}catch{throw new Error("Bug : can't construct the Blob.")}}};var I={stringifyByChunk:function(g,v,_){var n=[],y=0,o=g.length;if(o<=_)return String.fromCharCode.apply(null,g);for(;y<o;)v==="array"||v==="nodebuffer"?n.push(String.fromCharCode.apply(null,g.slice(y,Math.min(y+_,o)))):n.push(String.fromCharCode.apply(null,g.subarray(y,Math.min(y+_,o)))),y+=_;return n.join("")},stringifyByChar:function(g){for(var v="",_=0;_<g.length;_++)v+=String.fromCharCode(g[_]);return v},applyCanBeUsed:{uint8array:function(){try{return c.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return c.nodebuffer&&String.fromCharCode.apply(null,e.allocBuffer(1)).length===1}catch{return!1}}()}};function m(g){var v=65536,_=C.getTypeOf(g),n=!0;if(_==="uint8array"?n=I.applyCanBeUsed.uint8array:_==="nodebuffer"&&(n=I.applyCanBeUsed.nodebuffer),n)for(;1<v;)try{return I.stringifyByChunk(g,_,v)}catch{v=Math.floor(v/2)}return I.stringifyByChar(g)}function i(g,v){for(var _=0;_<g.length;_++)v[_]=g[_];return v}C.applyFromCharCode=m;var p={};p.string={string:u,array:function(g){return x(g,new Array(g.length))},arraybuffer:function(g){return p.string.uint8array(g).buffer},uint8array:function(g){return x(g,new Uint8Array(g.length))},nodebuffer:function(g){return x(g,e.allocBuffer(g.length))}},p.array={string:m,array:u,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return e.newBufferFrom(g)}},p.arraybuffer={string:function(g){return m(new Uint8Array(g))},array:function(g){return i(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:u,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return e.newBufferFrom(new Uint8Array(g))}},p.uint8array={string:m,array:function(g){return i(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:u,nodebuffer:function(g){return e.newBufferFrom(g)}},p.nodebuffer={string:m,array:function(g){return i(g,new Array(g.length))},arraybuffer:function(g){return p.nodebuffer.uint8array(g).buffer},uint8array:function(g){return i(g,new Uint8Array(g.length))},nodebuffer:u},C.transformTo=function(g,v){if(v=v||"",!g)return v;C.checkSupport(g);var _=C.getTypeOf(v);return p[_][g](v)},C.resolve=function(g){for(var v=g.split("/"),_=[],n=0;n<v.length;n++){var y=v[n];y==="."||y===""&&n!==0&&n!==v.length-1||(y===".."?_.pop():_.push(y))}return _.join("/")},C.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":c.nodebuffer&&e.isBuffer(g)?"nodebuffer":c.uint8array&&g instanceof Uint8Array?"uint8array":c.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},C.checkSupport=function(g){if(!c[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},C.MAX_VALUE_16BITS=65535,C.MAX_VALUE_32BITS=-1,C.pretty=function(g){var v,_,n="";for(_=0;_<(g||"").length;_++)n+="\\x"+((v=g.charCodeAt(_))<16?"0":"")+v.toString(16).toUpperCase();return n},C.delay=function(g,v,_){setImmediate(function(){g.apply(_||null,v||[])})},C.inherits=function(g,v){function _(){}_.prototype=v.prototype,g.prototype=new _},C.extend=function(){var g,v,_={};for(g=0;g<arguments.length;g++)for(v in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],v)&&_[v]===void 0&&(_[v]=arguments[g][v]);return _},C.prepareContent=function(g,v,_,n,y){return d.Promise.resolve(v).then(function(o){return c.blob&&(o instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(o))!==-1)&&typeof FileReader<"u"?new d.Promise(function(f,l){var b=new FileReader;b.onload=function(h){f(h.target.result)},b.onerror=function(h){l(h.target.error)},b.readAsArrayBuffer(o)}):o}).then(function(o){var f=C.getTypeOf(o);return f?(f==="arraybuffer"?o=C.transformTo("uint8array",o):f==="string"&&(y?o=s.decode(o):_&&n!==!0&&(o=function(l){return x(l,c.uint8array?new Uint8Array(l.length):new Array(l.length))}(o))),o):d.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,E,C){var c=r("./reader/readerFor"),s=r("./utils"),e=r("./signature"),d=r("./zipEntry"),u=r("./support");function x(I){this.files=[],this.loadOptions=I}x.prototype={checkSignature:function(I){if(!this.reader.readAndCheckSignature(I)){this.reader.index-=4;var m=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(m)+", expected "+s.pretty(I)+")")}},isSignature:function(I,m){var i=this.reader.index;this.reader.setIndex(I);var p=this.reader.readString(4)===m;return this.reader.setIndex(i),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var I=this.reader.readData(this.zipCommentLength),m=u.uint8array?"uint8array":"array",i=s.transformTo(m,I);this.zipComment=this.loadOptions.decodeFileName(i)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var I,m,i,p=this.zip64EndOfCentralSize-44;0<p;)I=this.reader.readInt(2),m=this.reader.readInt(4),i=this.reader.readData(m),this.zip64ExtensibleData[I]={id:I,length:m,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var I,m;for(I=0;I<this.files.length;I++)m=this.files[I],this.reader.setIndex(m.localHeaderOffset),this.checkSignature(e.LOCAL_FILE_HEADER),m.readLocalPart(this.reader),m.handleUTF8(),m.processAttributes()},readCentralDir:function(){var I;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(e.CENTRAL_FILE_HEADER);)(I=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(I);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var I=this.reader.lastIndexOfSignature(e.CENTRAL_DIRECTORY_END);if(I<0)throw this.isSignature(0,e.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(I);var m=I;if(this.checkSignature(e.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(I=this.reader.lastIndexOfSignature(e.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(I),this.checkSignature(e.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,e.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(e.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(e.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var p=m-i;if(0<p)this.isSignature(m,e.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(I){this.reader=c(I)},load:function(I){this.prepareReader(I),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},E.exports=x},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,E,C){var c=r("./reader/readerFor"),s=r("./utils"),e=r("./compressedObject"),d=r("./crc32"),u=r("./utf8"),x=r("./compressions"),I=r("./support");function m(i,p){this.options=i,this.loadOptions=p}m.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(i){var p,g;if(i.skip(22),this.fileNameLength=i.readInt(2),g=i.readInt(2),this.fileName=i.readData(this.fileNameLength),i.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(v){for(var _ in x)if(Object.prototype.hasOwnProperty.call(x,_)&&x[_].magic===v)return x[_];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new e(this.compressedSize,this.uncompressedSize,this.crc32,p,i.readData(this.compressedSize))},readCentralPart:function(i){this.versionMadeBy=i.readInt(2),i.skip(2),this.bitFlag=i.readInt(2),this.compressionMethod=i.readString(2),this.date=i.readDate(),this.crc32=i.readInt(4),this.compressedSize=i.readInt(4),this.uncompressedSize=i.readInt(4);var p=i.readInt(2);if(this.extraFieldsLength=i.readInt(2),this.fileCommentLength=i.readInt(2),this.diskNumberStart=i.readInt(2),this.internalFileAttributes=i.readInt(2),this.externalFileAttributes=i.readInt(4),this.localHeaderOffset=i.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");i.skip(p),this.readExtraFields(i),this.parseZIP64ExtraField(i),this.fileComment=i.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var i=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),i==0&&(this.dosPermissions=63&this.externalFileAttributes),i==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var i=c(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=i.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=i.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=i.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=i.readInt(4))}},readExtraFields:function(i){var p,g,v,_=i.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});i.index+4<_;)p=i.readInt(2),g=i.readInt(2),v=i.readData(g),this.extraFields[p]={id:p,length:g,value:v};i.setIndex(_)},handleUTF8:function(){var i=I.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var g=s.transformTo(i,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var v=this.findExtraFieldUnicodeComment();if(v!==null)this.fileCommentStr=v;else{var _=s.transformTo(i,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(_)}}},findExtraFieldUnicodePath:function(){var i=this.extraFields[28789];if(i){var p=c(i.value);return p.readInt(1)!==1||d(this.fileName)!==p.readInt(4)?null:u.utf8decode(p.readData(i.length-5))}return null},findExtraFieldUnicodeComment:function(){var i=this.extraFields[25461];if(i){var p=c(i.value);return p.readInt(1)!==1||d(this.fileComment)!==p.readInt(4)?null:u.utf8decode(p.readData(i.length-5))}return null}},E.exports=m},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,E,C){function c(p,g,v){this.name=p,this.dir=v.dir,this.date=v.date,this.comment=v.comment,this.unixPermissions=v.unixPermissions,this.dosPermissions=v.dosPermissions,this._data=g,this._dataBinary=v.binary,this.options={compression:v.compression,compressionOptions:v.compressionOptions}}var s=r("./stream/StreamHelper"),e=r("./stream/DataWorker"),d=r("./utf8"),u=r("./compressedObject"),x=r("./stream/GenericWorker");c.prototype={internalStream:function(p){var g=null,v="string";try{if(!p)throw new Error("No output type specified.");var _=(v=p.toLowerCase())==="string"||v==="text";v!=="binarystring"&&v!=="text"||(v="string"),g=this._decompressWorker();var n=!this._dataBinary;n&&!_&&(g=g.pipe(new d.Utf8EncodeWorker)),!n&&_&&(g=g.pipe(new d.Utf8DecodeWorker))}catch(y){(g=new x("error")).error(y)}return new s(g,v,"")},async:function(p,g){return this.internalStream(p).accumulate(g)},nodeStream:function(p,g){return this.internalStream(p||"nodebuffer").toNodejsStream(g)},_compressWorker:function(p,g){if(this._data instanceof u&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var v=this._decompressWorker();return this._dataBinary||(v=v.pipe(new d.Utf8EncodeWorker)),u.createWorkerFrom(v,p,g)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof x?this._data:new e(this._data)}};for(var I=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],m=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},i=0;i<I.length;i++)c.prototype[I[i]]=m;E.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,E,C){(function(c){var s,e,d=c.MutationObserver||c.WebKitMutationObserver;if(d){var u=0,x=new d(p),I=c.document.createTextNode("");x.observe(I,{characterData:!0}),s=function(){I.data=u=++u%2}}else if(c.setImmediate||c.MessageChannel===void 0)s="document"in c&&"onreadystatechange"in c.document.createElement("script")?function(){var g=c.document.createElement("script");g.onreadystatechange=function(){p(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},c.document.documentElement.appendChild(g)}:function(){setTimeout(p,0)};else{var m=new c.MessageChannel;m.port1.onmessage=p,s=function(){m.port2.postMessage(0)}}var i=[];function p(){var g,v;e=!0;for(var _=i.length;_;){for(v=i,i=[],g=-1;++g<_;)v[g]();_=i.length}e=!1}E.exports=function(g){i.push(g)!==1||e||s()}}).call(this,typeof Te<"u"?Te:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,E,C){var c=r("immediate");function s(){}var e={},d=["REJECTED"],u=["FULFILLED"],x=["PENDING"];function I(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=x,this.queue=[],this.outcome=void 0,_!==s&&g(this,_)}function m(_,n,y){this.promise=_,typeof n=="function"&&(this.onFulfilled=n,this.callFulfilled=this.otherCallFulfilled),typeof y=="function"&&(this.onRejected=y,this.callRejected=this.otherCallRejected)}function i(_,n,y){c(function(){var o;try{o=n(y)}catch(f){return e.reject(_,f)}o===_?e.reject(_,new TypeError("Cannot resolve promise with itself")):e.resolve(_,o)})}function p(_){var n=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof n=="function")return function(){n.apply(_,arguments)}}function g(_,n){var y=!1;function o(b){y||(y=!0,e.reject(_,b))}function f(b){y||(y=!0,e.resolve(_,b))}var l=v(function(){n(f,o)});l.status==="error"&&o(l.value)}function v(_,n){var y={};try{y.value=_(n),y.status="success"}catch(o){y.status="error",y.value=o}return y}(E.exports=I).prototype.finally=function(_){if(typeof _!="function")return this;var n=this.constructor;return this.then(function(y){return n.resolve(_()).then(function(){return y})},function(y){return n.resolve(_()).then(function(){throw y})})},I.prototype.catch=function(_){return this.then(null,_)},I.prototype.then=function(_,n){if(typeof _!="function"&&this.state===u||typeof n!="function"&&this.state===d)return this;var y=new this.constructor(s);return this.state!==x?i(y,this.state===u?_:n,this.outcome):this.queue.push(new m(y,_,n)),y},m.prototype.callFulfilled=function(_){e.resolve(this.promise,_)},m.prototype.otherCallFulfilled=function(_){i(this.promise,this.onFulfilled,_)},m.prototype.callRejected=function(_){e.reject(this.promise,_)},m.prototype.otherCallRejected=function(_){i(this.promise,this.onRejected,_)},e.resolve=function(_,n){var y=v(p,n);if(y.status==="error")return e.reject(_,y.value);var o=y.value;if(o)g(_,o);else{_.state=u,_.outcome=n;for(var f=-1,l=_.queue.length;++f<l;)_.queue[f].callFulfilled(n)}return _},e.reject=function(_,n){_.state=d,_.outcome=n;for(var y=-1,o=_.queue.length;++y<o;)_.queue[y].callRejected(n);return _},I.resolve=function(_){return _ instanceof this?_:e.resolve(new this(s),_)},I.reject=function(_){var n=new this(s);return e.reject(n,_)},I.all=function(_){var n=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=_.length,o=!1;if(!y)return this.resolve([]);for(var f=new Array(y),l=0,b=-1,h=new this(s);++b<y;)N(_[b],b);return h;function N(R,L){n.resolve(R).then(function(D){f[L]=D,++l!==y||o||(o=!0,e.resolve(h,f))},function(D){o||(o=!0,e.reject(h,D))})}},I.race=function(_){var n=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=_.length,o=!1;if(!y)return this.resolve([]);for(var f=-1,l=new this(s);++f<y;)b=_[f],n.resolve(b).then(function(h){o||(o=!0,e.resolve(l,h))},function(h){o||(o=!0,e.reject(l,h))});var b;return l}},{immediate:36}],38:[function(r,E,C){var c={};(0,r("./lib/utils/common").assign)(c,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),E.exports=c},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,E,C){var c=r("./zlib/deflate"),s=r("./utils/common"),e=r("./utils/strings"),d=r("./zlib/messages"),u=r("./zlib/zstream"),x=Object.prototype.toString,I=0,m=-1,i=0,p=8;function g(_){if(!(this instanceof g))return new g(_);this.options=s.assign({level:m,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:i,to:""},_||{});var n=this.options;n.raw&&0<n.windowBits?n.windowBits=-n.windowBits:n.gzip&&0<n.windowBits&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var y=c.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(y!==I)throw new Error(d[y]);if(n.header&&c.deflateSetHeader(this.strm,n.header),n.dictionary){var o;if(o=typeof n.dictionary=="string"?e.string2buf(n.dictionary):x.call(n.dictionary)==="[object ArrayBuffer]"?new Uint8Array(n.dictionary):n.dictionary,(y=c.deflateSetDictionary(this.strm,o))!==I)throw new Error(d[y]);this._dict_set=!0}}function v(_,n){var y=new g(n);if(y.push(_,!0),y.err)throw y.msg||d[y.err];return y.result}g.prototype.push=function(_,n){var y,o,f=this.strm,l=this.options.chunkSize;if(this.ended)return!1;o=n===~~n?n:n===!0?4:0,typeof _=="string"?f.input=e.string2buf(_):x.call(_)==="[object ArrayBuffer]"?f.input=new Uint8Array(_):f.input=_,f.next_in=0,f.avail_in=f.input.length;do{if(f.avail_out===0&&(f.output=new s.Buf8(l),f.next_out=0,f.avail_out=l),(y=c.deflate(f,o))!==1&&y!==I)return this.onEnd(y),!(this.ended=!0);f.avail_out!==0&&(f.avail_in!==0||o!==4&&o!==2)||(this.options.to==="string"?this.onData(e.buf2binstring(s.shrinkBuf(f.output,f.next_out))):this.onData(s.shrinkBuf(f.output,f.next_out)))}while((0<f.avail_in||f.avail_out===0)&&y!==1);return o===4?(y=c.deflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===I):o!==2||(this.onEnd(I),!(f.avail_out=0))},g.prototype.onData=function(_){this.chunks.push(_)},g.prototype.onEnd=function(_){_===I&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},C.Deflate=g,C.deflate=v,C.deflateRaw=function(_,n){return(n=n||{}).raw=!0,v(_,n)},C.gzip=function(_,n){return(n=n||{}).gzip=!0,v(_,n)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,E,C){var c=r("./zlib/inflate"),s=r("./utils/common"),e=r("./utils/strings"),d=r("./zlib/constants"),u=r("./zlib/messages"),x=r("./zlib/zstream"),I=r("./zlib/gzheader"),m=Object.prototype.toString;function i(g){if(!(this instanceof i))return new i(g);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},g||{});var v=this.options;v.raw&&0<=v.windowBits&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),!(0<=v.windowBits&&v.windowBits<16)||g&&g.windowBits||(v.windowBits+=32),15<v.windowBits&&v.windowBits<48&&!(15&v.windowBits)&&(v.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new x,this.strm.avail_out=0;var _=c.inflateInit2(this.strm,v.windowBits);if(_!==d.Z_OK)throw new Error(u[_]);this.header=new I,c.inflateGetHeader(this.strm,this.header)}function p(g,v){var _=new i(v);if(_.push(g,!0),_.err)throw _.msg||u[_.err];return _.result}i.prototype.push=function(g,v){var _,n,y,o,f,l,b=this.strm,h=this.options.chunkSize,N=this.options.dictionary,R=!1;if(this.ended)return!1;n=v===~~v?v:v===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof g=="string"?b.input=e.binstring2buf(g):m.call(g)==="[object ArrayBuffer]"?b.input=new Uint8Array(g):b.input=g,b.next_in=0,b.avail_in=b.input.length;do{if(b.avail_out===0&&(b.output=new s.Buf8(h),b.next_out=0,b.avail_out=h),(_=c.inflate(b,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&N&&(l=typeof N=="string"?e.string2buf(N):m.call(N)==="[object ArrayBuffer]"?new Uint8Array(N):N,_=c.inflateSetDictionary(this.strm,l)),_===d.Z_BUF_ERROR&&R===!0&&(_=d.Z_OK,R=!1),_!==d.Z_STREAM_END&&_!==d.Z_OK)return this.onEnd(_),!(this.ended=!0);b.next_out&&(b.avail_out!==0&&_!==d.Z_STREAM_END&&(b.avail_in!==0||n!==d.Z_FINISH&&n!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(y=e.utf8border(b.output,b.next_out),o=b.next_out-y,f=e.buf2string(b.output,y),b.next_out=o,b.avail_out=h-o,o&&s.arraySet(b.output,b.output,y,o,0),this.onData(f)):this.onData(s.shrinkBuf(b.output,b.next_out)))),b.avail_in===0&&b.avail_out===0&&(R=!0)}while((0<b.avail_in||b.avail_out===0)&&_!==d.Z_STREAM_END);return _===d.Z_STREAM_END&&(n=d.Z_FINISH),n===d.Z_FINISH?(_=c.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===d.Z_OK):n!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(b.avail_out=0))},i.prototype.onData=function(g){this.chunks.push(g)},i.prototype.onEnd=function(g){g===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},C.Inflate=i,C.inflate=p,C.inflateRaw=function(g,v){return(v=v||{}).raw=!0,p(g,v)},C.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,E,C){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";C.assign=function(d){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var x=u.shift();if(x){if(typeof x!="object")throw new TypeError(x+"must be non-object");for(var I in x)x.hasOwnProperty(I)&&(d[I]=x[I])}}return d},C.shrinkBuf=function(d,u){return d.length===u?d:d.subarray?d.subarray(0,u):(d.length=u,d)};var s={arraySet:function(d,u,x,I,m){if(u.subarray&&d.subarray)d.set(u.subarray(x,x+I),m);else for(var i=0;i<I;i++)d[m+i]=u[x+i]},flattenChunks:function(d){var u,x,I,m,i,p;for(u=I=0,x=d.length;u<x;u++)I+=d[u].length;for(p=new Uint8Array(I),u=m=0,x=d.length;u<x;u++)i=d[u],p.set(i,m),m+=i.length;return p}},e={arraySet:function(d,u,x,I,m){for(var i=0;i<I;i++)d[m+i]=u[x+i]},flattenChunks:function(d){return[].concat.apply([],d)}};C.setTyped=function(d){d?(C.Buf8=Uint8Array,C.Buf16=Uint16Array,C.Buf32=Int32Array,C.assign(C,s)):(C.Buf8=Array,C.Buf16=Array,C.Buf32=Array,C.assign(C,e))},C.setTyped(c)},{}],42:[function(r,E,C){var c=r("./common"),s=!0,e=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{e=!1}for(var d=new c.Buf8(256),u=0;u<256;u++)d[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function x(I,m){if(m<65537&&(I.subarray&&e||!I.subarray&&s))return String.fromCharCode.apply(null,c.shrinkBuf(I,m));for(var i="",p=0;p<m;p++)i+=String.fromCharCode(I[p]);return i}d[254]=d[254]=1,C.string2buf=function(I){var m,i,p,g,v,_=I.length,n=0;for(g=0;g<_;g++)(64512&(i=I.charCodeAt(g)))==55296&&g+1<_&&(64512&(p=I.charCodeAt(g+1)))==56320&&(i=65536+(i-55296<<10)+(p-56320),g++),n+=i<128?1:i<2048?2:i<65536?3:4;for(m=new c.Buf8(n),g=v=0;v<n;g++)(64512&(i=I.charCodeAt(g)))==55296&&g+1<_&&(64512&(p=I.charCodeAt(g+1)))==56320&&(i=65536+(i-55296<<10)+(p-56320),g++),i<128?m[v++]=i:(i<2048?m[v++]=192|i>>>6:(i<65536?m[v++]=224|i>>>12:(m[v++]=240|i>>>18,m[v++]=128|i>>>12&63),m[v++]=128|i>>>6&63),m[v++]=128|63&i);return m},C.buf2binstring=function(I){return x(I,I.length)},C.binstring2buf=function(I){for(var m=new c.Buf8(I.length),i=0,p=m.length;i<p;i++)m[i]=I.charCodeAt(i);return m},C.buf2string=function(I,m){var i,p,g,v,_=m||I.length,n=new Array(2*_);for(i=p=0;i<_;)if((g=I[i++])<128)n[p++]=g;else if(4<(v=d[g]))n[p++]=65533,i+=v-1;else{for(g&=v===2?31:v===3?15:7;1<v&&i<_;)g=g<<6|63&I[i++],v--;1<v?n[p++]=65533:g<65536?n[p++]=g:(g-=65536,n[p++]=55296|g>>10&1023,n[p++]=56320|1023&g)}return x(n,p)},C.utf8border=function(I,m){var i;for((m=m||I.length)>I.length&&(m=I.length),i=m-1;0<=i&&(192&I[i])==128;)i--;return i<0||i===0?m:i+d[I[i]]>m?i:m}},{"./common":41}],43:[function(r,E,C){E.exports=function(c,s,e,d){for(var u=65535&c|0,x=c>>>16&65535|0,I=0;e!==0;){for(e-=I=2e3<e?2e3:e;x=x+(u=u+s[d++]|0)|0,--I;);u%=65521,x%=65521}return u|x<<16|0}},{}],44:[function(r,E,C){E.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,E,C){var c=function(){for(var s,e=[],d=0;d<256;d++){s=d;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;e[d]=s}return e}();E.exports=function(s,e,d,u){var x=c,I=u+d;s^=-1;for(var m=u;m<I;m++)s=s>>>8^x[255&(s^e[m])];return-1^s}},{}],46:[function(r,E,C){var c,s=r("../utils/common"),e=r("./trees"),d=r("./adler32"),u=r("./crc32"),x=r("./messages"),I=0,m=4,i=0,p=-2,g=-1,v=4,_=2,n=8,y=9,o=286,f=30,l=19,b=2*o+1,h=15,N=3,R=258,L=R+N+1,D=42,z=113,k=1,Z=2,$=3,oe=4;function fe(T,M){return T.msg=x[M],M}function ae(T){return(T<<1)-(4<T?9:0)}function ge(T){for(var M=T.length;0<=--M;)T[M]=0}function ee(T){var M=T.state,Q=M.pending;Q>T.avail_out&&(Q=T.avail_out),Q!==0&&(s.arraySet(T.output,M.pending_buf,M.pending_out,Q,T.next_out),T.next_out+=Q,M.pending_out+=Q,T.total_out+=Q,T.avail_out-=Q,M.pending-=Q,M.pending===0&&(M.pending_out=0))}function J(T,M){e._tr_flush_block(T,0<=T.block_start?T.block_start:-1,T.strstart-T.block_start,M),T.block_start=T.strstart,ee(T.strm)}function xe(T,M){T.pending_buf[T.pending++]=M}function ne(T,M){T.pending_buf[T.pending++]=M>>>8&255,T.pending_buf[T.pending++]=255&M}function ce(T,M){var Q,H,q=T.max_chain_length,G=T.strstart,re=T.prev_length,ue=T.nice_match,X=T.strstart>T.w_size-L?T.strstart-(T.w_size-L):0,le=T.window,ve=T.w_mask,he=T.prev,Ce=T.strstart+R,P=le[G+re-1],w=le[G+re];T.prev_length>=T.good_match&&(q>>=2),ue>T.lookahead&&(ue=T.lookahead);do if(le[(Q=M)+re]===w&&le[Q+re-1]===P&&le[Q]===le[G]&&le[++Q]===le[G+1]){G+=2,Q++;do;while(le[++G]===le[++Q]&&le[++G]===le[++Q]&&le[++G]===le[++Q]&&le[++G]===le[++Q]&&le[++G]===le[++Q]&&le[++G]===le[++Q]&&le[++G]===le[++Q]&&le[++G]===le[++Q]&&G<Ce);if(H=R-(Ce-G),G=Ce-R,re<H){if(T.match_start=M,ue<=(re=H))break;P=le[G+re-1],w=le[G+re]}}while((M=he[M&ve])>X&&--q!=0);return re<=T.lookahead?re:T.lookahead}function ye(T){var M,Q,H,q,G,re,ue,X,le,ve,he=T.w_size;do{if(q=T.window_size-T.lookahead-T.strstart,T.strstart>=he+(he-L)){for(s.arraySet(T.window,T.window,he,he,0),T.match_start-=he,T.strstart-=he,T.block_start-=he,M=Q=T.hash_size;H=T.head[--M],T.head[M]=he<=H?H-he:0,--Q;);for(M=Q=he;H=T.prev[--M],T.prev[M]=he<=H?H-he:0,--Q;);q+=he}if(T.strm.avail_in===0)break;if(re=T.strm,ue=T.window,X=T.strstart+T.lookahead,le=q,ve=void 0,ve=re.avail_in,le<ve&&(ve=le),Q=ve===0?0:(re.avail_in-=ve,s.arraySet(ue,re.input,re.next_in,ve,X),re.state.wrap===1?re.adler=d(re.adler,ue,ve,X):re.state.wrap===2&&(re.adler=u(re.adler,ue,ve,X)),re.next_in+=ve,re.total_in+=ve,ve),T.lookahead+=Q,T.lookahead+T.insert>=N)for(G=T.strstart-T.insert,T.ins_h=T.window[G],T.ins_h=(T.ins_h<<T.hash_shift^T.window[G+1])&T.hash_mask;T.insert&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[G+N-1])&T.hash_mask,T.prev[G&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=G,G++,T.insert--,!(T.lookahead+T.insert<N)););}while(T.lookahead<L&&T.strm.avail_in!==0)}function ke(T,M){for(var Q,H;;){if(T.lookahead<L){if(ye(T),T.lookahead<L&&M===I)return k;if(T.lookahead===0)break}if(Q=0,T.lookahead>=N&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+N-1])&T.hash_mask,Q=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart),Q!==0&&T.strstart-Q<=T.w_size-L&&(T.match_length=ce(T,Q)),T.match_length>=N)if(H=e._tr_tally(T,T.strstart-T.match_start,T.match_length-N),T.lookahead-=T.match_length,T.match_length<=T.max_lazy_match&&T.lookahead>=N){for(T.match_length--;T.strstart++,T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+N-1])&T.hash_mask,Q=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart,--T.match_length!=0;);T.strstart++}else T.strstart+=T.match_length,T.match_length=0,T.ins_h=T.window[T.strstart],T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+1])&T.hash_mask;else H=e._tr_tally(T,0,T.window[T.strstart]),T.lookahead--,T.strstart++;if(H&&(J(T,!1),T.strm.avail_out===0))return k}return T.insert=T.strstart<N-1?T.strstart:N-1,M===m?(J(T,!0),T.strm.avail_out===0?$:oe):T.last_lit&&(J(T,!1),T.strm.avail_out===0)?k:Z}function me(T,M){for(var Q,H,q;;){if(T.lookahead<L){if(ye(T),T.lookahead<L&&M===I)return k;if(T.lookahead===0)break}if(Q=0,T.lookahead>=N&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+N-1])&T.hash_mask,Q=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart),T.prev_length=T.match_length,T.prev_match=T.match_start,T.match_length=N-1,Q!==0&&T.prev_length<T.max_lazy_match&&T.strstart-Q<=T.w_size-L&&(T.match_length=ce(T,Q),T.match_length<=5&&(T.strategy===1||T.match_length===N&&4096<T.strstart-T.match_start)&&(T.match_length=N-1)),T.prev_length>=N&&T.match_length<=T.prev_length){for(q=T.strstart+T.lookahead-N,H=e._tr_tally(T,T.strstart-1-T.prev_match,T.prev_length-N),T.lookahead-=T.prev_length-1,T.prev_length-=2;++T.strstart<=q&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+N-1])&T.hash_mask,Q=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart),--T.prev_length!=0;);if(T.match_available=0,T.match_length=N-1,T.strstart++,H&&(J(T,!1),T.strm.avail_out===0))return k}else if(T.match_available){if((H=e._tr_tally(T,0,T.window[T.strstart-1]))&&J(T,!1),T.strstart++,T.lookahead--,T.strm.avail_out===0)return k}else T.match_available=1,T.strstart++,T.lookahead--}return T.match_available&&(H=e._tr_tally(T,0,T.window[T.strstart-1]),T.match_available=0),T.insert=T.strstart<N-1?T.strstart:N-1,M===m?(J(T,!0),T.strm.avail_out===0?$:oe):T.last_lit&&(J(T,!1),T.strm.avail_out===0)?k:Z}function A(T,M,Q,H,q){this.good_length=T,this.max_lazy=M,this.nice_length=Q,this.max_chain=H,this.func=q}function K(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=n,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*b),this.dyn_dtree=new s.Buf16(2*(2*f+1)),this.bl_tree=new s.Buf16(2*(2*l+1)),ge(this.dyn_ltree),ge(this.dyn_dtree),ge(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(h+1),this.heap=new s.Buf16(2*o+1),ge(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*o+1),ge(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function F(T){var M;return T&&T.state?(T.total_in=T.total_out=0,T.data_type=_,(M=T.state).pending=0,M.pending_out=0,M.wrap<0&&(M.wrap=-M.wrap),M.status=M.wrap?D:z,T.adler=M.wrap===2?0:1,M.last_flush=I,e._tr_init(M),i):fe(T,p)}function S(T){var M=F(T);return M===i&&function(Q){Q.window_size=2*Q.w_size,ge(Q.head),Q.max_lazy_match=c[Q.level].max_lazy,Q.good_match=c[Q.level].good_length,Q.nice_match=c[Q.level].nice_length,Q.max_chain_length=c[Q.level].max_chain,Q.strstart=0,Q.block_start=0,Q.lookahead=0,Q.insert=0,Q.match_length=Q.prev_length=N-1,Q.match_available=0,Q.ins_h=0}(T.state),M}function O(T,M,Q,H,q,G){if(!T)return p;var re=1;if(M===g&&(M=6),H<0?(re=0,H=-H):15<H&&(re=2,H-=16),q<1||y<q||Q!==n||H<8||15<H||M<0||9<M||G<0||v<G)return fe(T,p);H===8&&(H=9);var ue=new K;return(T.state=ue).strm=T,ue.wrap=re,ue.gzhead=null,ue.w_bits=H,ue.w_size=1<<ue.w_bits,ue.w_mask=ue.w_size-1,ue.hash_bits=q+7,ue.hash_size=1<<ue.hash_bits,ue.hash_mask=ue.hash_size-1,ue.hash_shift=~~((ue.hash_bits+N-1)/N),ue.window=new s.Buf8(2*ue.w_size),ue.head=new s.Buf16(ue.hash_size),ue.prev=new s.Buf16(ue.w_size),ue.lit_bufsize=1<<q+6,ue.pending_buf_size=4*ue.lit_bufsize,ue.pending_buf=new s.Buf8(ue.pending_buf_size),ue.d_buf=1*ue.lit_bufsize,ue.l_buf=3*ue.lit_bufsize,ue.level=M,ue.strategy=G,ue.method=Q,S(T)}c=[new A(0,0,0,0,function(T,M){var Q=65535;for(Q>T.pending_buf_size-5&&(Q=T.pending_buf_size-5);;){if(T.lookahead<=1){if(ye(T),T.lookahead===0&&M===I)return k;if(T.lookahead===0)break}T.strstart+=T.lookahead,T.lookahead=0;var H=T.block_start+Q;if((T.strstart===0||T.strstart>=H)&&(T.lookahead=T.strstart-H,T.strstart=H,J(T,!1),T.strm.avail_out===0)||T.strstart-T.block_start>=T.w_size-L&&(J(T,!1),T.strm.avail_out===0))return k}return T.insert=0,M===m?(J(T,!0),T.strm.avail_out===0?$:oe):(T.strstart>T.block_start&&(J(T,!1),T.strm.avail_out),k)}),new A(4,4,8,4,ke),new A(4,5,16,8,ke),new A(4,6,32,32,ke),new A(4,4,16,16,me),new A(8,16,32,32,me),new A(8,16,128,128,me),new A(8,32,128,256,me),new A(32,128,258,1024,me),new A(32,258,258,4096,me)],C.deflateInit=function(T,M){return O(T,M,n,15,8,0)},C.deflateInit2=O,C.deflateReset=S,C.deflateResetKeep=F,C.deflateSetHeader=function(T,M){return T&&T.state?T.state.wrap!==2?p:(T.state.gzhead=M,i):p},C.deflate=function(T,M){var Q,H,q,G;if(!T||!T.state||5<M||M<0)return T?fe(T,p):p;if(H=T.state,!T.output||!T.input&&T.avail_in!==0||H.status===666&&M!==m)return fe(T,T.avail_out===0?-5:p);if(H.strm=T,Q=H.last_flush,H.last_flush=M,H.status===D)if(H.wrap===2)T.adler=0,xe(H,31),xe(H,139),xe(H,8),H.gzhead?(xe(H,(H.gzhead.text?1:0)+(H.gzhead.hcrc?2:0)+(H.gzhead.extra?4:0)+(H.gzhead.name?8:0)+(H.gzhead.comment?16:0)),xe(H,255&H.gzhead.time),xe(H,H.gzhead.time>>8&255),xe(H,H.gzhead.time>>16&255),xe(H,H.gzhead.time>>24&255),xe(H,H.level===9?2:2<=H.strategy||H.level<2?4:0),xe(H,255&H.gzhead.os),H.gzhead.extra&&H.gzhead.extra.length&&(xe(H,255&H.gzhead.extra.length),xe(H,H.gzhead.extra.length>>8&255)),H.gzhead.hcrc&&(T.adler=u(T.adler,H.pending_buf,H.pending,0)),H.gzindex=0,H.status=69):(xe(H,0),xe(H,0),xe(H,0),xe(H,0),xe(H,0),xe(H,H.level===9?2:2<=H.strategy||H.level<2?4:0),xe(H,3),H.status=z);else{var re=n+(H.w_bits-8<<4)<<8;re|=(2<=H.strategy||H.level<2?0:H.level<6?1:H.level===6?2:3)<<6,H.strstart!==0&&(re|=32),re+=31-re%31,H.status=z,ne(H,re),H.strstart!==0&&(ne(H,T.adler>>>16),ne(H,65535&T.adler)),T.adler=1}if(H.status===69)if(H.gzhead.extra){for(q=H.pending;H.gzindex<(65535&H.gzhead.extra.length)&&(H.pending!==H.pending_buf_size||(H.gzhead.hcrc&&H.pending>q&&(T.adler=u(T.adler,H.pending_buf,H.pending-q,q)),ee(T),q=H.pending,H.pending!==H.pending_buf_size));)xe(H,255&H.gzhead.extra[H.gzindex]),H.gzindex++;H.gzhead.hcrc&&H.pending>q&&(T.adler=u(T.adler,H.pending_buf,H.pending-q,q)),H.gzindex===H.gzhead.extra.length&&(H.gzindex=0,H.status=73)}else H.status=73;if(H.status===73)if(H.gzhead.name){q=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>q&&(T.adler=u(T.adler,H.pending_buf,H.pending-q,q)),ee(T),q=H.pending,H.pending===H.pending_buf_size)){G=1;break}G=H.gzindex<H.gzhead.name.length?255&H.gzhead.name.charCodeAt(H.gzindex++):0,xe(H,G)}while(G!==0);H.gzhead.hcrc&&H.pending>q&&(T.adler=u(T.adler,H.pending_buf,H.pending-q,q)),G===0&&(H.gzindex=0,H.status=91)}else H.status=91;if(H.status===91)if(H.gzhead.comment){q=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>q&&(T.adler=u(T.adler,H.pending_buf,H.pending-q,q)),ee(T),q=H.pending,H.pending===H.pending_buf_size)){G=1;break}G=H.gzindex<H.gzhead.comment.length?255&H.gzhead.comment.charCodeAt(H.gzindex++):0,xe(H,G)}while(G!==0);H.gzhead.hcrc&&H.pending>q&&(T.adler=u(T.adler,H.pending_buf,H.pending-q,q)),G===0&&(H.status=103)}else H.status=103;if(H.status===103&&(H.gzhead.hcrc?(H.pending+2>H.pending_buf_size&&ee(T),H.pending+2<=H.pending_buf_size&&(xe(H,255&T.adler),xe(H,T.adler>>8&255),T.adler=0,H.status=z)):H.status=z),H.pending!==0){if(ee(T),T.avail_out===0)return H.last_flush=-1,i}else if(T.avail_in===0&&ae(M)<=ae(Q)&&M!==m)return fe(T,-5);if(H.status===666&&T.avail_in!==0)return fe(T,-5);if(T.avail_in!==0||H.lookahead!==0||M!==I&&H.status!==666){var ue=H.strategy===2?function(X,le){for(var ve;;){if(X.lookahead===0&&(ye(X),X.lookahead===0)){if(le===I)return k;break}if(X.match_length=0,ve=e._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++,ve&&(J(X,!1),X.strm.avail_out===0))return k}return X.insert=0,le===m?(J(X,!0),X.strm.avail_out===0?$:oe):X.last_lit&&(J(X,!1),X.strm.avail_out===0)?k:Z}(H,M):H.strategy===3?function(X,le){for(var ve,he,Ce,P,w=X.window;;){if(X.lookahead<=R){if(ye(X),X.lookahead<=R&&le===I)return k;if(X.lookahead===0)break}if(X.match_length=0,X.lookahead>=N&&0<X.strstart&&(he=w[Ce=X.strstart-1])===w[++Ce]&&he===w[++Ce]&&he===w[++Ce]){P=X.strstart+R;do;while(he===w[++Ce]&&he===w[++Ce]&&he===w[++Ce]&&he===w[++Ce]&&he===w[++Ce]&&he===w[++Ce]&&he===w[++Ce]&&he===w[++Ce]&&Ce<P);X.match_length=R-(P-Ce),X.match_length>X.lookahead&&(X.match_length=X.lookahead)}if(X.match_length>=N?(ve=e._tr_tally(X,1,X.match_length-N),X.lookahead-=X.match_length,X.strstart+=X.match_length,X.match_length=0):(ve=e._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++),ve&&(J(X,!1),X.strm.avail_out===0))return k}return X.insert=0,le===m?(J(X,!0),X.strm.avail_out===0?$:oe):X.last_lit&&(J(X,!1),X.strm.avail_out===0)?k:Z}(H,M):c[H.level].func(H,M);if(ue!==$&&ue!==oe||(H.status=666),ue===k||ue===$)return T.avail_out===0&&(H.last_flush=-1),i;if(ue===Z&&(M===1?e._tr_align(H):M!==5&&(e._tr_stored_block(H,0,0,!1),M===3&&(ge(H.head),H.lookahead===0&&(H.strstart=0,H.block_start=0,H.insert=0))),ee(T),T.avail_out===0))return H.last_flush=-1,i}return M!==m?i:H.wrap<=0?1:(H.wrap===2?(xe(H,255&T.adler),xe(H,T.adler>>8&255),xe(H,T.adler>>16&255),xe(H,T.adler>>24&255),xe(H,255&T.total_in),xe(H,T.total_in>>8&255),xe(H,T.total_in>>16&255),xe(H,T.total_in>>24&255)):(ne(H,T.adler>>>16),ne(H,65535&T.adler)),ee(T),0<H.wrap&&(H.wrap=-H.wrap),H.pending!==0?i:1)},C.deflateEnd=function(T){var M;return T&&T.state?(M=T.state.status)!==D&&M!==69&&M!==73&&M!==91&&M!==103&&M!==z&&M!==666?fe(T,p):(T.state=null,M===z?fe(T,-3):i):p},C.deflateSetDictionary=function(T,M){var Q,H,q,G,re,ue,X,le,ve=M.length;if(!T||!T.state||(G=(Q=T.state).wrap)===2||G===1&&Q.status!==D||Q.lookahead)return p;for(G===1&&(T.adler=d(T.adler,M,ve,0)),Q.wrap=0,ve>=Q.w_size&&(G===0&&(ge(Q.head),Q.strstart=0,Q.block_start=0,Q.insert=0),le=new s.Buf8(Q.w_size),s.arraySet(le,M,ve-Q.w_size,Q.w_size,0),M=le,ve=Q.w_size),re=T.avail_in,ue=T.next_in,X=T.input,T.avail_in=ve,T.next_in=0,T.input=M,ye(Q);Q.lookahead>=N;){for(H=Q.strstart,q=Q.lookahead-(N-1);Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[H+N-1])&Q.hash_mask,Q.prev[H&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=H,H++,--q;);Q.strstart=H,Q.lookahead=N-1,ye(Q)}return Q.strstart+=Q.lookahead,Q.block_start=Q.strstart,Q.insert=Q.lookahead,Q.lookahead=0,Q.match_length=Q.prev_length=N-1,Q.match_available=0,T.next_in=ue,T.input=X,T.avail_in=re,Q.wrap=G,i},C.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,E,C){E.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,E,C){E.exports=function(c,s){var e,d,u,x,I,m,i,p,g,v,_,n,y,o,f,l,b,h,N,R,L,D,z,k,Z;e=c.state,d=c.next_in,k=c.input,u=d+(c.avail_in-5),x=c.next_out,Z=c.output,I=x-(s-c.avail_out),m=x+(c.avail_out-257),i=e.dmax,p=e.wsize,g=e.whave,v=e.wnext,_=e.window,n=e.hold,y=e.bits,o=e.lencode,f=e.distcode,l=(1<<e.lenbits)-1,b=(1<<e.distbits)-1;e:do{y<15&&(n+=k[d++]<<y,y+=8,n+=k[d++]<<y,y+=8),h=o[n&l];t:for(;;){if(n>>>=N=h>>>24,y-=N,(N=h>>>16&255)===0)Z[x++]=65535&h;else{if(!(16&N)){if(!(64&N)){h=o[(65535&h)+(n&(1<<N)-1)];continue t}if(32&N){e.mode=12;break e}c.msg="invalid literal/length code",e.mode=30;break e}R=65535&h,(N&=15)&&(y<N&&(n+=k[d++]<<y,y+=8),R+=n&(1<<N)-1,n>>>=N,y-=N),y<15&&(n+=k[d++]<<y,y+=8,n+=k[d++]<<y,y+=8),h=f[n&b];r:for(;;){if(n>>>=N=h>>>24,y-=N,!(16&(N=h>>>16&255))){if(!(64&N)){h=f[(65535&h)+(n&(1<<N)-1)];continue r}c.msg="invalid distance code",e.mode=30;break e}if(L=65535&h,y<(N&=15)&&(n+=k[d++]<<y,(y+=8)<N&&(n+=k[d++]<<y,y+=8)),i<(L+=n&(1<<N)-1)){c.msg="invalid distance too far back",e.mode=30;break e}if(n>>>=N,y-=N,(N=x-I)<L){if(g<(N=L-N)&&e.sane){c.msg="invalid distance too far back",e.mode=30;break e}if(z=_,(D=0)===v){if(D+=p-N,N<R){for(R-=N;Z[x++]=_[D++],--N;);D=x-L,z=Z}}else if(v<N){if(D+=p+v-N,(N-=v)<R){for(R-=N;Z[x++]=_[D++],--N;);if(D=0,v<R){for(R-=N=v;Z[x++]=_[D++],--N;);D=x-L,z=Z}}}else if(D+=v-N,N<R){for(R-=N;Z[x++]=_[D++],--N;);D=x-L,z=Z}for(;2<R;)Z[x++]=z[D++],Z[x++]=z[D++],Z[x++]=z[D++],R-=3;R&&(Z[x++]=z[D++],1<R&&(Z[x++]=z[D++]))}else{for(D=x-L;Z[x++]=Z[D++],Z[x++]=Z[D++],Z[x++]=Z[D++],2<(R-=3););R&&(Z[x++]=Z[D++],1<R&&(Z[x++]=Z[D++]))}break}}break}}while(d<u&&x<m);d-=R=y>>3,n&=(1<<(y-=R<<3))-1,c.next_in=d,c.next_out=x,c.avail_in=d<u?u-d+5:5-(d-u),c.avail_out=x<m?m-x+257:257-(x-m),e.hold=n,e.bits=y}},{}],49:[function(r,E,C){var c=r("../utils/common"),s=r("./adler32"),e=r("./crc32"),d=r("./inffast"),u=r("./inftrees"),x=1,I=2,m=0,i=-2,p=1,g=852,v=592;function _(D){return(D>>>24&255)+(D>>>8&65280)+((65280&D)<<8)+((255&D)<<24)}function n(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function y(D){var z;return D&&D.state?(z=D.state,D.total_in=D.total_out=z.total=0,D.msg="",z.wrap&&(D.adler=1&z.wrap),z.mode=p,z.last=0,z.havedict=0,z.dmax=32768,z.head=null,z.hold=0,z.bits=0,z.lencode=z.lendyn=new c.Buf32(g),z.distcode=z.distdyn=new c.Buf32(v),z.sane=1,z.back=-1,m):i}function o(D){var z;return D&&D.state?((z=D.state).wsize=0,z.whave=0,z.wnext=0,y(D)):i}function f(D,z){var k,Z;return D&&D.state?(Z=D.state,z<0?(k=0,z=-z):(k=1+(z>>4),z<48&&(z&=15)),z&&(z<8||15<z)?i:(Z.window!==null&&Z.wbits!==z&&(Z.window=null),Z.wrap=k,Z.wbits=z,o(D))):i}function l(D,z){var k,Z;return D?(Z=new n,(D.state=Z).window=null,(k=f(D,z))!==m&&(D.state=null),k):i}var b,h,N=!0;function R(D){if(N){var z;for(b=new c.Buf32(512),h=new c.Buf32(32),z=0;z<144;)D.lens[z++]=8;for(;z<256;)D.lens[z++]=9;for(;z<280;)D.lens[z++]=7;for(;z<288;)D.lens[z++]=8;for(u(x,D.lens,0,288,b,0,D.work,{bits:9}),z=0;z<32;)D.lens[z++]=5;u(I,D.lens,0,32,h,0,D.work,{bits:5}),N=!1}D.lencode=b,D.lenbits=9,D.distcode=h,D.distbits=5}function L(D,z,k,Z){var $,oe=D.state;return oe.window===null&&(oe.wsize=1<<oe.wbits,oe.wnext=0,oe.whave=0,oe.window=new c.Buf8(oe.wsize)),Z>=oe.wsize?(c.arraySet(oe.window,z,k-oe.wsize,oe.wsize,0),oe.wnext=0,oe.whave=oe.wsize):(Z<($=oe.wsize-oe.wnext)&&($=Z),c.arraySet(oe.window,z,k-Z,$,oe.wnext),(Z-=$)?(c.arraySet(oe.window,z,k-Z,Z,0),oe.wnext=Z,oe.whave=oe.wsize):(oe.wnext+=$,oe.wnext===oe.wsize&&(oe.wnext=0),oe.whave<oe.wsize&&(oe.whave+=$))),0}C.inflateReset=o,C.inflateReset2=f,C.inflateResetKeep=y,C.inflateInit=function(D){return l(D,15)},C.inflateInit2=l,C.inflate=function(D,z){var k,Z,$,oe,fe,ae,ge,ee,J,xe,ne,ce,ye,ke,me,A,K,F,S,O,T,M,Q,H,q=0,G=new c.Buf8(4),re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!D||!D.state||!D.output||!D.input&&D.avail_in!==0)return i;(k=D.state).mode===12&&(k.mode=13),fe=D.next_out,$=D.output,ge=D.avail_out,oe=D.next_in,Z=D.input,ae=D.avail_in,ee=k.hold,J=k.bits,xe=ae,ne=ge,M=m;e:for(;;)switch(k.mode){case p:if(k.wrap===0){k.mode=13;break}for(;J<16;){if(ae===0)break e;ae--,ee+=Z[oe++]<<J,J+=8}if(2&k.wrap&&ee===35615){G[k.check=0]=255&ee,G[1]=ee>>>8&255,k.check=e(k.check,G,2,0),J=ee=0,k.mode=2;break}if(k.flags=0,k.head&&(k.head.done=!1),!(1&k.wrap)||(((255&ee)<<8)+(ee>>8))%31){D.msg="incorrect header check",k.mode=30;break}if((15&ee)!=8){D.msg="unknown compression method",k.mode=30;break}if(J-=4,T=8+(15&(ee>>>=4)),k.wbits===0)k.wbits=T;else if(T>k.wbits){D.msg="invalid window size",k.mode=30;break}k.dmax=1<<T,D.adler=k.check=1,k.mode=512&ee?10:12,J=ee=0;break;case 2:for(;J<16;){if(ae===0)break e;ae--,ee+=Z[oe++]<<J,J+=8}if(k.flags=ee,(255&k.flags)!=8){D.msg="unknown compression method",k.mode=30;break}if(57344&k.flags){D.msg="unknown header flags set",k.mode=30;break}k.head&&(k.head.text=ee>>8&1),512&k.flags&&(G[0]=255&ee,G[1]=ee>>>8&255,k.check=e(k.check,G,2,0)),J=ee=0,k.mode=3;case 3:for(;J<32;){if(ae===0)break e;ae--,ee+=Z[oe++]<<J,J+=8}k.head&&(k.head.time=ee),512&k.flags&&(G[0]=255&ee,G[1]=ee>>>8&255,G[2]=ee>>>16&255,G[3]=ee>>>24&255,k.check=e(k.check,G,4,0)),J=ee=0,k.mode=4;case 4:for(;J<16;){if(ae===0)break e;ae--,ee+=Z[oe++]<<J,J+=8}k.head&&(k.head.xflags=255&ee,k.head.os=ee>>8),512&k.flags&&(G[0]=255&ee,G[1]=ee>>>8&255,k.check=e(k.check,G,2,0)),J=ee=0,k.mode=5;case 5:if(1024&k.flags){for(;J<16;){if(ae===0)break e;ae--,ee+=Z[oe++]<<J,J+=8}k.length=ee,k.head&&(k.head.extra_len=ee),512&k.flags&&(G[0]=255&ee,G[1]=ee>>>8&255,k.check=e(k.check,G,2,0)),J=ee=0}else k.head&&(k.head.extra=null);k.mode=6;case 6:if(1024&k.flags&&(ae<(ce=k.length)&&(ce=ae),ce&&(k.head&&(T=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),c.arraySet(k.head.extra,Z,oe,ce,T)),512&k.flags&&(k.check=e(k.check,Z,ce,oe)),ae-=ce,oe+=ce,k.length-=ce),k.length))break e;k.length=0,k.mode=7;case 7:if(2048&k.flags){if(ae===0)break e;for(ce=0;T=Z[oe+ce++],k.head&&T&&k.length<65536&&(k.head.name+=String.fromCharCode(T)),T&&ce<ae;);if(512&k.flags&&(k.check=e(k.check,Z,ce,oe)),ae-=ce,oe+=ce,T)break e}else k.head&&(k.head.name=null);k.length=0,k.mode=8;case 8:if(4096&k.flags){if(ae===0)break e;for(ce=0;T=Z[oe+ce++],k.head&&T&&k.length<65536&&(k.head.comment+=String.fromCharCode(T)),T&&ce<ae;);if(512&k.flags&&(k.check=e(k.check,Z,ce,oe)),ae-=ce,oe+=ce,T)break e}else k.head&&(k.head.comment=null);k.mode=9;case 9:if(512&k.flags){for(;J<16;){if(ae===0)break e;ae--,ee+=Z[oe++]<<J,J+=8}if(ee!==(65535&k.check)){D.msg="header crc mismatch",k.mode=30;break}J=ee=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),D.adler=k.check=0,k.mode=12;break;case 10:for(;J<32;){if(ae===0)break e;ae--,ee+=Z[oe++]<<J,J+=8}D.adler=k.check=_(ee),J=ee=0,k.mode=11;case 11:if(k.havedict===0)return D.next_out=fe,D.avail_out=ge,D.next_in=oe,D.avail_in=ae,k.hold=ee,k.bits=J,2;D.adler=k.check=1,k.mode=12;case 12:if(z===5||z===6)break e;case 13:if(k.last){ee>>>=7&J,J-=7&J,k.mode=27;break}for(;J<3;){if(ae===0)break e;ae--,ee+=Z[oe++]<<J,J+=8}switch(k.last=1&ee,J-=1,3&(ee>>>=1)){case 0:k.mode=14;break;case 1:if(R(k),k.mode=20,z!==6)break;ee>>>=2,J-=2;break e;case 2:k.mode=17;break;case 3:D.msg="invalid block type",k.mode=30}ee>>>=2,J-=2;break;case 14:for(ee>>>=7&J,J-=7&J;J<32;){if(ae===0)break e;ae--,ee+=Z[oe++]<<J,J+=8}if((65535&ee)!=(ee>>>16^65535)){D.msg="invalid stored block lengths",k.mode=30;break}if(k.length=65535&ee,J=ee=0,k.mode=15,z===6)break e;case 15:k.mode=16;case 16:if(ce=k.length){if(ae<ce&&(ce=ae),ge<ce&&(ce=ge),ce===0)break e;c.arraySet($,Z,oe,ce,fe),ae-=ce,oe+=ce,ge-=ce,fe+=ce,k.length-=ce;break}k.mode=12;break;case 17:for(;J<14;){if(ae===0)break e;ae--,ee+=Z[oe++]<<J,J+=8}if(k.nlen=257+(31&ee),ee>>>=5,J-=5,k.ndist=1+(31&ee),ee>>>=5,J-=5,k.ncode=4+(15&ee),ee>>>=4,J-=4,286<k.nlen||30<k.ndist){D.msg="too many length or distance symbols",k.mode=30;break}k.have=0,k.mode=18;case 18:for(;k.have<k.ncode;){for(;J<3;){if(ae===0)break e;ae--,ee+=Z[oe++]<<J,J+=8}k.lens[re[k.have++]]=7&ee,ee>>>=3,J-=3}for(;k.have<19;)k.lens[re[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,Q={bits:k.lenbits},M=u(0,k.lens,0,19,k.lencode,0,k.work,Q),k.lenbits=Q.bits,M){D.msg="invalid code lengths set",k.mode=30;break}k.have=0,k.mode=19;case 19:for(;k.have<k.nlen+k.ndist;){for(;A=(q=k.lencode[ee&(1<<k.lenbits)-1])>>>16&255,K=65535&q,!((me=q>>>24)<=J);){if(ae===0)break e;ae--,ee+=Z[oe++]<<J,J+=8}if(K<16)ee>>>=me,J-=me,k.lens[k.have++]=K;else{if(K===16){for(H=me+2;J<H;){if(ae===0)break e;ae--,ee+=Z[oe++]<<J,J+=8}if(ee>>>=me,J-=me,k.have===0){D.msg="invalid bit length repeat",k.mode=30;break}T=k.lens[k.have-1],ce=3+(3&ee),ee>>>=2,J-=2}else if(K===17){for(H=me+3;J<H;){if(ae===0)break e;ae--,ee+=Z[oe++]<<J,J+=8}J-=me,T=0,ce=3+(7&(ee>>>=me)),ee>>>=3,J-=3}else{for(H=me+7;J<H;){if(ae===0)break e;ae--,ee+=Z[oe++]<<J,J+=8}J-=me,T=0,ce=11+(127&(ee>>>=me)),ee>>>=7,J-=7}if(k.have+ce>k.nlen+k.ndist){D.msg="invalid bit length repeat",k.mode=30;break}for(;ce--;)k.lens[k.have++]=T}}if(k.mode===30)break;if(k.lens[256]===0){D.msg="invalid code -- missing end-of-block",k.mode=30;break}if(k.lenbits=9,Q={bits:k.lenbits},M=u(x,k.lens,0,k.nlen,k.lencode,0,k.work,Q),k.lenbits=Q.bits,M){D.msg="invalid literal/lengths set",k.mode=30;break}if(k.distbits=6,k.distcode=k.distdyn,Q={bits:k.distbits},M=u(I,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,Q),k.distbits=Q.bits,M){D.msg="invalid distances set",k.mode=30;break}if(k.mode=20,z===6)break e;case 20:k.mode=21;case 21:if(6<=ae&&258<=ge){D.next_out=fe,D.avail_out=ge,D.next_in=oe,D.avail_in=ae,k.hold=ee,k.bits=J,d(D,ne),fe=D.next_out,$=D.output,ge=D.avail_out,oe=D.next_in,Z=D.input,ae=D.avail_in,ee=k.hold,J=k.bits,k.mode===12&&(k.back=-1);break}for(k.back=0;A=(q=k.lencode[ee&(1<<k.lenbits)-1])>>>16&255,K=65535&q,!((me=q>>>24)<=J);){if(ae===0)break e;ae--,ee+=Z[oe++]<<J,J+=8}if(A&&!(240&A)){for(F=me,S=A,O=K;A=(q=k.lencode[O+((ee&(1<<F+S)-1)>>F)])>>>16&255,K=65535&q,!(F+(me=q>>>24)<=J);){if(ae===0)break e;ae--,ee+=Z[oe++]<<J,J+=8}ee>>>=F,J-=F,k.back+=F}if(ee>>>=me,J-=me,k.back+=me,k.length=K,A===0){k.mode=26;break}if(32&A){k.back=-1,k.mode=12;break}if(64&A){D.msg="invalid literal/length code",k.mode=30;break}k.extra=15&A,k.mode=22;case 22:if(k.extra){for(H=k.extra;J<H;){if(ae===0)break e;ae--,ee+=Z[oe++]<<J,J+=8}k.length+=ee&(1<<k.extra)-1,ee>>>=k.extra,J-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=23;case 23:for(;A=(q=k.distcode[ee&(1<<k.distbits)-1])>>>16&255,K=65535&q,!((me=q>>>24)<=J);){if(ae===0)break e;ae--,ee+=Z[oe++]<<J,J+=8}if(!(240&A)){for(F=me,S=A,O=K;A=(q=k.distcode[O+((ee&(1<<F+S)-1)>>F)])>>>16&255,K=65535&q,!(F+(me=q>>>24)<=J);){if(ae===0)break e;ae--,ee+=Z[oe++]<<J,J+=8}ee>>>=F,J-=F,k.back+=F}if(ee>>>=me,J-=me,k.back+=me,64&A){D.msg="invalid distance code",k.mode=30;break}k.offset=K,k.extra=15&A,k.mode=24;case 24:if(k.extra){for(H=k.extra;J<H;){if(ae===0)break e;ae--,ee+=Z[oe++]<<J,J+=8}k.offset+=ee&(1<<k.extra)-1,ee>>>=k.extra,J-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){D.msg="invalid distance too far back",k.mode=30;break}k.mode=25;case 25:if(ge===0)break e;if(ce=ne-ge,k.offset>ce){if((ce=k.offset-ce)>k.whave&&k.sane){D.msg="invalid distance too far back",k.mode=30;break}ye=ce>k.wnext?(ce-=k.wnext,k.wsize-ce):k.wnext-ce,ce>k.length&&(ce=k.length),ke=k.window}else ke=$,ye=fe-k.offset,ce=k.length;for(ge<ce&&(ce=ge),ge-=ce,k.length-=ce;$[fe++]=ke[ye++],--ce;);k.length===0&&(k.mode=21);break;case 26:if(ge===0)break e;$[fe++]=k.length,ge--,k.mode=21;break;case 27:if(k.wrap){for(;J<32;){if(ae===0)break e;ae--,ee|=Z[oe++]<<J,J+=8}if(ne-=ge,D.total_out+=ne,k.total+=ne,ne&&(D.adler=k.check=k.flags?e(k.check,$,ne,fe-ne):s(k.check,$,ne,fe-ne)),ne=ge,(k.flags?ee:_(ee))!==k.check){D.msg="incorrect data check",k.mode=30;break}J=ee=0}k.mode=28;case 28:if(k.wrap&&k.flags){for(;J<32;){if(ae===0)break e;ae--,ee+=Z[oe++]<<J,J+=8}if(ee!==(4294967295&k.total)){D.msg="incorrect length check",k.mode=30;break}J=ee=0}k.mode=29;case 29:M=1;break e;case 30:M=-3;break e;case 31:return-4;case 32:default:return i}return D.next_out=fe,D.avail_out=ge,D.next_in=oe,D.avail_in=ae,k.hold=ee,k.bits=J,(k.wsize||ne!==D.avail_out&&k.mode<30&&(k.mode<27||z!==4))&&L(D,D.output,D.next_out,ne-D.avail_out)?(k.mode=31,-4):(xe-=D.avail_in,ne-=D.avail_out,D.total_in+=xe,D.total_out+=ne,k.total+=ne,k.wrap&&ne&&(D.adler=k.check=k.flags?e(k.check,$,ne,D.next_out-ne):s(k.check,$,ne,D.next_out-ne)),D.data_type=k.bits+(k.last?64:0)+(k.mode===12?128:0)+(k.mode===20||k.mode===15?256:0),(xe==0&&ne===0||z===4)&&M===m&&(M=-5),M)},C.inflateEnd=function(D){if(!D||!D.state)return i;var z=D.state;return z.window&&(z.window=null),D.state=null,m},C.inflateGetHeader=function(D,z){var k;return D&&D.state&&2&(k=D.state).wrap?((k.head=z).done=!1,m):i},C.inflateSetDictionary=function(D,z){var k,Z=z.length;return D&&D.state?(k=D.state).wrap!==0&&k.mode!==11?i:k.mode===11&&s(1,z,Z,0)!==k.check?-3:L(D,z,Z,Z)?(k.mode=31,-4):(k.havedict=1,m):i},C.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,E,C){var c=r("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],e=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];E.exports=function(x,I,m,i,p,g,v,_){var n,y,o,f,l,b,h,N,R,L=_.bits,D=0,z=0,k=0,Z=0,$=0,oe=0,fe=0,ae=0,ge=0,ee=0,J=null,xe=0,ne=new c.Buf16(16),ce=new c.Buf16(16),ye=null,ke=0;for(D=0;D<=15;D++)ne[D]=0;for(z=0;z<i;z++)ne[I[m+z]]++;for($=L,Z=15;1<=Z&&ne[Z]===0;Z--);if(Z<$&&($=Z),Z===0)return p[g++]=20971520,p[g++]=20971520,_.bits=1,0;for(k=1;k<Z&&ne[k]===0;k++);for($<k&&($=k),D=ae=1;D<=15;D++)if(ae<<=1,(ae-=ne[D])<0)return-1;if(0<ae&&(x===0||Z!==1))return-1;for(ce[1]=0,D=1;D<15;D++)ce[D+1]=ce[D]+ne[D];for(z=0;z<i;z++)I[m+z]!==0&&(v[ce[I[m+z]]++]=z);if(b=x===0?(J=ye=v,19):x===1?(J=s,xe-=257,ye=e,ke-=257,256):(J=d,ye=u,-1),D=k,l=g,fe=z=ee=0,o=-1,f=(ge=1<<(oe=$))-1,x===1&&852<ge||x===2&&592<ge)return 1;for(;;){for(h=D-fe,R=v[z]<b?(N=0,v[z]):v[z]>b?(N=ye[ke+v[z]],J[xe+v[z]]):(N=96,0),n=1<<D-fe,k=y=1<<oe;p[l+(ee>>fe)+(y-=n)]=h<<24|N<<16|R|0,y!==0;);for(n=1<<D-1;ee&n;)n>>=1;if(n!==0?(ee&=n-1,ee+=n):ee=0,z++,--ne[D]==0){if(D===Z)break;D=I[m+v[z]]}if($<D&&(ee&f)!==o){for(fe===0&&(fe=$),l+=k,ae=1<<(oe=D-fe);oe+fe<Z&&!((ae-=ne[oe+fe])<=0);)oe++,ae<<=1;if(ge+=1<<oe,x===1&&852<ge||x===2&&592<ge)return 1;p[o=ee&f]=$<<24|oe<<16|l-g|0}}return ee!==0&&(p[l+ee]=D-fe<<24|64<<16|0),_.bits=$,0}},{"../utils/common":41}],51:[function(r,E,C){E.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,E,C){var c=r("../utils/common"),s=0,e=1;function d(q){for(var G=q.length;0<=--G;)q[G]=0}var u=0,x=29,I=256,m=I+1+x,i=30,p=19,g=2*m+1,v=15,_=16,n=7,y=256,o=16,f=17,l=18,b=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],h=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L=new Array(2*(m+2));d(L);var D=new Array(2*i);d(D);var z=new Array(512);d(z);var k=new Array(256);d(k);var Z=new Array(x);d(Z);var $,oe,fe,ae=new Array(i);function ge(q,G,re,ue,X){this.static_tree=q,this.extra_bits=G,this.extra_base=re,this.elems=ue,this.max_length=X,this.has_stree=q&&q.length}function ee(q,G){this.dyn_tree=q,this.max_code=0,this.stat_desc=G}function J(q){return q<256?z[q]:z[256+(q>>>7)]}function xe(q,G){q.pending_buf[q.pending++]=255&G,q.pending_buf[q.pending++]=G>>>8&255}function ne(q,G,re){q.bi_valid>_-re?(q.bi_buf|=G<<q.bi_valid&65535,xe(q,q.bi_buf),q.bi_buf=G>>_-q.bi_valid,q.bi_valid+=re-_):(q.bi_buf|=G<<q.bi_valid&65535,q.bi_valid+=re)}function ce(q,G,re){ne(q,re[2*G],re[2*G+1])}function ye(q,G){for(var re=0;re|=1&q,q>>>=1,re<<=1,0<--G;);return re>>>1}function ke(q,G,re){var ue,X,le=new Array(v+1),ve=0;for(ue=1;ue<=v;ue++)le[ue]=ve=ve+re[ue-1]<<1;for(X=0;X<=G;X++){var he=q[2*X+1];he!==0&&(q[2*X]=ye(le[he]++,he))}}function me(q){var G;for(G=0;G<m;G++)q.dyn_ltree[2*G]=0;for(G=0;G<i;G++)q.dyn_dtree[2*G]=0;for(G=0;G<p;G++)q.bl_tree[2*G]=0;q.dyn_ltree[2*y]=1,q.opt_len=q.static_len=0,q.last_lit=q.matches=0}function A(q){8<q.bi_valid?xe(q,q.bi_buf):0<q.bi_valid&&(q.pending_buf[q.pending++]=q.bi_buf),q.bi_buf=0,q.bi_valid=0}function K(q,G,re,ue){var X=2*G,le=2*re;return q[X]<q[le]||q[X]===q[le]&&ue[G]<=ue[re]}function F(q,G,re){for(var ue=q.heap[re],X=re<<1;X<=q.heap_len&&(X<q.heap_len&&K(G,q.heap[X+1],q.heap[X],q.depth)&&X++,!K(G,ue,q.heap[X],q.depth));)q.heap[re]=q.heap[X],re=X,X<<=1;q.heap[re]=ue}function S(q,G,re){var ue,X,le,ve,he=0;if(q.last_lit!==0)for(;ue=q.pending_buf[q.d_buf+2*he]<<8|q.pending_buf[q.d_buf+2*he+1],X=q.pending_buf[q.l_buf+he],he++,ue===0?ce(q,X,G):(ce(q,(le=k[X])+I+1,G),(ve=b[le])!==0&&ne(q,X-=Z[le],ve),ce(q,le=J(--ue),re),(ve=h[le])!==0&&ne(q,ue-=ae[le],ve)),he<q.last_lit;);ce(q,y,G)}function O(q,G){var re,ue,X,le=G.dyn_tree,ve=G.stat_desc.static_tree,he=G.stat_desc.has_stree,Ce=G.stat_desc.elems,P=-1;for(q.heap_len=0,q.heap_max=g,re=0;re<Ce;re++)le[2*re]!==0?(q.heap[++q.heap_len]=P=re,q.depth[re]=0):le[2*re+1]=0;for(;q.heap_len<2;)le[2*(X=q.heap[++q.heap_len]=P<2?++P:0)]=1,q.depth[X]=0,q.opt_len--,he&&(q.static_len-=ve[2*X+1]);for(G.max_code=P,re=q.heap_len>>1;1<=re;re--)F(q,le,re);for(X=Ce;re=q.heap[1],q.heap[1]=q.heap[q.heap_len--],F(q,le,1),ue=q.heap[1],q.heap[--q.heap_max]=re,q.heap[--q.heap_max]=ue,le[2*X]=le[2*re]+le[2*ue],q.depth[X]=(q.depth[re]>=q.depth[ue]?q.depth[re]:q.depth[ue])+1,le[2*re+1]=le[2*ue+1]=X,q.heap[1]=X++,F(q,le,1),2<=q.heap_len;);q.heap[--q.heap_max]=q.heap[1],function(w,B){var j,Y,ie,se,be,Ae,_e=B.dyn_tree,Be=B.max_code,Ie=B.stat_desc.static_tree,et=B.stat_desc.has_stree,at=B.stat_desc.extra_bits,st=B.stat_desc.extra_base,Xe=B.stat_desc.max_length,ot=0;for(se=0;se<=v;se++)w.bl_count[se]=0;for(_e[2*w.heap[w.heap_max]+1]=0,j=w.heap_max+1;j<g;j++)Xe<(se=_e[2*_e[2*(Y=w.heap[j])+1]+1]+1)&&(se=Xe,ot++),_e[2*Y+1]=se,Be<Y||(w.bl_count[se]++,be=0,st<=Y&&(be=at[Y-st]),Ae=_e[2*Y],w.opt_len+=Ae*(se+be),et&&(w.static_len+=Ae*(Ie[2*Y+1]+be)));if(ot!==0){do{for(se=Xe-1;w.bl_count[se]===0;)se--;w.bl_count[se]--,w.bl_count[se+1]+=2,w.bl_count[Xe]--,ot-=2}while(0<ot);for(se=Xe;se!==0;se--)for(Y=w.bl_count[se];Y!==0;)Be<(ie=w.heap[--j])||(_e[2*ie+1]!==se&&(w.opt_len+=(se-_e[2*ie+1])*_e[2*ie],_e[2*ie+1]=se),Y--)}}(q,G),ke(le,P,q.bl_count)}function T(q,G,re){var ue,X,le=-1,ve=G[1],he=0,Ce=7,P=4;for(ve===0&&(Ce=138,P=3),G[2*(re+1)+1]=65535,ue=0;ue<=re;ue++)X=ve,ve=G[2*(ue+1)+1],++he<Ce&&X===ve||(he<P?q.bl_tree[2*X]+=he:X!==0?(X!==le&&q.bl_tree[2*X]++,q.bl_tree[2*o]++):he<=10?q.bl_tree[2*f]++:q.bl_tree[2*l]++,le=X,P=(he=0)===ve?(Ce=138,3):X===ve?(Ce=6,3):(Ce=7,4))}function M(q,G,re){var ue,X,le=-1,ve=G[1],he=0,Ce=7,P=4;for(ve===0&&(Ce=138,P=3),ue=0;ue<=re;ue++)if(X=ve,ve=G[2*(ue+1)+1],!(++he<Ce&&X===ve)){if(he<P)for(;ce(q,X,q.bl_tree),--he!=0;);else X!==0?(X!==le&&(ce(q,X,q.bl_tree),he--),ce(q,o,q.bl_tree),ne(q,he-3,2)):he<=10?(ce(q,f,q.bl_tree),ne(q,he-3,3)):(ce(q,l,q.bl_tree),ne(q,he-11,7));le=X,P=(he=0)===ve?(Ce=138,3):X===ve?(Ce=6,3):(Ce=7,4)}}d(ae);var Q=!1;function H(q,G,re,ue){ne(q,(u<<1)+(ue?1:0),3),function(X,le,ve,he){A(X),he&&(xe(X,ve),xe(X,~ve)),c.arraySet(X.pending_buf,X.window,le,ve,X.pending),X.pending+=ve}(q,G,re,!0)}C._tr_init=function(q){Q||(function(){var G,re,ue,X,le,ve=new Array(v+1);for(X=ue=0;X<x-1;X++)for(Z[X]=ue,G=0;G<1<<b[X];G++)k[ue++]=X;for(k[ue-1]=X,X=le=0;X<16;X++)for(ae[X]=le,G=0;G<1<<h[X];G++)z[le++]=X;for(le>>=7;X<i;X++)for(ae[X]=le<<7,G=0;G<1<<h[X]-7;G++)z[256+le++]=X;for(re=0;re<=v;re++)ve[re]=0;for(G=0;G<=143;)L[2*G+1]=8,G++,ve[8]++;for(;G<=255;)L[2*G+1]=9,G++,ve[9]++;for(;G<=279;)L[2*G+1]=7,G++,ve[7]++;for(;G<=287;)L[2*G+1]=8,G++,ve[8]++;for(ke(L,m+1,ve),G=0;G<i;G++)D[2*G+1]=5,D[2*G]=ye(G,5);$=new ge(L,b,I+1,m,v),oe=new ge(D,h,0,i,v),fe=new ge(new Array(0),N,0,p,n)}(),Q=!0),q.l_desc=new ee(q.dyn_ltree,$),q.d_desc=new ee(q.dyn_dtree,oe),q.bl_desc=new ee(q.bl_tree,fe),q.bi_buf=0,q.bi_valid=0,me(q)},C._tr_stored_block=H,C._tr_flush_block=function(q,G,re,ue){var X,le,ve=0;0<q.level?(q.strm.data_type===2&&(q.strm.data_type=function(he){var Ce,P=4093624447;for(Ce=0;Ce<=31;Ce++,P>>>=1)if(1&P&&he.dyn_ltree[2*Ce]!==0)return s;if(he.dyn_ltree[18]!==0||he.dyn_ltree[20]!==0||he.dyn_ltree[26]!==0)return e;for(Ce=32;Ce<I;Ce++)if(he.dyn_ltree[2*Ce]!==0)return e;return s}(q)),O(q,q.l_desc),O(q,q.d_desc),ve=function(he){var Ce;for(T(he,he.dyn_ltree,he.l_desc.max_code),T(he,he.dyn_dtree,he.d_desc.max_code),O(he,he.bl_desc),Ce=p-1;3<=Ce&&he.bl_tree[2*R[Ce]+1]===0;Ce--);return he.opt_len+=3*(Ce+1)+5+5+4,Ce}(q),X=q.opt_len+3+7>>>3,(le=q.static_len+3+7>>>3)<=X&&(X=le)):X=le=re+5,re+4<=X&&G!==-1?H(q,G,re,ue):q.strategy===4||le===X?(ne(q,2+(ue?1:0),3),S(q,L,D)):(ne(q,4+(ue?1:0),3),function(he,Ce,P,w){var B;for(ne(he,Ce-257,5),ne(he,P-1,5),ne(he,w-4,4),B=0;B<w;B++)ne(he,he.bl_tree[2*R[B]+1],3);M(he,he.dyn_ltree,Ce-1),M(he,he.dyn_dtree,P-1)}(q,q.l_desc.max_code+1,q.d_desc.max_code+1,ve+1),S(q,q.dyn_ltree,q.dyn_dtree)),me(q),ue&&A(q)},C._tr_tally=function(q,G,re){return q.pending_buf[q.d_buf+2*q.last_lit]=G>>>8&255,q.pending_buf[q.d_buf+2*q.last_lit+1]=255&G,q.pending_buf[q.l_buf+q.last_lit]=255&re,q.last_lit++,G===0?q.dyn_ltree[2*re]++:(q.matches++,G--,q.dyn_ltree[2*(k[re]+I+1)]++,q.dyn_dtree[2*J(G)]++),q.last_lit===q.lit_bufsize-1},C._tr_align=function(q){ne(q,2,3),ce(q,y,L),function(G){G.bi_valid===16?(xe(G,G.bi_buf),G.bi_buf=0,G.bi_valid=0):8<=G.bi_valid&&(G.pending_buf[G.pending++]=255&G.bi_buf,G.bi_buf>>=8,G.bi_valid-=8)}(q)}},{"../utils/common":41}],53:[function(r,E,C){E.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,E,C){(function(c){(function(s,e){if(!s.setImmediate){var d,u,x,I,m=1,i={},p=!1,g=s.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(s);v=v&&v.setTimeout?v:s,d={}.toString.call(s.process)==="[object process]"?function(o){process.nextTick(function(){n(o)})}:function(){if(s.postMessage&&!s.importScripts){var o=!0,f=s.onmessage;return s.onmessage=function(){o=!1},s.postMessage("","*"),s.onmessage=f,o}}()?(I="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",y,!1):s.attachEvent("onmessage",y),function(o){s.postMessage(I+o,"*")}):s.MessageChannel?((x=new MessageChannel).port1.onmessage=function(o){n(o.data)},function(o){x.port2.postMessage(o)}):g&&"onreadystatechange"in g.createElement("script")?(u=g.documentElement,function(o){var f=g.createElement("script");f.onreadystatechange=function(){n(o),f.onreadystatechange=null,u.removeChild(f),f=null},u.appendChild(f)}):function(o){setTimeout(n,0,o)},v.setImmediate=function(o){typeof o!="function"&&(o=new Function(""+o));for(var f=new Array(arguments.length-1),l=0;l<f.length;l++)f[l]=arguments[l+1];var b={callback:o,args:f};return i[m]=b,d(m),m++},v.clearImmediate=_}function _(o){delete i[o]}function n(o){if(p)setTimeout(n,0,o);else{var f=i[o];if(f){p=!0;try{(function(l){var b=l.callback,h=l.args;switch(h.length){case 0:b();break;case 1:b(h[0]);break;case 2:b(h[0],h[1]);break;case 3:b(h[0],h[1],h[2]);break;default:b.apply(e,h)}})(f)}finally{_(o),p=!1}}}}function y(o){o.source===s&&typeof o.data=="string"&&o.data.indexOf(I)===0&&n(+o.data.slice(I.length))}})(typeof self>"u"?c===void 0?this:c:self)}).call(this,typeof Te<"u"?Te:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Mr)),Mr.exports}var At={},nn;function wa(){if(nn)return At;nn=1;var a=Te&&Te.__awaiter||function(C,c,s,e){function d(u){return u instanceof s?u:new s(function(x){x(u)})}return new(s||(s=Promise))(function(u,x){function I(p){try{i(e.next(p))}catch(g){x(g)}}function m(p){try{i(e.throw(p))}catch(g){x(g)}}function i(p){p.done?u(p.value):d(p.value).then(I,m)}i((e=e.apply(C,c||[])).next())})};Object.defineProperty(At,"__esModule",{value:!0}),At.SignedFiles=void 0;const t=Jr(),r=dt;let E=class{constructor(c,s=[]){this.bundleEntries=s,this.manifestVersionHeader=`Manifest-Version: 1.0\r
`,this.signatureVersionHeader=`Signature-Version: 1.0\r
`,this.createdByHeader=(0,r.wrapLongStrings)(`Created-By: ${c}\r
\r
`)}getManifestString(){let c=this.getManifestMainAttributes();return this.bundleEntries.forEach(s=>{c=c.concat(s.getManifestAttr())}),c}getManifestMainAttributes(){let c="";return c=c.concat(this.manifestVersionHeader,this.createdByHeader),c}getManifestDigest(){return a(this,void 0,void 0,function*(){return yield(0,t.SHA256ForString)(this.getManifestString())})}getManifestMainAttributesDigest(){return a(this,void 0,void 0,function*(){return yield(0,t.SHA256ForString)(this.getManifestMainAttributes())})}addBundleEntry(c){this.bundleEntries.push(c)}getSignatureFileOutput(){return a(this,void 0,void 0,function*(){let c="";const s=(0,r.wrapLongStrings)(`SHA-256-Digest-Manifest: ${yield this.getManifestDigest()}`),e=(0,r.wrapLongStrings)(`SHA-256-Digest-Manifest-Main-Attributes: ${yield this.getManifestMainAttributesDigest()}`);c=yield c.concat(this.signatureVersionHeader,e,`\r
`,s,`\r
`,this.createdByHeader);for(const d of this.bundleEntries)c=c.concat(yield d.getSignatureAttr());return c})}};return At.SignedFiles=E,At}var Kr={},zr={},It={},an;function Aa(){if(an)return It;an=1;var a=Te&&Te.__awaiter||function(r,E,C,c){function s(e){return e instanceof C?e:new C(function(d){d(e)})}return new(C||(C=Promise))(function(e,d){function u(m){try{I(c.next(m))}catch(i){d(i)}}function x(m){try{I(c.throw(m))}catch(i){d(i)}}function I(m){m.done?e(m.value):s(m.value).then(u,x)}I((c=c.apply(r,E||[])).next())})};Object.defineProperty(It,"__esModule",{value:!0}),It.zipalign=void 0;function t(r,E){return a(this,void 0,void 0,function*(){for(const C of r.entries)yield E.write(C,r.getFileData(C.filename));yield E.finish()})}return It.zipalign=t,It}var sn;function Ia(){return sn||(sn=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.zipalign=void 0;var t=Aa();Object.defineProperty(a,"zipalign",{enumerable:!0,get:function(){return t.zipalign}})}(zr)),zr}var qr={},Bt={},on;function ei(){if(on)return Bt;on=1;var a=Te&&Te.__awaiter||function(r,E,C,c){function s(e){return e instanceof C?e:new C(function(d){d(e)})}return new(C||(C=Promise))(function(e,d){function u(m){try{I(c.next(m))}catch(i){d(i)}}function x(m){try{I(c.throw(m))}catch(i){d(i)}}function I(m){m.done?e(m.value):s(m.value).then(u,x)}I((c=c.apply(r,E||[])).next())})};Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.LocalFileHeader=void 0;class t{constructor(E,C,c,s,e,d,u,x,I,m,i){this.signature=E,this.version=C,this.flag=c,this.compressionMethod=s,this.modificationTime=e,this.modificationDate=d,this.crc32=u,this.compressedSize=x,this.uncompressedSize=I,this.rawFilename=m,this.extra=i;const p=new TextDecoder;this.filename=p.decode(m)}size(){return t.BASE_SIZE+this.rawFilename.byteLength+this.extra.byteLength}isCompressed(){return this.compressedSize!==this.uncompressedSize}write(){return a(this,void 0,void 0,function*(){const E=new Uint8Array(new ArrayBuffer(this.size())),C=new DataView(E.buffer);return C.setUint32(0,this.signature,!0),C.setUint16(4,this.version,!0),C.setUint16(6,this.flag,!0),C.setUint16(8,this.compressionMethod,!0),C.setUint16(10,this.modificationTime,!0),C.setUint16(12,this.modificationDate,!0),C.setUint32(14,this.crc32,!0),C.setUint32(18,this.compressedSize,!0),C.setUint32(22,this.uncompressedSize,!0),C.setUint16(26,this.rawFilename.byteLength,!0),C.setUint16(28,this.extra.byteLength,!0),E.set(new Uint8Array(this.rawFilename),30),E.set(new Uint8Array(this.extra),30+this.rawFilename.byteLength),E.buffer})}static parse(E,C){const c=E.getUint32(C,!0),s=E.getUint16(C+4,!0),e=E.getUint16(C+6,!0),d=E.getUint16(C+8,!0),u=E.getUint16(C+10,!0),x=E.getUint16(C+12,!0),I=E.getUint32(C+14,!0),m=E.getUint32(C+18,!0),i=E.getUint32(C+22,!0),p=E.getUint16(C+26,!0),g=E.getUint16(C+28,!0);C+=t.BASE_SIZE;const v=E.buffer.slice(C,C+p);C+=p;const _=E.buffer.slice(C,C+g);return new t(c,s,e,d,u,x,I,m,i,v,_)}}return Bt.LocalFileHeader=t,t.SIGNATURE=67324752,t.BASE_SIZE=30,Bt}var kt={},un;function ti(){if(un)return kt;un=1;var a=Te&&Te.__awaiter||function(E,C,c,s){function e(d){return d instanceof c?d:new c(function(u){u(d)})}return new(c||(c=Promise))(function(d,u){function x(i){try{m(s.next(i))}catch(p){u(p)}}function I(i){try{m(s.throw(i))}catch(p){u(p)}}function m(i){i.done?d(i.value):e(i.value).then(x,I)}m((s=s.apply(E,C||[])).next())})};Object.defineProperty(kt,"__esModule",{value:!0}),kt.CentralDirectory=void 0;const t=46;let r=class Un{constructor(C,c,s,e,d,u,x,I,m,i,p,g,v,_,n,y,o){this.signature=C,this.versionMadeBy=c,this.versionNeededToExtract=s,this.generalPurposeBitFlag=e,this.compressionMethod=d,this.modificationTime=u,this.modificationDate=x,this.crc32=I,this.compressedSize=m,this.uncompressedSize=i,this.startDiskNumber=p,this.internalFileAttributes=g,this.externalFileAttributes=v,this.offset=_,this.rawFilename=n,this.extra=y,this.rawComment=o;const f=new TextDecoder;this.filename=f.decode(n),this.comment=f.decode(o)}size(){return t+this.rawFilename.byteLength+this.extra.byteLength+this.rawComment.byteLength}dataOffset(){return this.offset+this.size()}write(){return a(this,void 0,void 0,function*(){const C=new Uint8Array(new ArrayBuffer(this.size())),c=new DataView(C.buffer);return c.setUint32(0,this.signature,!0),c.setUint16(4,this.versionMadeBy,!0),c.setUint16(6,this.versionNeededToExtract,!0),c.setUint16(8,this.generalPurposeBitFlag,!0),c.setUint16(10,this.compressionMethod,!0),c.setUint16(12,this.modificationTime,!0),c.setUint16(14,this.modificationDate,!0),c.setUint32(16,this.crc32,!0),c.setUint32(20,this.compressedSize,!0),c.setUint32(24,this.uncompressedSize,!0),c.setUint16(28,this.rawFilename.byteLength,!0),c.setUint16(30,this.extra.byteLength,!0),c.setUint16(32,this.rawComment.byteLength,!0),c.setUint16(34,this.startDiskNumber,!0),c.setUint16(36,this.internalFileAttributes,!0),c.setUint32(38,this.externalFileAttributes,!0),c.setUint32(42,this.offset,!0),C.set(new Uint8Array(this.rawFilename),t),C.set(new Uint8Array(this.extra),t+this.rawFilename.byteLength),C.set(new Uint8Array(this.rawComment),t+this.rawFilename.byteLength+this.extra.byteLength),C})}static parse(C,c){const s=C.getUint32(c,!0),e=C.getUint16(c+4,!0),d=C.getUint16(c+6,!0),u=C.getUint16(c+8,!0),x=C.getUint16(c+10,!0),I=C.getUint16(c+12,!0),m=C.getUint16(c+14,!0),i=C.getUint32(c+16,!0),p=C.getUint32(c+20,!0),g=C.getUint32(c+24,!0),v=C.getUint16(c+28,!0),_=C.getUint16(c+30,!0),n=C.getUint16(c+32,!0),y=C.getUint16(c+34,!0),o=C.getUint16(c+36,!0),f=C.getUint32(c+38,!0),l=C.getUint32(c+42,!0);c+=t;const b=C.buffer.slice(c,c+v);c+=v;const h=C.buffer.slice(c,c+_);console.log("<<<",_),c+=_;const N=C.buffer.slice(c,c+n);return new Un(s,e,d,u,x,I,m,i,p,g,y,o,f,l,b,h,N)}};return kt.CentralDirectory=r,r.SIGNATURE=33639248,kt}var Rt={},ln;function ri(){if(ln)return Rt;ln=1;var a=Te&&Te.__awaiter||function(E,C,c,s){function e(d){return d instanceof c?d:new c(function(u){u(d)})}return new(c||(c=Promise))(function(d,u){function x(i){try{m(s.next(i))}catch(p){u(p)}}function I(i){try{m(s.throw(i))}catch(p){u(p)}}function m(i){i.done?d(i.value):e(i.value).then(x,I)}m((s=s.apply(E,C||[])).next())})};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.EndOfCentralDirectory=void 0;const t=22;let r=class On{constructor(C,c,s,e,d,u,x,I){this.signature=C,this.diskNumber=c,this.centralDirectoryStartDisk=s,this.centralDirectoryRecordsOnDisk=e,this.numberOfCentralDirectoryRecords=d,this.centralDirectorySize=u,this.centralDirectoryOffset=x,this.rawComment=I;const m=new TextDecoder;this.comment=m.decode(I)}size(){return t+this.rawComment.byteLength}write(){return a(this,void 0,void 0,function*(){const C=new Uint8Array(new ArrayBuffer(this.size())),c=new DataView(C.buffer);return c.setUint32(0,this.signature,!0),c.setUint16(4,this.diskNumber,!0),c.setUint16(6,this.centralDirectoryStartDisk,!0),c.setUint16(8,this.centralDirectoryRecordsOnDisk,!0),c.setUint16(10,this.numberOfCentralDirectoryRecords,!0),c.setUint32(12,this.centralDirectorySize,!0),c.setUint32(16,this.centralDirectoryOffset,!0),c.setUint16(20,this.rawComment.byteLength,!0),C.set(new Uint8Array(this.rawComment),t),C.buffer})}static parse(C,c){const s=C.getUint32(c,!0),e=C.getUint16(c+4,!0),d=C.getUint16(c+6,!0),u=C.getUint16(c+8,!0),x=C.getUint16(c+10,!0),I=C.getUint32(c+12,!0),m=C.getUint32(c+16,!0),i=C.getUint16(c+20,!0);c+=t;const p=C.buffer.slice(c,c+i);return new On(s,e,d,u,x,I,m,p)}};return Rt.EndOfCentralDirectory=r,r.SIGNATURE=101010256,Rt}var Nt={},fn;function Ba(){if(fn)return Nt;fn=1;var a=Te&&Te.__awaiter||function(C,c,s,e){function d(u){return u instanceof s?u:new s(function(x){x(u)})}return new(s||(s=Promise))(function(u,x){function I(p){try{i(e.next(p))}catch(g){x(g)}}function m(p){try{i(e.throw(p))}catch(g){x(g)}}function i(p){p.done?u(p.value):d(p.value).then(I,m)}i((e=e.apply(C,c||[])).next())})};Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.ZipFile=void 0;const t=ri(),r=ti();let E=class Pn{constructor(c="",s,e,d){this.comment=c,this.entries=s,this.offsets=e,this.data=d,this.entryMap=new Map;for(let u=0;u<s.length;u++)this.entryMap.set(s[u].filename,u)}getFileData(c){const s=this.entryMap.get(c),e=this.entries[s],d=new TextEncoder().encode(e.filename),u=this.offsets[s]+30+d.byteLength;return this.data.buffer.slice(u,u+e.compressedSize)}static seekCentralDirectoryEnd(c){let s=c.byteLength-22;for(;s>=0;){if(c.getUint32(s,!0)===t.EndOfCentralDirectory.SIGNATURE)return s;s--}throw new Error("Could not find end of central directory")}static open(c){return a(this,void 0,void 0,function*(){const s=new DataView(c),e=this.seekCentralDirectoryEnd(s),d=t.EndOfCentralDirectory.parse(s,e);let u=d.centralDirectoryOffset;const x=[],I=[];for(let m=0;m<d.centralDirectoryRecordsOnDisk;m++){const i=r.CentralDirectory.parse(s,u);u+=i.size(),I.push(i.offset),x.push(i)}return new Pn(d.comment,x,I,s)})}};return Nt.ZipFile=E,Nt}var Dt={},cn;function Fn(){if(cn)return Dt;cn=1;var a=Te&&Te.__awaiter||function(s,e,d,u){function x(I){return I instanceof d?I:new d(function(m){m(I)})}return new(d||(d=Promise))(function(I,m){function i(v){try{g(u.next(v))}catch(_){m(_)}}function p(v){try{g(u.throw(v))}catch(_){m(_)}}function g(v){v.done?I(v.value):x(v.value).then(i,p)}g((u=u.apply(s,e||[])).next())})};Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.ZipWriter=void 0;const t=ei(),r=ti(),E=ri(),C=$r();let c=class{constructor(e,d=""){this.comment=d,this.finished=!1,this.entries=[],this.bytesWritten=0,this.writableStream=e,this.writer=this.writableStream.getWriter()}writeData(e){return a(this,void 0,void 0,function*(){yield this.writer.ready,yield this.writer.write(e)})}closeWriter(){return a(this,void 0,void 0,function*(){yield this.writer.ready,yield this.writer.close()})}write(e,d){return a(this,void 0,void 0,function*(){if(this.finished)throw new Error("Cannot write records after finish() was called");const u=this.bytesWritten,x=new TextEncoder,I=new t.LocalFileHeader(t.LocalFileHeader.SIGNATURE,e.versionNeededToExtract,e.generalPurposeBitFlag,e.compressionMethod,e.modificationTime,e.modificationDate,e.crc32,e.compressedSize,e.uncompressedSize,x.encode(e.filename),e.extra);yield this.writer.ready,yield this.writer.write(yield I.write()),this.bytesWritten+=I.size(),this.entries.push(new r.CentralDirectory(r.CentralDirectory.SIGNATURE,63,e.versionNeededToExtract,e.generalPurposeBitFlag,e.compressionMethod,e.modificationTime,e.modificationDate,e.crc32,e.compressedSize,e.uncompressedSize,0,0,32,u,x.encode(e.filename),e.extra,x.encode(e.comment))),yield this.writeData(d),this.bytesWritten+=d.byteLength})}finish(){return a(this,void 0,void 0,function*(){if(this.finished)throw new Error("finish() has already been called");const e=this.bytesWritten;for(const x of this.entries)yield this.writeData(yield x.write()),this.bytesWritten+=x.size();const d=this.bytesWritten-e,u=new E.EndOfCentralDirectory(E.EndOfCentralDirectory.SIGNATURE,0,0,this.entries.length,this.entries.length,d,e,new TextEncoder().encode(this.comment));yield this.writeData(C.Buffer.from(yield u.write())),yield this.closeWriter(),this.finished=!0})}};return Dt.ZipWriter=c,Dt}var Lt={},hn;function ka(){if(hn)return Lt;hn=1;var a=Te&&Te.__awaiter||function(C,c,s,e){function d(u){return u instanceof s?u:new s(function(x){x(u)})}return new(s||(s=Promise))(function(u,x){function I(p){try{i(e.next(p))}catch(g){x(g)}}function m(p){try{i(e.throw(p))}catch(g){x(g)}}function i(p){p.done?u(p.value):d(p.value).then(I,m)}i((e=e.apply(C,c||[])).next())})};Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.AlignedZipWriter=void 0;const t=Fn(),r=ei();let E=class extends t.ZipWriter{constructor(c,s=4,e=""){super(c,e),this.alignment=s}write(c,s){const e=Object.create(null,{write:{get:()=>super.write}});return a(this,void 0,void 0,function*(){if(c.compressedSize!==c.uncompressedSize)return e.write.call(this,c,s);const u=new TextEncoder().encode(c.filename).length,x=c.extra.byteLength,I=this.bytesWritten+r.LocalFileHeader.BASE_SIZE+u+x,m=(this.alignment-I%this.alignment)%this.alignment;if(m===0)return e.write.call(this,c,s);const i=new Uint8Array(c.extra),p=new Uint8Array(c.extra.byteLength+m);return p.set(i,0),p.fill(i.length,p.length),e.write.call(this,Object.assign(Object.assign({},c),{extra:p.buffer}),s)})}};return Lt.AlignedZipWriter=E,Lt}var dn;function Ra(){return dn||(dn=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.AlignedZipWriter=a.ZipWriter=a.ZipFile=a.EndOfCentralDirectory=a.CentralDirectory=a.LocalFileHeader=void 0;var t=ei();Object.defineProperty(a,"LocalFileHeader",{enumerable:!0,get:function(){return t.LocalFileHeader}});var r=ti();Object.defineProperty(a,"CentralDirectory",{enumerable:!0,get:function(){return r.CentralDirectory}});var E=ri();Object.defineProperty(a,"EndOfCentralDirectory",{enumerable:!0,get:function(){return E.EndOfCentralDirectory}});var C=Ba();Object.defineProperty(a,"ZipFile",{enumerable:!0,get:function(){return C.ZipFile}});var c=Fn();Object.defineProperty(a,"ZipWriter",{enumerable:!0,get:function(){return c.ZipWriter}});var s=ka();Object.defineProperty(a,"AlignedZipWriter",{enumerable:!0,get:function(){return s.AlignedZipWriter}})}(qr)),qr}var pn;function Na(){return pn||(pn=1,function(a){var t=Te&&Te.__createBinding||(Object.create?function(E,C,c,s){s===void 0&&(s=c),Object.defineProperty(E,s,{enumerable:!0,get:function(){return C[c]}})}:function(E,C,c,s){s===void 0&&(s=c),E[s]=C[c]}),r=Te&&Te.__exportStar||function(E,C){for(var c in E)c!=="default"&&!Object.prototype.hasOwnProperty.call(C,c)&&t(C,E,c)};Object.defineProperty(a,"__esModule",{value:!0}),r(Ia(),a),r(Ra(),a)}(Kr)),Kr}var gn;function Da(){if(gn)return bt;gn=1;var a=Te&&Te.__awaiter||function(d,u,x,I){function m(i){return i instanceof x?i:new x(function(p){p(i)})}return new(x||(x=Promise))(function(i,p){function g(n){try{_(I.next(n))}catch(y){p(y)}}function v(n){try{_(I.throw(n))}catch(y){p(y)}}function _(n){n.done?i(n.value):m(n.value).then(g,v)}_((I=I.apply(d,u||[])).next())})};Object.defineProperty(bt,"__esModule",{value:!0}),bt.Zip=void 0;const t=_a(),r=Jr(),E=Ta(),C=wa(),c=Na(),s=$r();let e=class Vn{constructor(u){this.entries=[],this.previouslySigned=!1,this.zip=u}getManifestEntries(){return a(this,void 0,void 0,function*(){let u=[],x=[];this.zip.forEach((I,m)=>{u.push(m)});for(let I of u){if(I.name.startsWith("META-INF/MANIFEST.MF")){this.previouslySigned=!0;continue}if(!I.dir){const m=yield I.async("binarystring"),i=new t.BundleEntry(I.name,(0,r.SHA256ForString)(m));x.push(i)}}return x})}static loadAsync(u){return a(this,void 0,void 0,function*(){const x=yield E.loadAsync(u);return new Vn(x)})}getSignedFiles(u){return a(this,void 0,void 0,function*(){return this.signedFile||(this.signedFile=new C.SignedFiles(u,yield this.getEntries())),this.signedFile})}getEntries(){return a(this,void 0,void 0,function*(){return this.entries.length==0&&(this.entries=yield this.getManifestEntries()),this.entries})}generateManifest(u){return a(this,void 0,void 0,function*(){return(yield this.getSignedFiles(u)).getManifestString()})}generateSignatureFile(u){return a(this,void 0,void 0,function*(){return(yield this.getSignedFiles(u)).getSignatureFileOutput()})}addFileToZip(u,x,I=!1){this.zip.file(x,u,{createFolders:!1,base64:I})}exportZipAsBase64(){return a(this,void 0,void 0,function*(){const u=yield this.zip.generateAsync({type:"arraybuffer",compression:"DEFLATE",compressionOptions:{level:5}}),x=yield this.alignZip(u);return s.Buffer.from(yield x.arrayBuffer()).toString("base64")})}alignZip(u){return a(this,void 0,void 0,function*(){const x=[],I=new WritableStream({write:p=>{x.push(p)}}),m=yield c.ZipFile.open(u),i=new c.AlignedZipWriter(I);return yield(0,c.zipalign)(m,i),new Blob(x)})}isPreviouslySigned(){return this.previouslySigned}};return bt.Zip=e,bt}var yn=Te&&Te.__awaiter||function(a,t,r,E){function C(c){return c instanceof r?c:new r(function(s){s(c)})}return new(r||(r=Promise))(function(c,s){function e(x){try{u(E.next(x))}catch(I){s(I)}}function d(x){try{u(E.throw(x))}catch(I){s(I)}}function u(x){x.done?c(x.value):C(x.value).then(e,d)}u((E=E.apply(a,t||[])).next())})},Wt=Te&&Te.__classPrivateFieldSet||function(a,t,r,E,C){if(E==="m")throw new TypeError("Private method is not writable");if(E==="a"&&!C)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?a!==t||!C:!t.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return E==="a"?C.call(a,r):C?C.value=r:t.set(a,r),r},ht=Te&&Te.__classPrivateFieldGet||function(a,t,r,E){if(r==="a"&&!E)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?a!==t||!E:!t.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?E:r==="a"?E.call(a):E?E.value:t.get(a)},mt,xt,Ct;Object.defineProperty(jt,"__esModule",{value:!0});jt.PackageSigner=void 0;const vn=Et,La=dt,Hr=Je,mn="0.1.3";class Ua{constructor(t,r="android"){this.alias=r,mt.set(this,void 0),xt.set(this,void 0),Ct.set(this,void 0),(0,vn.validateInput)(t,6,0),Wt(this,mt,t,"f"),r.trim()==""&&Wt(this,mt,"android","f"),Wt(this,xt,r,"f"),this.version=mn}generateKey(t){return yn(this,void 0,void 0,function*(){(0,vn.validateDName)(t);const{generateX509:r}=yield Promise.resolve().then(()=>Yi());if(Wt(this,Ct,yield r(t,ht(this,mt,"f"),ht(this,xt,"f")),"f"),!ht(this,Ct,"f"))throw new Hr.KeyGenerationError("Key failed to generate.");return ht(this,Ct,"f")})}signPackage(t,r=void 0,E=`Web Package Signer (${mn})`){return yn(this,void 0,void 0,function*(){let C=r||ht(this,Ct,"f");if(!C)throw new Hr.KeyReadingError("no base64 der encoded keystore found");C=C.split("base64,")[1];const{Zip:c}=yield Promise.resolve().then(()=>Da()),s=yield c.loadAsync(t),e=yield s.generateManifest(E);if(s.isPreviouslySigned())throw new Hr.ZipError("Package was previously signed. Will not sign new package");const d=yield s.generateSignatureFile(E),u=(0,La.formatAlias)(ht(this,xt,"f"));s.addFileToZip(new Blob([e]),"META-INF/MANIFEST.MF"),s.addFileToZip(new Blob([d]),`META-INF/${u}.SF`);const{util:x}=yield Promise.resolve().then(()=>Xr()),{SignString:I}=yield Promise.resolve().then(()=>Yi()),m=x.decode64(C),i=I(d,m,ht(this,mt,"f"),ht(this,xt,"f"));return s.addFileToZip(i,`META-INF/${u}.RSA`,!0),"data:application/zip;base64,"+(yield s.exportZipAsBase64())})}}jt.PackageSigner=Ua;mt=new WeakMap,xt=new WeakMap,Ct=new WeakMap;(function(a){var t=Te&&Te.__createBinding||(Object.create?function(E,C,c,s){s===void 0&&(s=c),Object.defineProperty(E,s,{enumerable:!0,get:function(){return C[c]}})}:function(E,C,c,s){s===void 0&&(s=c),E[s]=C[c]}),r=Te&&Te.__exportStar||function(E,C){for(var c in E)c!=="default"&&!Object.prototype.hasOwnProperty.call(C,c)&&t(C,E,c)};Object.defineProperty(a,"__esModule",{value:!0}),r(jt,a)})(xn);window.PackageSigner=xn.PackageSigner;
